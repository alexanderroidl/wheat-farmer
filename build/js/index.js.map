{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/base/browser.ts","src/ts/base/camera.ts","src/ts/base/game.ts","src/ts/base/inventory.ts","src/ts/base/player.ts","src/ts/base/world.ts","src/ts/core/bit-math.ts","src/ts/core/easings.ts","src/ts/core/game-loop.ts","src/ts/core/renderer.ts","src/ts/core/util.ts","src/ts/core/vector.ts","src/ts/entities/enemies/robot.ts","src/ts/index.ts","src/ts/tiles/empty.ts","src/ts/tiles/tile.ts","src/ts/tiles/wheat.ts","src/ts/title-screen/title-screen-load.ts","src/ts/title-screen/title-screen-logo-slide.ts","src/ts/title-screen/title-screen.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import World from \"./world\";\nimport Camera from \"./camera\";\nimport Renderer from \"../core/renderer\";\nimport Vector from \"../core/vector\";\nimport BitMath from \"../core/bit-math\";\n\nexport default class Browser {\n    private _statsDisplay: HTMLDivElement = document.createElement('div');\n\n    private _mouseDown: boolean = false;\n    private _mousePos: Vector = new Vector(0, 0);\n\n    private _oldWindowWidth: number = window.innerWidth;\n    private _oldWindowHeight: number = window.innerHeight;\n\n    get mouseDown (): boolean {\n        return this._mouseDown;\n    }\n\n    get mousePos (): Vector {\n        return this._mousePos;\n    }\n\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    public onScroll = (delta: number): void => {};\n    public onMouseDown = (pos: Vector): void => {};\n    public onMouseUp = (pos: Vector): void => {};\n    public onMouseMove = (pos: Vector): void => {};\n    public onMouseDrag = (pos: Vector): void => {};\n    public onMouseClick = (pos: Vector): void => {};\n    public onResize = (width: number, height: number, oldWidth: number, oldHeight: number): void => {};\n    /* eslint-enable @typescript-eslint/no-empty-function */\n\n    constructor () {\n        this.setupDOM();\n        this.setupEvents();\n    }\n\n    private setupDOM (): void {\n        // Stats display\n        this._statsDisplay.classList.add('gui');\n        this._statsDisplay.classList.add('stats-display');\n\n        // Add everything to DOM\n        document.body.append(this._statsDisplay);\n    }\n\n    private setupEvents (): void {\n        // The flag that determines whether the wheel event is supported\n        let supportsWheel = false;\n\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        // The function that will run when the events are triggered\n        const wheelHandler = (e: any) => {\n            if (e.type == 'wheel') supportsWheel = true;\n            else if (supportsWheel) return;\n\n            const delta = ((e.deltaY || -e.wheelDelta || e.detail) >> 10) || 1;\n            this.onScroll(delta);\n        }\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n\n        // Add the event listeners for each event.\n        document.addEventListener('wheel', wheelHandler);\n        document.addEventListener('mousewheel', wheelHandler);\n        document.addEventListener('DOMMouseScroll', wheelHandler);\n        document.addEventListener('mousedown', (e) => {\n            this._mouseDown = true;\n            this.onMouseDown(new Vector(e.screenX, e.screenY));\n        });\n\n        document.addEventListener('mouseup', (e) => {\n            this._mouseDown = false;\n            this.onMouseUp(new Vector(e.screenX, e.screenY));\n        });\n\n        document.addEventListener('mousemove', (e) => {\n            this._mousePos.x = e.clientX;\n            this._mousePos.y = e.clientY;\n\n            this.onMouseMove(new Vector(e.clientX, e.clientY));\n\n            if (this._mouseDown) {\n                this.onMouseDrag(new Vector(e.clientX, e.clientY));\n            }\n        });\n\n        document.addEventListener('click', (e) => {\n            this.onMouseClick(this._mousePos);\n        });\n\n        window.addEventListener('load', () => {\n            this._oldWindowWidth = window.innerWidth;\n        });\n\n        window.addEventListener('resize', () => {\n            this.onResize(window.innerWidth, window.innerHeight, this._oldWindowWidth, this._oldWindowHeight);\n\n            this._oldWindowWidth = window.innerWidth;\n            this._oldWindowHeight = window.innerHeight;\n        });\n    }\n\n    public getParameter (name: string): string | null {\n        // Source: https://stackoverflow.com/a/5448595/11379072\n\n        let result: string | null = null;\n        let tmp = [];\n\n        location.search\n            .substr(1)\n            .split(\"&\")\n            .forEach(item => {\n                tmp = item.split('=');\n\n                if (tmp[0] === name) {\n                    result = decodeURIComponent(tmp[1]);\n                }\n            });\n\n        return result;\n    }\n\n    private getWorldStatsHTML (world: World): string {\n        return `\n            <strong>Time:</strong> ${BitMath.floor((Date.now() - world.createdAt) / 1000)}s<br>\n            <strong>Seeds:</strong>: ${world.player.items.wheatSeeds}<br>\n            <strong>Wheat:</strong> ${world.player.items.opium}<br>\n            <strong>Money:</strong> ${world.player.items.money} €<br>\n        `;\n    }\n\n    private getCameraDebugHTML (camera: Camera): string {\n        return `\n            <strong>Camera:</strong><br>\n            <strong>X:</strong> ${camera.position.x.toFixed(3)}<br>\n            <strong>Y:</strong> ${camera.position.y.toFixed(3)}<br>\n            <strong>Zoom:</strong> ${camera.zoomAmount.toFixed(3)}\n\n        `;\n    }\n\n    private getMouseDebugHTML (camera: Camera): string {\n        const worldPos = camera.worldPosFromScreen(this._mousePos);\n\n        return `\n            <strong>Mouse${(this._mouseDown ? ' (down)' : '')}:</strong><br>\n            <strong>X:</strong> ${this._mousePos.x}<br>\n            <strong>Y:</strong> ${this._mousePos.y}<br>\n            <strong>World X:</strong> ${worldPos.x.toFixed(3)}<br>\n            <strong>World Y:</strong> ${worldPos.y.toFixed(3)}\n        `;\n    }\n\n    private getRendererDebugHTML (renderer: Renderer): string {\n        const camera = renderer.camera;\n\n        const xStart = BitMath.floor(camera.position.x / (renderer.SQUARE_SIZE * camera.zoomAmount));\n        const xEnd = Math.ceil((camera.position.x + window.innerWidth) / (renderer.SQUARE_SIZE * camera.zoomAmount));\n        const yStart = BitMath.floor(camera.position.y / (renderer.SQUARE_SIZE * camera.zoomAmount));\n        const yEnd = Math.ceil((camera.position.y + window.innerHeight) / (renderer.SQUARE_SIZE * camera.zoomAmount));\n\n        return `\n            <strong>Renderer:</strong><br>\n            <strong>X-start:</strong> ${xStart}<br> \n            <strong>X-end:</strong> ${xEnd}<br>\n            <strong>Y-start:</strong> ${yStart}<br>\n            <strong>Y-end:</strong> ${yEnd}\n        `\n    }\n\n    private getMiscDebugHTML (world: World): string {\n        return `\n            <strong>Tiles/Min:</strong> ${world.tilesPlantedPerMin}\n        `;\n    }\n\n    public renderStats (world: World): void {\n        this._statsDisplay.innerHTML = `<div class=\"gui-item\">${this.getWorldStatsHTML(world)}</div>`;\n    }\n\n    public renderDebug (camera: Camera, renderer: Renderer, world: World): void {\n        const debugHTMLParts = [\n            this.getWorldStatsHTML(world),\n            this.getCameraDebugHTML(camera),\n            this.getMouseDebugHTML(camera),\n            this.getRendererDebugHTML(renderer),\n            this.getMiscDebugHTML(world)\n        ];\n\n        this._statsDisplay.innerHTML = (\n            '<div class=\"gui-item\">' + \n                debugHTMLParts.join('</div><hr><div class=\"gui-item\">') +\n            '</div>'\n        );\n    }\n}","import Vector from \"../core/vector\";\n\nexport default class Camera {\n    public readonly DEFAULT_ZOOM = 1;\n\n    private _position: Vector = new Vector(0, 0);\n    private _zoomAmount: number = this.DEFAULT_ZOOM;\n    private _worldSquareSize: number;\n\n    get position (): Vector {\n        return this._position;\n    }\n\n    get zoomAmount (): number {\n        return this._zoomAmount;\n    }\n\n    get worldSquareSize (): number {\n        return this._worldSquareSize;\n    }\n\n    constructor (worldSquareSize: number) {\n        this._worldSquareSize = worldSquareSize;\n    }\n\n    public setup (worldSize: number): void {\n        const renderedWorldSize = worldSize * this._worldSquareSize * this._zoomAmount;\n\n        this._position = new Vector(\n            -window.innerWidth / 2 + renderedWorldSize / 2,\n            -window.innerHeight / 2 + renderedWorldSize / 2\n        );\n    }\n\n    public move (x: number, y: number): void {\n        this._position = this._position.add(x, y);\n    }\n\n    public zoom (zoom: number): void {\n        if (this._zoomAmount + zoom < 0.2) {\n            this._zoomAmount = 0.2;\n            return;\n        }\n\n        const halfWindowSize = new Vector(window.innerWidth / 2, window.innerHeight / 2);\n\n        const oldPos = this.worldPosFromScreen(halfWindowSize);\n        this._zoomAmount += zoom;\n\n        const newPos = this.worldPosFromScreen(halfWindowSize);\n        this.move(-(newPos.x - oldPos.x) *  this.worldSquareSize * this.zoomAmount, -(newPos.y - oldPos.y) *  this.worldSquareSize * this.zoomAmount);\n    }\n\n    public worldPosFromScreen (screenPos: Vector): Vector {\n        return new Vector(\n            (screenPos.x + this.position.x) / this.worldSquareSize / this._zoomAmount,\n            (screenPos.y + this.position.y) / this.worldSquareSize / this._zoomAmount\n        );\n    }\n}","import GameLoop from \"../core/game-loop\";\nimport Browser from \"./browser\";\nimport World from \"./world\";\nimport Renderer from \"../core/renderer\";\nimport Vector from \"../core/vector\";\n\nexport default class Game {\n    private static readonly MOUSE_MOVE_TRESHOLD = 10;\n    private static _instance: Game;\n\n    private loop: GameLoop = new GameLoop();\n    private renderer: Renderer = new Renderer();\n    private world: World = new World();\n    private browser: Browser = new Browser();\n\n    private _mouseDown: boolean = false;\n    private _lastClickAt: number = Date.now();\n\n    public static get instance (): Game {\n        if (!Game._instance) {\n            Game._instance = new Game();\n        }\n    \n        return Game._instance;\n    }\n\n    constructor () {\n        this.setupLoop();\n        this.setupMouse();\n        this.setupWindow();\n\n        this.renderer.camera.setup(this.world.SIZE);\n    }\n\n    private setupMouse (): void {\n        this.browser.onScroll = (delta: number) => {\n            this.renderer.camera.zoom(-delta / 5)\n        }\n\n        this.browser.onMouseDown = (pos: Vector) => {\n            this._mouseDown = true;\n        }\n\n        this.browser.onMouseUp = (pos: Vector) => {\n            this._mouseDown = false;\n        }\n\n        this.browser.onMouseMove = (pos: Vector) => {\n            this.renderer.mousePos = new Vector(pos.x, pos.y);\n        }\n\n        this.browser.onMouseClick = (pos: Vector) => {\n            if (!this.renderer.titleScreen.hidden) {\n                this.renderer.titleScreen.onClick(pos);\n                this._lastClickAt = Date.now();\n                return;\n            }\n\n            const worldPos = this.renderer.camera.worldPosFromScreen(pos);\n            this.world.onTileClicked(worldPos.floor());\n        };\n    }\n\n    private setupWindow (): void {\n        this.browser.onResize = (width: number, height: number, oldWidth: number, oldHeight: number) => {\n            const deltaW = oldWidth - width;\n            const deltaH = oldHeight - height;\n\n            this.renderer.camera.move(\n                deltaW/2,\n                deltaH/2\n            );\n        };\n    }\n\n    private setupLoop (): void {\n        this.loop.fps = 30;\n        this.loop.update = (delta: number) => {\n            if (this.renderer.titleScreen.hidden) {\n                this.world.update(delta);\n            }\n\n            if (this._mouseDown) {\n                if ((Date.now() - this._lastClickAt) > 250) {\n                    const worldPos = this.renderer.camera.worldPosFromScreen(this.renderer.mousePos);\n                    this.world.onTileClicked(worldPos.floor());\n    \n                    this._lastClickAt = Date.now();\n                }\n            }\n        };\n\n        this.loop.render = (interpolation: number) => {\n            this.renderer.render(this.world);\n\n            if (this.renderer.titleScreen.hidden) {\n                if (this.browser.getParameter('debug')) {\n                    this.browser.renderDebug(this.renderer.camera, this.renderer, this.world);\n                } else {\n                    this.browser.renderStats(this.world);\n                }\n            }\n        };\n\n        this.loop.start();\n    }\n}","export default class Inventory {\n    public wheatSeeds: number = 0;\n    public opium: number = 0;\n    public money: number = 0;\n}","import Inventory from \"./inventory\";\n\nexport default class Player {\n    public readonly items: Inventory = new Inventory();\n\n    constructor () {\n        this.items.wheatSeeds = 50;\n    }\n}","import EmptyTile from '../tiles/empty';\nimport WheatTile from '../tiles/wheat';\nimport Player from \"./player\";\nimport EntityInterface from '../interfaces/entity-interface';\nimport RobotEntity from '../entities/enemies/robot';\nimport Vector from '../core/vector';\nimport Easings from \"../core/easings\";\nimport Tile from '../tiles/tile';\nimport BitMath from '../core/bit-math';\n\nexport default class World {\n    public readonly SIZE: number = 20   ; // 20x20 world siz\n    public readonly CENTER: Vector = new Vector(this.SIZE/2, this.SIZE/2).floor();\n\n    private _tiles: Tile[][];\n    private _createdAt: number = Date.now();\n    private _player: Player = new Player();\n    private _entities: EntityInterface[] = [];\n    private _plantedTilesPerMin: number[] = [];\n    private _enemyGroupsPerMin: number[] = [];\n\n    get tiles (): Tile[][] {\n        return this._tiles;\n    }\n\n    get createdAt (): number {\n        return this._createdAt;\n    }\n\n    get player (): Player {\n        return this._player;\n    }\n\n    get entities (): EntityInterface[] {\n        return this._entities;\n    }\n\n    get tilesPlantedPerMin (): number {\n        return this._plantedTilesPerMin.length;\n    }\n\n    get enemyGroupsPerMin (): number {\n        return this._enemyGroupsPerMin.length;\n    }\n\n    constructor () {\n        this._tiles = Array(this.SIZE).fill([]).map(() => {\n            return Array(this.SIZE).fill([]).map(() => new EmptyTile());\n        });\n    }\n\n    public isValidTilePos (x: number, y: number): boolean {\n        return this._tiles[y] != null && this._tiles[y][x] != null;\n    }\n\n    public onTileClicked (pos: Vector): void {\n        if (!this.isValidTilePos(pos.x, pos.y)) {\n            return;\n        }\n\n        let newTile: Tile | null = null;\n        const tile = this._tiles[pos.y][pos.x];\n\n        tile.onClicked();\n\n        // Clicked tile is empty\n        if (tile instanceof EmptyTile) {\n            // Player has remaining seeds\n            if (this._player.items.wheatSeeds > 0) {\n                this._player.items.wheatSeeds--;\n\n                // Replace with wheat tile\n                newTile = new WheatTile();\n            }\n        }\n\n        // Clicked tile is wheat\n        if (tile instanceof WheatTile) {\n            // Wheat is fully grown\n            if (tile.growthState >= 1) {\n                let seedDrops: number | null = null;\n\n                // If player has no seeds left, always drop\n                while (seedDrops === null || this._player.items.wheatSeeds + seedDrops === 0) {\n                    seedDrops = tile.dropSeeds()\n                }\n                \n                this._player.items.wheatSeeds += seedDrops;\n                this._player.items.opium += 1;\n\n                // Replace with empty tile\n                newTile = new EmptyTile();\n            }\n        }\n\n        // New tile was created\n        if (newTile !== null) {\n            // Set damage of new tile to damage of old tile\n            newTile.damage = tile.damage;\n\n            // Update world\n            this._tiles[pos.y][pos.x] = newTile;\n\n            // Created tile is not empty\n            if (!(newTile instanceof EmptyTile)) {\n                this._plantedTilesPerMin.push(newTile.timeCreated);\n            }\n        }\n    }\n\n    public getSurroundingTileCoords (v: Vector, radius: number = 1, includeSelf: boolean = true): Vector[] {\n        const tiles: Vector[] = [];\n\n        for (let y = v.y - Math.ceil(radius); y <= v.y + Math.ceil(radius); y++) {\n            if (!this._tiles[y]) {\n                continue;\n            }\n\n            for (let x = v.x - Math.ceil(radius); x <= v.x + Math.ceil(radius); x++) {\n                if (!this._tiles[y][x] || \n                    (x === v.x && y === v.y && !includeSelf) ||\n                    new Vector(v.x - x, v.y - y).length > Math.ceil(radius)) {\n                    continue;\n                }\n\n                tiles.push(new Vector(x, y));\n            }\n        }\n\n        return tiles;\n    }\n\n    public getRandomOutsidePos (): Vector {\n        // Make spawn radius twice the game area's diameter\n        const spawnRadius = this.CENTER.length * 3;\n\n        // Set position randomly around the game area\n        return new Vector(spawnRadius, 0)\n            .rotate(Math.random() * 360)\n            .add(this.CENTER.x, this.CENTER.y);\n    }\n\n    /**\n     * Spawns a robot\n     * \n     * TODO: Make generic\n     * \n     * @param [pos] - Position to spawn enemy at (Randomly computed if not given)\n     * @param randomShift - Vector to randomly shift position by\n     */\n    public spawnEnemy (pos: Vector | null = null, randomShift?: Vector): EntityInterface {\n        // No position given\n        if (pos === null) {\n            pos = this.getRandomOutsidePos();\n        }\n\n        if (randomShift) {\n            const shiftVector = new Vector(\n                Math.random() * randomShift.x,\n                Math.random() * randomShift.y\n            ).rotate(Math.random() * 360);\n\n            pos = pos.add(shiftVector.x, shiftVector.y);\n        }\n\n        const enemy = new RobotEntity(pos.x, pos.y);        \n        this._entities.push(enemy);\n        \n        return enemy;\n    }\n\n    public update (delta: number): void {\n        // Remove old planted tiles\n        this._plantedTilesPerMin = this._plantedTilesPerMin.filter((timeCreated: number) => {\n            return (Date.now() - timeCreated) < 60 * 1000;\n        });\n\n        // Remove old enemy groups \n        this._enemyGroupsPerMin = this._enemyGroupsPerMin.filter((timeCreated: number) => {\n            return (Date.now() - timeCreated) < 60 * 1000;\n        });\n\n        // Iterate through world\n        for (let y = 0; y < this._tiles.length; y++) {\n            for (let x = 0; x < this._tiles[y].length; x++) {\n                // Reduce tile damage based off total heal time\n                this._tiles[y][x].damage -= delta / Tile.DAMAGE_HEAL_TIME;\n            }\n        }\n\n        // Start spawning enemies at more than 50 planted tiles/min\n        // Add an extra enemy for every additional 25 planted tiles/min\n        const enemieGroups = Math.ceil((this.tilesPlantedPerMin - 40) / 10);\n        if (enemieGroups > 0) {\n            // Calculate spawnable enemie groups\n            const spawnableGroupCount = enemieGroups - this.enemyGroupsPerMin;\n\n            if (spawnableGroupCount > 0) {\n                // Create each spawnable enemie group\n                for (let groupIndex = 0; groupIndex < spawnableGroupCount; groupIndex++) {\n                    // Determine random group size\n                    const groupSize = BitMath.floor(Math.random() * 3) + 1;\n                    const spawnPos = this.getRandomOutsidePos();\n\n                    // Create each enemy for set group size\n                    for (let enemyIndex = 0; enemyIndex < groupSize; enemyIndex++) {\n                        const enemy = this.spawnEnemy(spawnPos, new Vector(Math.random() * 3, Math.random() * 3));\n\n                        // Assign random world coordinates as target for spawned enemie\n                        enemy.target =  new Vector(Math.random() * this.SIZE, Math.random() * this.SIZE).floor();\n                    }\n\n                    // Push time enemy group was created at\n                    this._enemyGroupsPerMin.push(Date.now());\n                }\n            }\n        }\n\n        // Iterate existing entities\n        for (const entity of this.entities) {\n            if (entity instanceof RobotEntity) {\n                // Robot is exploding\n                if (entity.hasExploded) {\n                    // Remove this entity from list\n                    this._entities = this._entities.filter((v) => v != entity);\n\n                    const MAX_EXPLOSION_RADIUS = 2;\n\n                    const entityWorldPos = entity.position.floor();\n\n                    // Get coordinates for surrounding tiles\n                    const radius = BitMath.floor(Math.random() * (MAX_EXPLOSION_RADIUS + 1))\n                    const surroundingTileCoords = this.getSurroundingTileCoords(\n                        entityWorldPos, \n                        radius\n                    );\n\n                    // Iterate through surrounding tile coordinates\n                    for (const tilePos of surroundingTileCoords) {\n                        // Calculate distance to surrounding tile\n                        const distance = \n                            tilePos\n                                .add(0.5, 0.5)\n                                .add(\n                                    -(entityWorldPos.x + 0.5), \n                                    -(entityWorldPos.y + 0.5)\n                                ).length;\n\n                        // Calculate damage and restrict to values between 0-1\n                        const damage = 1 - (distance / (MAX_EXPLOSION_RADIUS + 1));\n\n                        const tileDestroyed = Math.random() * MAX_EXPLOSION_RADIUS/(distance + 1) > 0.5;\n                        const existingTile = this._tiles[tilePos.y][tilePos.x];\n\n                        if (tileDestroyed) {\n                            const emptyTile = new EmptyTile();\n\n                            // Add existing damage to new tile\n                            emptyTile.damage = existingTile.damage + damage;\n    \n                            // Update world for tile\n                            this._tiles[tilePos.y][tilePos.x] = emptyTile;\n                        } else {\n                            existingTile.damage = existingTile.damage + damage;\n                        }\n                    }\n                }\n            }\n\n            // Move entity to target\n            if (entity.target !== null) {\n                if (!entity.isMoving) {\n                    entity.isMoving = true;\n                    entity.initialPosition = new Vector(entity.position.x, entity.position.y);\n                }\n    \n                let entitySpeed = entity.speed * (delta/1000);\n                let distance = new Vector(entity.target.x - entity.position.x, entity.target.y - entity.position.y).length;\n    \n                if (distance > 0 && entity.initialPosition) {\n                    const initialDistance = new Vector(entity.target.x - entity.initialPosition.x, entity.target.y - entity.initialPosition.y).length;\n                    const distanceProgress = distance/initialDistance;\n    \n                    entitySpeed = entitySpeed * (1 + 2 * Easings.easeInOutQuart(1 - distanceProgress));\n                }\n    \n                if (distance <= entitySpeed) {\n                    distance = entitySpeed;\n                }\n    \n                entity.position.x += entitySpeed * (entity.target.x - entity.position.x) / distance;\n                entity.position.y += entitySpeed *(entity.target.y - entity.position.y) / distance;\n    \n                if (entity.position.x === entity.target.x && entity.position.y === entity.target.y) {\n                    if (entity instanceof RobotEntity) {\n                        entity.explode();\n                    }\n    \n                    entity.target = null;\n                    entity.isMoving = false;\n                    entity.initialPosition = null;\n                }\n            }\n        }\n    }\n}","export default class BitMath {\n    public static floor (n: number): number {\n      return n << 0\n    }\n    \n    public static round (n: number): number {\n      return (0.5 + n) << 0\n    }\n  \n    public static abs (n: number): number {\n      return (n ^ (n >> 31)) - (n >> 31)\n    }\n}","/**\n * Source: https://easings.net/\n */\n\nexport default class Easings {\n    public static easeInCubic(x: number): number {\n        return x * x * x;\n    }\n\n    public static easeInOutQuart (x: number): number {\n        return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2;\n    }\n}","class GameLoop {\n    public simulationStep = 1000 / 60;\n    public frameDelta = 0;\n    public lastFrameTimeMs = 0;\n    public fps = 60;\n    public lastFpsUpdate = 0;\n    public framesThisSecond = 0;\n    public numUpdateSteps = 0;\n    public minFrameDelay = 0;\n    public running = false;\n    public started = false;\n    public panic = false;\n    public rafHandle?: number;\n\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    public begin = (time: number, delta: number): void => {};\n    public end = (fps: number, panic: boolean): void => {};\n    public update = (delta: number): void => {};\n    public render = (interpolation: number): void => {};\n    /* eslint-enable @typescript-eslint/no-empty-function */\n\n    constructor() {\n        this.animate = this.animate.bind(this);\n    }\n\n    get maxAllowedFps(): number {\n        return 1000 / this.minFrameDelay;\n    }\n\n    set maxAllowedFps (fps: number) {\n        if (fps == null) {\n            fps = Infinity;\n        }\n        \n        if (fps === 0) {\n            this.stop();\n        } else {\n            this.minFrameDelay = 1000 / fps;\n        }\n    }\n\n    public resetFrameDelta (): number {\n        const frameDelta = this.frameDelta;\n        this.frameDelta = 0;\n        return frameDelta;\n    }\n\n    public start (): void {\n        if (this.started) {\n            return;\n        }\n        \n        this.started = true;\n        this.rafHandle = requestAnimationFrame((timestamp) => {\n            this.render(1);\n            this.running = true;\n            this.lastFrameTimeMs = timestamp;\n            this.lastFpsUpdate = timestamp;\n            this.framesThisSecond = 0;\n            this.rafHandle = requestAnimationFrame(this.animate);\n        })\n    }\n\n    public stop (): void {\n        this.running = false;\n        this.started = false;\n\n        if (this.rafHandle) {\n            cancelAnimationFrame(this.rafHandle);\n        }\n    }\n\n    public animate (time: number): void {\n        this.rafHandle = requestAnimationFrame(this.animate);\n        if (time < this.lastFrameTimeMs + this.minFrameDelay) {\n            return;\n        }\n\n        this.frameDelta += time - this.lastFrameTimeMs;\n        this.lastFrameTimeMs = time;\n\n        this.begin(time, this.frameDelta);\n\n        if (time > this.lastFpsUpdate + 1000) {\n            this.fps = 0.25 * this.framesThisSecond + 0.75 * this.fps;\n            this.lastFpsUpdate = time;\n            this.framesThisSecond = 0;\n        }\n        ++this.framesThisSecond;\n\n        this.numUpdateSteps = 0;\n        while (this.frameDelta >= this.simulationStep) {\n            this.update(this.simulationStep);\n            this.frameDelta -= this.simulationStep;\n\n            if (++this.numUpdateSteps >= 240) {\n                this.panic = true;\n                break;\n            }\n        }\n\n        this.render(this.frameDelta / this.simulationStep);\n        this.end(this.fps, this.panic);\n\n        this.panic = false;\n    }\n}\n\nexport default GameLoop;","import World from \"../base/world\";\nimport Camera from \"../base/camera\";\nimport EmptyTile from \"../tiles/empty\";\nimport Util from \"./util\";\nimport Vector from \"./vector\";\nimport TitleScreen from \"../title-screen/title-screen\";\nimport BitMath from \"./bit-math\";\n\nexport default class Renderer {\n    public readonly FONT_SIZE = 12;\n    public readonly FONT_EMOJI_SIZE = 16;\n    public readonly SQUARE_SIZE = 32;\n\n    private _canvas: HTMLCanvasElement = document.createElement('canvas');\n    public readonly camera: Camera = new Camera(this.SQUARE_SIZE);\n    public readonly titleScreen: TitleScreen = new TitleScreen();\n\n    public mousePos: Vector = new Vector(0, 0);\n\n    get width (): number {\n        return this._canvas.width;\n    }\n\n    get height (): number {\n        return this._canvas.height;\n    }\n\n    get z (): number {\n        return this.camera.zoomAmount;\n    }\n\n    constructor () {\n        this.setupCanvas();\n    }\n\n    private setupCanvas (): void {\n        this.setToWindowSize();\n\n        window.addEventListener('load', (e) => {\n            this.setToWindowSize();\n        });\n\n        window.addEventListener('resize', (e) => {\n            this.setToWindowSize();\n        });\n\n        document.body.append(this._canvas);\n    }\n\n    private setToWindowSize (): void {\n        this._canvas.width = window.innerWidth;\n        this._canvas.height = window.innerHeight;\n    }\n\n    public paintChar (ctx: CanvasRenderingContext2D, char: string, charColor: string, x: number, y: number, isHover: boolean): void {\n        if (isHover) {\n            ctx.shadowColor = \"white\";\n            ctx.shadowOffsetX = 0;\n            ctx.shadowOffsetY = 0;\n            ctx.shadowBlur = BitMath.floor(5 * this.z);\n        }\n\n        let fontSize = this.FONT_SIZE;\n        let fontFamily = \"Courier New\";\n\n        // Isn't alphanumeric -> must be emoji\n        if (!Util.isAlphaNumeric(char)) {\n            fontSize = this.FONT_EMOJI_SIZE;\n            fontFamily = \"OpenMoji\";\n        }\n\n        const textDrawPos = new Vector(\n            (this.SQUARE_SIZE * x + this.SQUARE_SIZE / 2) * this.z - this.camera.position.x,\n            (this.SQUARE_SIZE * y + this.SQUARE_SIZE / 2) * this.z - this.camera.position.y\n        );\n\n        const fontDrawSize = BitMath.floor(fontSize * this.z);\n\n        ctx.fillStyle = charColor;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = 'middle';\n        ctx.font = `${fontDrawSize}px \"${fontFamily}\"`;\n        ctx.fillText(char, BitMath.floor(textDrawPos.x), BitMath.floor(textDrawPos.y)); \n\n        ctx.shadowBlur = 0;\n    }\n\n    public paintSquare (ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean, fillStyle: string, opacity: number = 1, char?: string | null, charColor?: string | null): void {\n        const zoom = this.camera.zoomAmount;\n\n        ctx.globalAlpha = opacity;\n        ctx.fillStyle = fillStyle;\n        ctx.fillRect(\n            this.SQUARE_SIZE * x * zoom - this.camera.position.x, \n            this.SQUARE_SIZE * y * zoom - this.camera.position.y, \n            this.SQUARE_SIZE * zoom, \n            this.SQUARE_SIZE * zoom\n        );\n\n        if (char) {\n            const charFillStyle = charColor ? charColor : 'white';\n            this.paintChar(ctx, char, charFillStyle, x, y, isHover);\n        }\n    }\n\n    public outlineSquare (ctx: CanvasRenderingContext2D, x: number, y: number, borderWidth: number = 1): void {\n        ctx.strokeStyle = 'white';\n        ctx.lineWidth = borderWidth * this.z;\n        ctx.strokeRect(\n            (this.SQUARE_SIZE * x + borderWidth / 2) * this.z - this.camera.position.x, \n            (this.SQUARE_SIZE * y + borderWidth / 2) * this.z - this.camera.position.y, \n            (this.SQUARE_SIZE - borderWidth) * this.z, \n            (this.SQUARE_SIZE - borderWidth) * this.z\n        );\n    }\n\n    public paintProgressBar (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, progress: number, color: string = 'green'): void {\n        ctx.globalAlpha = 0.65;\n\n        ctx.fillStyle = 'white';\n        ctx.fillRect(\n            this.SQUARE_SIZE * x * this.z - this.camera.position.x, \n            this.SQUARE_SIZE * y * this.z - this.camera.position.y, \n            this.SQUARE_SIZE * width * this.z, \n            this.SQUARE_SIZE * height * this.z\n        );\n\n        ctx.fillStyle = color;\n        ctx.fillRect(\n            (this.SQUARE_SIZE * x + 1) * this.z - this.camera.position.x, \n            (this.SQUARE_SIZE * y + 1) * this.z - this.camera.position.y, \n            (this.SQUARE_SIZE * width - 2) * this.z * progress, \n            (this.SQUARE_SIZE * height - 2) * this.z\n        );\n\n        ctx.globalAlpha = 1;\n    }\n\n    public render (world: World): void {\n        const ctx = this._canvas.getContext('2d');\n        if (!ctx) {\n            return;\n        }\n\n        const mouseWorldPos = this.camera.worldPosFromScreen(this.mousePos);\n\n        ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n\n        const xStart = Math.floor(this.camera.position.x / (this.SQUARE_SIZE * this.camera.zoomAmount));\n        const xEnd = Math.ceil((this.camera.position.x + window.innerWidth) / (this.SQUARE_SIZE * this.camera.zoomAmount));\n        const yStart = Math.floor(this.camera.position.y / (this.SQUARE_SIZE * this.camera.zoomAmount));\n        const yEnd = Math.ceil((this.camera.position.y + window.innerHeight) / (this.SQUARE_SIZE * this.camera.zoomAmount));\n\n        // Draw empty squares around world\n        for (let y = yStart; y < yEnd; y++) {\n            for (let x = xStart; x < xEnd; x++) {\n                this.paintSquare(ctx, x, y, false, Util.lightenDarkenColor(EmptyTile.COLOR, 8));\n            }\n        }\n\n        // Draw world itself\n        for (let y = 0; y < world.tiles.length; y++) {\n            for (let x = 0; x < world.tiles[y].length; x++) {\n                ctx.globalAlpha = 1;\n\n                const isHover = BitMath.floor(mouseWorldPos.x) === x && BitMath.floor(mouseWorldPos.y)  === y;\n\n                const tile = world.tiles[y][x];\n                tile.render(this, ctx, x, y, isHover);\n\n                if (isHover) {\n                    this.outlineSquare(ctx, x, y);\n                }\n\n                tile.renderLatest(this, ctx, x, y, isHover);\n            }\n        }\n\n        // Draw entities\n        for (const entity of world.entities) {\n            this.paintChar(ctx, entity.getChar(), 'white', entity.position.x, entity.position.y, false);\n        }\n\n        // Draw title screen\n        this.titleScreen.render(this, ctx);\n    }\n}","export default class Util {\n    private static alphaNumericRegExp = new RegExp(\"[\\\\w ]+\");\n\n  public static isAlphaNumeric (text: string): boolean {\n      return Util.alphaNumericRegExp.test(text);\n  }\n\n  public static leadZeros (value: number | string, size: number): number | string {\n    value = value.toString();\n\n    while (value.length < size) {\n      value = '0' + value;\n    }\n    return value;\n  }\n\n  public static mixColors (color1: string, color2: string, percent: number): string {\n    const red1 = parseInt(color1[1] + color1[2], 16);\n    const green1 = parseInt(color1[3] + color1[4], 16);\n    const blue1 = parseInt(color1[5] + color1[6], 16);\n  \n    const red2 = parseInt(color2[1] + color2[2], 16);\n    const green2 = parseInt(color2[3] + color2[4], 16);\n    const blue2 = parseInt(color2[5] + color2[6], 16);\n  \n    const red = Math.round(Util.mix(red1, red2, percent));\n    const green = Math.round(Util.mix(green1, green2, percent));\n    const blue = Math.round(Util.mix(blue1, blue2, percent));\n  \n    return Util.generateHexFromRGB(red, green, blue);\n  }\n  \n  private static generateHexFromRGB (r: number, g: number, b: number) {\n    let rs = r.toString(16);\n    let gs = g.toString(16);\n    let bs = b.toString(16);\n  \n    while (rs.length < 2) { rs = \"0\" + rs; }\n    while (gs.length < 2) { gs = \"0\" + gs; }\n    while (bs.length < 2) { bs = \"0\" + bs; }\n  \n    return \"#\" + rs + gs + bs;\n  }\n  \n  private static mix (start: number, end: number, percent: number) {\n      return start + ((percent) * (end - start));\n  }\n\n  public static lightenDarkenColor (color: string, amount: number): string {\n        let usePound = false;\n\n        if (color[0] == \"#\") {\n            color = color.slice(1);\n            usePound = true;\n        }\n\n        const num = parseInt(color, 16);\n\n        let r = (num >> 16) + amount;\n\n        if (r > 255) r = 255;\n        else if (r < 0) r = 0;\n\n        let b = ((num >> 8) & 0x00FF) + amount;\n\n        if (b > 255) b = 255;\n        else if  (b < 0) b = 0;\n\n        let g = (num & 0x0000FF) + amount;\n\n        if (g > 255) g = 255;\n        else if  (g < 0) g = 0;\n\n        return (usePound ? \"#\" : \"\") + (g | (b << 8) | (r << 16)).toString(16);\n    }\n}","import BitMath from \"./bit-math\";\n\nexport default class Vector {\n    public x: number;\n    public y: number;\n\n    /**\n     * Retrieve total length\n     * \n     * @returns Total length\n     */\n    get length (): number {\n        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n\n    /**\n     * Constructor\n     * \n     * @param x - Initial x coordinate\n     * @param y - Initial y coordinate\n     */\n    constructor (x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n\n    /**\n     * Add to coordinates\n     * \n     * @param x - Added to x coordinate\n     * @param y - Added to y coordinate\n     * @returns Vector with added coordinates\n     */\n    public add (x: number, y: number): Vector {\n        return new Vector(this.x + x, this.y + y)\n    }\n\n    /**\n     * Round off coordinates\n     * \n     * @returns Vector with rounded off coordinates\n     */\n    public floor (): Vector {\n        return new Vector(BitMath.floor(this.x), BitMath.floor(this.y));\n    }\n\n    /**\n     * Rotate clockwise by degrees\n     * \n     * @param deg - Angle in degrees\n     * @returns Rotated vector\n     */\n    public rotate (deg: number): Vector {\n        const rad = -deg * (Math.PI/180);\n\n        const cos = Math.cos(rad);\n        const sin = Math.sin(rad);\n\n        return new Vector(\n            Math.round(10000 * (this.x * cos - this.y * sin)) / 10000, \n            Math.round(10000 * (this.x * sin + this.y * cos)) / 10000\n        );\n    }\n\n    public toString(): string {\n        return `Vector (${this.x}, ${this.y})`;\n    }\n}","import EntityInterface from \"interfaces/entity-interface\";\nimport Vector from \"../../core/vector\";\n\nexport default class RobotEntity implements EntityInterface {\n    public readonly EXPLODE_TIME = 3 * 1000;\n\n    public readonly name: string = 'Robot';\n    public readonly speed: number = 2;\n\n    public position: Vector;\n    public initialPosition: Vector | null = null;\n    public target: Vector | null = null;\n    public isHostile: boolean = true;\n    public isMoving: boolean = false;\n\n    private _explodedAt: number | null = null;\n\n    get explosionProgress (): number {\n        if (this._explodedAt === null) {\n            return 0;\n        }\n        \n        const progress = (Date.now() - this._explodedAt) / this.EXPLODE_TIME;\n        return progress > 1 ? 1 : progress;\n    }\n\n    get hasExploded (): boolean {\n        return this.explosionProgress === 1;\n    }\n\n    constructor (x: number, y: number) {\n        this.position = new Vector(x, y);\n    }\n\n    public getChar (): string {\n        if (this.explosionProgress > 0) {\n            if (this.explosionProgress <= 0.6) {\n                return '💣';\n            }\n\n            if (this.explosionProgress > 0.6 && this.explosionProgress < 0.8) {\n                return '✨';\n            }\n\n            if (this.explosionProgress > 0.8 && this.explosionProgress < 1) {\n                return '💥';\n            }\n\n            if (this.explosionProgress >= 1) {\n                return '🔥';\n            }\n        }\n\n        return '🤖';\n    }\n\n    public explode (): void {\n        this._explodedAt = Date.now();\n    }\n}","import Game from \"./base/game\";\nGame.instance;","import Tile from './tile';\nimport Renderer from '../core/renderer';\n\nexport default class EmptyTile extends Tile {\n    public static readonly COLOR = '#ebb434';\n    public name: string = \"Empty\";\n    public timeCreated: number = Date.now();\n    \n    public getChar (): string | null {\n        return 'x';\n    }\n\n    public getHexColor (): string | null {\n        return this.getDamagedHexColor(EmptyTile.COLOR);\n    }\n\n    public getCharColor (): string | null {\n        return '#666666';\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        super.renderLatest(renderer, ctx, x, y, isHover);\n    }\n}","import TileInterface from '../interfaces/tile-interface';\nimport Renderer from '../core/renderer';\nimport Util from '../core/util';\n\nexport default class Tile implements TileInterface {\n    public static readonly DAMAGE_HEAL_TIME = 60 * 1000;\n    public static readonly COLOR: string = '';\n\n    public name: string = \"\";\n    public timeCreated: number = Date.now();\n\n    private _damage: number = 0;\n\n    get damage (): number {\n        return this._damage;\n    }\n\n    set damage (amount: number) {\n        this._damage = amount > 1 ? 1 : amount < 0 ? 0 : amount;\n    }\n\n    public hasCollision (): boolean {\n        return false;\n    }\n    \n    public getChar (): string | null {\n        return 'x';\n    }\n\n    public getDamagedHexColor (color: string): string {\n        const lightenDarkenFactor = -(this.damage) * 50;\n        return Util.lightenDarkenColor(color, lightenDarkenFactor);\n    }\n\n    public getHexColor (): string | null {\n        return '#000000';\n    }\n\n    public getCharColor (): string | null {\n        return '#000000';\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    private paintSquare(renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean) {\n        const hexColor = this.getHexColor();\n        if (!hexColor) {\n            return;\n        }\n\n        renderer.paintSquare(ctx, x, y, isHover, hexColor, 1, this.getChar(), this.getCharColor());\n    }\n\n    public render (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        this.paintSquare(renderer, ctx, x, y, isHover);\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        if (isHover && this.damage > 0) {\n            renderer.paintProgressBar(ctx, x + 0.25/2, y + 0.15, 0.75, 0.15, this.damage, 'red');\n        }\n    }\n\n    public update (delta: number): void {\n        // TODO: Implement logic\n    }\n}","import Util from '../core/util';\nimport EmptyTile from './empty';\nimport Renderer from '../core/renderer';\nimport Tile from './tile';\nimport Easings from '../core/easings';\nimport BitMath from '../core/bit-math';\n\nexport default class WheatTile extends Tile {\n    public readonly GROWTH_TIME = 7.5 * 1000;\n    public readonly MIN_SEED_DROP = 0;\n    public readonly MAX_SEED_DROP = 3;\n    private readonly COLOR_GROWN = '#7dbf21';\n\n    public name: string = \"Wheat\";\n\n    get growthState (): number {\n        const growth = (Date.now() - this.timeCreated) / this.GROWTH_TIME;\n        if (growth < 1) {\n            return growth * (1 - this.damage)\n        }\n        return growth > 1 ? 1 : growth;\n    }\n\n    public getChar (): string | null {\n        let char = '🌿';\n\n        if (this.growthState < 0.4) {\n            char = '🌱';\n        }\n\n        if (this.growthState >= 1) {\n            char = '🌾';\n        }\n\n        return char;\n    }\n\n    public getCharColor (): string | null {\n        return '#ffffff';\n    }\n\n    public getHexColor (): string | null { \n        const mixAmount = Easings.easeInCubic(this.growthState);\n        const growthColor = Util.mixColors(EmptyTile.COLOR, this.COLOR_GROWN, mixAmount);\n        return this.getDamagedHexColor(growthColor);\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    public dropSeeds (): number {\n        return BitMath.floor(Math.random() * (this.MAX_SEED_DROP - this.MIN_SEED_DROP + 1)) + this.MIN_SEED_DROP;\n    }\n\n    public render (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        super.render(renderer, ctx, x, y, isHover);\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        super.renderLatest(renderer, ctx, x, y, isHover);\n\n        if (isHover && this.growthState < 1) {\n            renderer.paintProgressBar(ctx, x + 0.25/2, y + 0.7, 0.75, 0.15, this.growthState);\n        }\n    }\n}","import SlideInterface from \"../interfaces/slide-interface\";\nimport Renderer from \"../core/renderer\";\nimport Util from \"../core/util\";\nimport Vector from \"core/vector\";\n\nexport default class TitleScreenLoadSlide implements SlideInterface {\n    music: HTMLAudioElement;\n\n    constructor () {\n        this.music = new Audio('audio/210107blunt164.ogg');\n        this.music.loop = true;\n    }\n\n    render (renderer: Renderer, ctx: CanvasRenderingContext2D): void {\n        ctx.fillStyle = '#111111';\n        ctx.fillRect(0, 0, renderer.width, renderer.height);\n        \n        ctx.fillStyle = '#f3bc3c';\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = 'middle';\n        ctx.font = `${20 * 1}px \"Courier New\"`;\n\n        ctx.shadowColor = Util.lightenDarkenColor(\"#f3bc3c\", 20);\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 0;\n        ctx.shadowBlur = 7;\n        \n        ctx.fillText(\"Load\".toUpperCase().split('').join(' '), renderer.width/2, renderer.height/2);\n\n        ctx.shadowBlur = 0;\n    }\n\n    update (delta: number): void {\n        // TODO: Implement logic\n    }\n\n    onClick (pos: Vector): void {\n        if (this.music.paused) {\n            this.music.play();\n        }\n    }\n}","import SlideInterface from \"../interfaces/slide-interface\";\nimport Renderer from \"../core/renderer\";\nimport Util from \"../core/util\";\nimport Vector from \"../core/vector\";\n\nexport default class TitleScreenLogoSlide implements SlideInterface {\n\n    private _logo: string[] = [\n        ' __     __     __  __     ______     ______     ______      ______   ______     ______     __    __     ______     ______    ',\n        '/\\\\ \\\\  _ \\\\ \\\\   /\\\\ \\\\_\\\\ \\\\   /\\\\  ___\\\\   /\\\\  __ \\\\   /\\\\__  _\\\\    /\\\\  ___\\\\ /\\\\  __ \\\\   /\\\\  == \\\\   /\\\\ \"-./  \\\\   /\\\\  ___\\\\   /\\\\  == \\\\   ',\n        '\\\\ \\\\ \\\\/ \".\\\\ \\\\  \\\\ \\\\  __ \\\\  \\\\ \\\\  __\\\\   \\\\ \\\\  __ \\\\  \\\\/_/\\\\ \\\\/    \\\\ \\\\  __\\\\ \\\\ \\\\  __ \\\\  \\\\ \\\\  __<   \\\\ \\\\ \\\\-./\\\\ \\\\  \\\\ \\\\  __\\\\   \\\\ \\\\  __<   ',\n        ' \\\\ \\\\__/\".~\\\\_\\\\  \\\\ \\\\_\\\\ \\\\_\\\\  \\\\ \\\\_____\\\\  \\\\ \\\\_\\\\ \\\\_\\\\    \\\\ \\\\_\\\\     \\\\ \\\\_\\\\    \\\\ \\\\_\\\\ \\\\_\\\\  \\\\ \\\\_\\\\ \\\\_\\\\  \\\\ \\\\_\\\\ \\\\ \\\\_\\\\  \\\\ \\\\_____\\\\  \\\\ \\\\_\\\\ \\\\_\\\\ ',\n        '  \\\\/_/   \\\\/_/   \\\\/_/\\\\/_/   \\\\/_____/   \\\\/_/\\\\/_/     \\\\/_/      \\\\/_/     \\\\/_/\\\\/_/   \\\\/_/ /_/   \\\\/_/  \\\\/_/   \\\\/_____/   \\\\/_/ /_/ '\n    ];\n\n    private _description: string[] = [\n        \"Plant wheat seeds, harvest crops and sell them.\",\n        \"\",\n        \"Avoid robot attacks at all costs.\"\n    ]\n\n    render (renderer: Renderer, ctx: CanvasRenderingContext2D): void {\n        const longestLineWidth = this._logo.reduce((a: string, b: string) => {\n            return a.length > b.length ? a : b;\n        }).length;\n\n        const targetLogoWidth = 0.75;\n        let fontSize = (renderer.width / (20 * longestLineWidth) * 1.65) * targetLogoWidth;\n\n        ctx.fillStyle = '#111111';\n        ctx.fillRect(0, 0, renderer.width, renderer.height);\n        \n        ctx.fillStyle = '#f3bc3c';\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = 'middle';\n        ctx.font = `${20 * fontSize}px \"Courier New\"`;\n\n        ctx.shadowColor = Util.lightenDarkenColor(\"#f3bc3c\", 20);\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 0;\n        ctx.shadowBlur = 7;\n        \n        const yShift = Math.sin((Date.now() / 1000) % 4) * 20;\n        for (let line = 0; line < this._logo.length; line++) {\n            const lineOffset = 20 * fontSize * (line - this._logo.length);\n            ctx.fillText(this._logo[line], renderer.width/2, renderer.height/2 + lineOffset + yShift)\n        }\n\n        fontSize = 20;\n\n        ctx.textBaseline = 'top';\n        ctx.font = `${fontSize}px \"Courier New\"`;\n        \n        for (let dLine = 0; dLine < this._description.length; dLine++) {\n            const descriptionOffset = 1.5 * fontSize * (dLine + 3);\n            ctx.fillText(this._description[dLine], renderer.width/2, renderer.height/2 + descriptionOffset)\n        }\n\n        ctx.shadowBlur = 0;\n    }\n\n    update (delta: number): void {\n        // TODO: Implement logic\n    }\n\n    onClick (pos: Vector): void {\n        // TODO: Implement logic\n    }\n}","import Renderer from \"../core/renderer\";\nimport SlideInterface from \"../interfaces/slide-interface\";\nimport TitleScreenLogoSlide from \"./title-screen-logo-slide\";\nimport Vector from \"../core/vector\";\nimport TitleScreenLoadSlide from \"./title-screen-load\";\n\nexport default class TitleScreen {\n    private _hidden: boolean = false;\n    private _slideId: number = 0;\n    private _slides: SlideInterface[] = [\n        new TitleScreenLoadSlide(),\n        new TitleScreenLogoSlide()\n    ];\n    private _clickedAt: number | null = null;\n\n    get hidden (): boolean {\n        return this._hidden;\n    }\n\n    public onClick (pos: Vector): void {\n        if (this._clickedAt === null) {\n            this._clickedAt = Date.now();\n        }\n\n        this._slides[this._slideId].onClick(pos);\n\n        if (this._slideId + 1 > this._slides.length - 1) {\n            for (const slide of this._slides) {\n                if (slide instanceof TitleScreenLoadSlide) {\n                    slide.music.volume = 0.25;\n                    break;\n                }\n            }\n            this._hidden = true;\n            return;\n        }\n        \n        this._slideId++;\n    }\n\n    public update (delta: number): void {\n        if (this._slides[this._slideId]) {\n            this._slides[this._slideId].update(delta);\n        }\n    }\n    \n    public render (renderer: Renderer, ctx: CanvasRenderingContext2D): void {\n        if (this._hidden) {\n            return;\n        }\n\n        if (this._slides[this._slideId]) {\n            this._slides[this._slideId].render(renderer, ctx);\n        }\n    }\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvYmFzZS9icm93c2VyLnRzIiwic3JjL3RzL2Jhc2UvY2FtZXJhLnRzIiwic3JjL3RzL2Jhc2UvZ2FtZS50cyIsInNyYy90cy9iYXNlL2ludmVudG9yeS50cyIsInNyYy90cy9iYXNlL3BsYXllci50cyIsInNyYy90cy9iYXNlL3dvcmxkLnRzIiwic3JjL3RzL2NvcmUvYml0LW1hdGgudHMiLCJzcmMvdHMvY29yZS9lYXNpbmdzLnRzIiwic3JjL3RzL2NvcmUvZ2FtZS1sb29wLnRzIiwic3JjL3RzL2NvcmUvcmVuZGVyZXIudHMiLCJzcmMvdHMvY29yZS91dGlsLnRzIiwic3JjL3RzL2NvcmUvdmVjdG9yLnRzIiwic3JjL3RzL2VudGl0aWVzL2VuZW1pZXMvcm9ib3QudHMiLCJzcmMvdHMvaW5kZXgudHMiLCJzcmMvdHMvdGlsZXMvZW1wdHkudHMiLCJzcmMvdHMvdGlsZXMvdGlsZS50cyIsInNyYy90cy90aWxlcy93aGVhdC50cyIsInNyYy90cy90aXRsZS1zY3JlZW4vdGl0bGUtc2NyZWVuLWxvYWQudHMiLCJzcmMvdHMvdGl0bGUtc2NyZWVuL3RpdGxlLXNjcmVlbi1sb2dvLXNsaWRlLnRzIiwic3JjL3RzL3RpdGxlLXNjcmVlbi90aXRsZS1zY3JlZW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNHQSxJQUFBLFFBQUEsR0FBQSxlQUFBLENBQUEsT0FBQSxDQUFBLGdCQUFBLENBQUEsQ0FBQTs7QUFDQSxJQUFBLFVBQUEsR0FBQSxlQUFBLENBQUEsT0FBQSxDQUFBLGtCQUFBLENBQUEsQ0FBQTs7SUFFcUIsTztBQTJCakIscUJBQUE7QUFBQTs7QUExQlEsU0FBQSxhQUFBLEdBQWdDLFFBQVEsQ0FBQyxhQUFULENBQXVCLEtBQXZCLENBQWhDO0FBRUEsU0FBQSxVQUFBLEdBQXNCLEtBQXRCO0FBQ0EsU0FBQSxTQUFBLEdB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O1dBRU0sZ0JBQVEsUUFBUixFQUE0QixHQUE1QixFQUF5RDtBQUM1RCxVQUFJLEtBQUssT0FBVCxFQUFrQjtBQUNkO0FBQ0g7O0FBRUQsVUFBSSxLQUFLLE9BQUwsQ0FBYSxLQUFLLFFBQWxCLENBQUosRUFBaUM7QUFDN0IsYUFBSyxPQUFMLENBQWEsS0FBSyxRQUFsQixFQUE0QixNQUE1QixDQUFtQyxRQUFuQyxFQUE2QyxHQUE3QztBQUNIO0FBQ0o7Ozs7OztBQWhETCxPQUFBLENBQUEsT0FBQSxHQUFBLFdBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgV29ybGQgZnJvbSBcIi4vd29ybGRcIjtcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vY2FtZXJhXCI7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4uL2NvcmUvcmVuZGVyZXJcIjtcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL2NvcmUvdmVjdG9yXCI7XG5pbXBvcnQgQml0TWF0aCBmcm9tIFwiLi4vY29yZS9iaXQtbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcm93c2VyIHtcbiAgICBwcml2YXRlIF9zdGF0c0Rpc3BsYXk6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBwcml2YXRlIF9tb3VzZURvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9tb3VzZVBvczogVmVjdG9yID0gbmV3IFZlY3RvcigwLCAwKTtcblxuICAgIHByaXZhdGUgX29sZFdpbmRvd1dpZHRoOiBudW1iZXIgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBwcml2YXRlIF9vbGRXaW5kb3dIZWlnaHQ6IG51bWJlciA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgIGdldCBtb3VzZURvd24gKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VEb3duO1xuICAgIH1cblxuICAgIGdldCBtb3VzZVBvcyAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vdXNlUG9zO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuICAgIHB1YmxpYyBvblNjcm9sbCA9IChkZWx0YTogbnVtYmVyKTogdm9pZCA9PiB7fTtcbiAgICBwdWJsaWMgb25Nb3VzZURvd24gPSAocG9zOiBWZWN0b3IpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvbk1vdXNlVXAgPSAocG9zOiBWZWN0b3IpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvbk1vdXNlTW92ZSA9IChwb3M6IFZlY3Rvcik6IHZvaWQgPT4ge307XG4gICAgcHVibGljIG9uTW91c2VEcmFnID0gKHBvczogVmVjdG9yKTogdm9pZCA9PiB7fTtcbiAgICBwdWJsaWMgb25Nb3VzZUNsaWNrID0gKHBvczogVmVjdG9yKTogdm9pZCA9PiB7fTtcbiAgICBwdWJsaWMgb25SZXNpemUgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG9sZFdpZHRoOiBudW1iZXIsIG9sZEhlaWdodDogbnVtYmVyKTogdm9pZCA9PiB7fTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuXG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICB0aGlzLnNldHVwRE9NKCk7XG4gICAgICAgIHRoaXMuc2V0dXBFdmVudHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwRE9NICgpOiB2b2lkIHtcbiAgICAgICAgLy8gU3RhdHMgZGlzcGxheVxuICAgICAgICB0aGlzLl9zdGF0c0Rpc3BsYXkuY2xhc3NMaXN0LmFkZCgnZ3VpJyk7XG4gICAgICAgIHRoaXMuX3N0YXRzRGlzcGxheS5jbGFzc0xpc3QuYWRkKCdzdGF0cy1kaXNwbGF5Jyk7XG5cbiAgICAgICAgLy8gQWRkIGV2ZXJ5dGhpbmcgdG8gRE9NXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3N0YXRzRGlzcGxheSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR1cEV2ZW50cyAoKTogdm9pZCB7XG4gICAgICAgIC8vIFRoZSBmbGFnIHRoYXQgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSB3aGVlbCBldmVudCBpcyBzdXBwb3J0ZWRcbiAgICAgICAgbGV0IHN1cHBvcnRzV2hlZWwgPSBmYWxzZTtcblxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4gICAgICAgIC8vIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuIHdoZW4gdGhlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkXG4gICAgICAgIGNvbnN0IHdoZWVsSGFuZGxlciA9IChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gJ3doZWVsJykgc3VwcG9ydHNXaGVlbCA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmIChzdXBwb3J0c1doZWVsKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gKChlLmRlbHRhWSB8fCAtZS53aGVlbERlbHRhIHx8IGUuZGV0YWlsKSA+PiAxMCkgfHwgMTtcbiAgICAgICAgICAgIHRoaXMub25TY3JvbGwoZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciBlYWNoIGV2ZW50LlxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHdoZWVsSGFuZGxlcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB3aGVlbEhhbmRsZXIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Nb3VzZVNjcm9sbCcsIHdoZWVsSGFuZGxlcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlRG93bihuZXcgVmVjdG9yKGUuc2NyZWVuWCwgZS5zY3JlZW5ZKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VVcChuZXcgVmVjdG9yKGUuc2NyZWVuWCwgZS5zY3JlZW5ZKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZVBvcy54ID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgdGhpcy5fbW91c2VQb3MueSA9IGUuY2xpZW50WTtcblxuICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShuZXcgVmVjdG9yKGUuY2xpZW50WCwgZS5jbGllbnRZKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VEcmFnKG5ldyBWZWN0b3IoZS5jbGllbnRYLCBlLmNsaWVudFkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlQ2xpY2sodGhpcy5fbW91c2VQb3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29sZFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQsIHRoaXMuX29sZFdpbmRvd1dpZHRoLCB0aGlzLl9vbGRXaW5kb3dIZWlnaHQpO1xuXG4gICAgICAgICAgICB0aGlzLl9vbGRXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgdGhpcy5fb2xkV2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UGFyYW1ldGVyIChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgLy8gU291cmNlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTQ0ODU5NS8xMTM3OTA3MlxuXG4gICAgICAgIGxldCByZXN1bHQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgdG1wID0gW107XG5cbiAgICAgICAgbG9jYXRpb24uc2VhcmNoXG4gICAgICAgICAgICAuc3Vic3RyKDEpXG4gICAgICAgICAgICAuc3BsaXQoXCImXCIpXG4gICAgICAgICAgICAuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICB0bXAgPSBpdGVtLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG1wWzBdID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRXb3JsZFN0YXRzSFRNTCAod29ybGQ6IFdvcmxkKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxzdHJvbmc+VGltZTo8L3N0cm9uZz4gJHtCaXRNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gd29ybGQuY3JlYXRlZEF0KSAvIDEwMDApfXM8YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlNlZWRzOjwvc3Ryb25nPjogJHt3b3JsZC5wbGF5ZXIuaXRlbXMud2hlYXRTZWVkc308YnI+XG4gICAgICAgICAgICA8c3Ryb25nPldoZWF0Ojwvc3Ryb25nPiAke3dvcmxkLnBsYXllci5pdGVtcy5vcGl1bX08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPk1vbmV5Ojwvc3Ryb25nPiAke3dvcmxkLnBsYXllci5pdGVtcy5tb25leX0g4oKsPGJyPlxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q2FtZXJhRGVidWdIVE1MIChjYW1lcmE6IENhbWVyYSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8c3Ryb25nPkNhbWVyYTo8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlg6PC9zdHJvbmc+ICR7Y2FtZXJhLnBvc2l0aW9uLngudG9GaXhlZCgzKX08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlk6PC9zdHJvbmc+ICR7Y2FtZXJhLnBvc2l0aW9uLnkudG9GaXhlZCgzKX08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlpvb206PC9zdHJvbmc+ICR7Y2FtZXJhLnpvb21BbW91bnQudG9GaXhlZCgzKX1cblxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TW91c2VEZWJ1Z0hUTUwgKGNhbWVyYTogQ2FtZXJhKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgd29ybGRQb3MgPSBjYW1lcmEud29ybGRQb3NGcm9tU2NyZWVuKHRoaXMuX21vdXNlUG9zKTtcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgPHN0cm9uZz5Nb3VzZSR7KHRoaXMuX21vdXNlRG93biA/ICcgKGRvd24pJyA6ICcnKX06PC9zdHJvbmc+PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5YOjwvc3Ryb25nPiAke3RoaXMuX21vdXNlUG9zLnh9PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5ZOjwvc3Ryb25nPiAke3RoaXMuX21vdXNlUG9zLnl9PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5Xb3JsZCBYOjwvc3Ryb25nPiAke3dvcmxkUG9zLngudG9GaXhlZCgzKX08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPldvcmxkIFk6PC9zdHJvbmc+ICR7d29ybGRQb3MueS50b0ZpeGVkKDMpfVxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmVuZGVyZXJEZWJ1Z0hUTUwgKHJlbmRlcmVyOiBSZW5kZXJlcik6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGNhbWVyYSA9IHJlbmRlcmVyLmNhbWVyYTtcblxuICAgICAgICBjb25zdCB4U3RhcnQgPSBCaXRNYXRoLmZsb29yKGNhbWVyYS5wb3NpdGlvbi54IC8gKHJlbmRlcmVyLlNRVUFSRV9TSVpFICogY2FtZXJhLnpvb21BbW91bnQpKTtcbiAgICAgICAgY29uc3QgeEVuZCA9IE1hdGguY2VpbCgoY2FtZXJhLnBvc2l0aW9uLnggKyB3aW5kb3cuaW5uZXJXaWR0aCkgLyAocmVuZGVyZXIuU1FVQVJFX1NJWkUgKiBjYW1lcmEuem9vbUFtb3VudCkpO1xuICAgICAgICBjb25zdCB5U3RhcnQgPSBCaXRNYXRoLmZsb29yKGNhbWVyYS5wb3NpdGlvbi55IC8gKHJlbmRlcmVyLlNRVUFSRV9TSVpFICogY2FtZXJhLnpvb21BbW91bnQpKTtcbiAgICAgICAgY29uc3QgeUVuZCA9IE1hdGguY2VpbCgoY2FtZXJhLnBvc2l0aW9uLnkgKyB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gKHJlbmRlcmVyLlNRVUFSRV9TSVpFICogY2FtZXJhLnpvb21BbW91bnQpKTtcblxuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgPHN0cm9uZz5SZW5kZXJlcjo8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlgtc3RhcnQ6PC9zdHJvbmc+ICR7eFN0YXJ0fTxicj4gXG4gICAgICAgICAgICA8c3Ryb25nPlgtZW5kOjwvc3Ryb25nPiAke3hFbmR9PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5ZLXN0YXJ0Ojwvc3Ryb25nPiAke3lTdGFydH08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlktZW5kOjwvc3Ryb25nPiAke3lFbmR9XG4gICAgICAgIGBcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE1pc2NEZWJ1Z0hUTUwgKHdvcmxkOiBXb3JsZCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8c3Ryb25nPlRpbGVzL01pbjo8L3N0cm9uZz4gJHt3b3JsZC50aWxlc1BsYW50ZWRQZXJNaW59XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlclN0YXRzICh3b3JsZDogV29ybGQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc3RhdHNEaXNwbGF5LmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiZ3VpLWl0ZW1cIj4ke3RoaXMuZ2V0V29ybGRTdGF0c0hUTUwod29ybGQpfTwvZGl2PmA7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlckRlYnVnIChjYW1lcmE6IENhbWVyYSwgcmVuZGVyZXI6IFJlbmRlcmVyLCB3b3JsZDogV29ybGQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZGVidWdIVE1MUGFydHMgPSBbXG4gICAgICAgICAgICB0aGlzLmdldFdvcmxkU3RhdHNIVE1MKHdvcmxkKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0Q2FtZXJhRGVidWdIVE1MKGNhbWVyYSksXG4gICAgICAgICAgICB0aGlzLmdldE1vdXNlRGVidWdIVE1MKGNhbWVyYSksXG4gICAgICAgICAgICB0aGlzLmdldFJlbmRlcmVyRGVidWdIVE1MKHJlbmRlcmVyKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0TWlzY0RlYnVnSFRNTCh3b3JsZClcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9zdGF0c0Rpc3BsYXkuaW5uZXJIVE1MID0gKFxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJndWktaXRlbVwiPicgKyBcbiAgICAgICAgICAgICAgICBkZWJ1Z0hUTUxQYXJ0cy5qb2luKCc8L2Rpdj48aHI+PGRpdiBjbGFzcz1cImd1aS1pdGVtXCI+JykgK1xuICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vY29yZS92ZWN0b3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgREVGQVVMVF9aT09NID0gMTtcblxuICAgIHByaXZhdGUgX3Bvc2l0aW9uOiBWZWN0b3IgPSBuZXcgVmVjdG9yKDAsIDApO1xuICAgIHByaXZhdGUgX3pvb21BbW91bnQ6IG51bWJlciA9IHRoaXMuREVGQVVMVF9aT09NO1xuICAgIHByaXZhdGUgX3dvcmxkU3F1YXJlU2l6ZTogbnVtYmVyO1xuXG4gICAgZ2V0IHBvc2l0aW9uICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XG4gICAgfVxuXG4gICAgZ2V0IHpvb21BbW91bnQgKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl96b29tQW1vdW50O1xuICAgIH1cblxuICAgIGdldCB3b3JsZFNxdWFyZVNpemUgKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JsZFNxdWFyZVNpemU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IgKHdvcmxkU3F1YXJlU2l6ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX3dvcmxkU3F1YXJlU2l6ZSA9IHdvcmxkU3F1YXJlU2l6ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0dXAgKHdvcmxkU2l6ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkV29ybGRTaXplID0gd29ybGRTaXplICogdGhpcy5fd29ybGRTcXVhcmVTaXplICogdGhpcy5fem9vbUFtb3VudDtcblxuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAtd2luZG93LmlubmVyV2lkdGggLyAyICsgcmVuZGVyZWRXb3JsZFNpemUgLyAyLFxuICAgICAgICAgICAgLXdpbmRvdy5pbm5lckhlaWdodCAvIDIgKyByZW5kZXJlZFdvcmxkU2l6ZSAvIDJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW92ZSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB0aGlzLl9wb3NpdGlvbi5hZGQoeCwgeSk7XG4gICAgfVxuXG4gICAgcHVibGljIHpvb20gKHpvb206IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fem9vbUFtb3VudCArIHpvb20gPCAwLjIpIHtcbiAgICAgICAgICAgIHRoaXMuX3pvb21BbW91bnQgPSAwLjI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYWxmV2luZG93U2l6ZSA9IG5ldyBWZWN0b3Iod2luZG93LmlubmVyV2lkdGggLyAyLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKTtcblxuICAgICAgICBjb25zdCBvbGRQb3MgPSB0aGlzLndvcmxkUG9zRnJvbVNjcmVlbihoYWxmV2luZG93U2l6ZSk7XG4gICAgICAgIHRoaXMuX3pvb21BbW91bnQgKz0gem9vbTtcblxuICAgICAgICBjb25zdCBuZXdQb3MgPSB0aGlzLndvcmxkUG9zRnJvbVNjcmVlbihoYWxmV2luZG93U2l6ZSk7XG4gICAgICAgIHRoaXMubW92ZSgtKG5ld1Bvcy54IC0gb2xkUG9zLngpICogIHRoaXMud29ybGRTcXVhcmVTaXplICogdGhpcy56b29tQW1vdW50LCAtKG5ld1Bvcy55IC0gb2xkUG9zLnkpICogIHRoaXMud29ybGRTcXVhcmVTaXplICogdGhpcy56b29tQW1vdW50KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgd29ybGRQb3NGcm9tU2NyZWVuIChzY3JlZW5Qb3M6IFZlY3Rvcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgKHNjcmVlblBvcy54ICsgdGhpcy5wb3NpdGlvbi54KSAvIHRoaXMud29ybGRTcXVhcmVTaXplIC8gdGhpcy5fem9vbUFtb3VudCxcbiAgICAgICAgICAgIChzY3JlZW5Qb3MueSArIHRoaXMucG9zaXRpb24ueSkgLyB0aGlzLndvcmxkU3F1YXJlU2l6ZSAvIHRoaXMuX3pvb21BbW91bnRcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVMb29wIGZyb20gXCIuLi9jb3JlL2dhbWUtbG9vcFwiO1xuaW1wb3J0IEJyb3dzZXIgZnJvbSBcIi4vYnJvd3NlclwiO1xuaW1wb3J0IFdvcmxkIGZyb20gXCIuL3dvcmxkXCI7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4uL2NvcmUvcmVuZGVyZXJcIjtcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL2NvcmUvdmVjdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IE1PVVNFX01PVkVfVFJFU0hPTEQgPSAxMDtcbiAgICBwcml2YXRlIHN0YXRpYyBfaW5zdGFuY2U6IEdhbWU7XG5cbiAgICBwcml2YXRlIGxvb3A6IEdhbWVMb29wID0gbmV3IEdhbWVMb29wKCk7XG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTtcbiAgICBwcml2YXRlIHdvcmxkOiBXb3JsZCA9IG5ldyBXb3JsZCgpO1xuICAgIHByaXZhdGUgYnJvd3NlcjogQnJvd3NlciA9IG5ldyBCcm93c2VyKCk7XG5cbiAgICBwcml2YXRlIF9tb3VzZURvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9sYXN0Q2xpY2tBdDogbnVtYmVyID0gRGF0ZS5ub3coKTtcblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlICgpOiBHYW1lIHtcbiAgICAgICAgaWYgKCFHYW1lLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgR2FtZS5faW5zdGFuY2UgPSBuZXcgR2FtZSgpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiBHYW1lLl9pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBMb29wKCk7XG4gICAgICAgIHRoaXMuc2V0dXBNb3VzZSgpO1xuICAgICAgICB0aGlzLnNldHVwV2luZG93KCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5jYW1lcmEuc2V0dXAodGhpcy53b3JsZC5TSVpFKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwTW91c2UgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyb3dzZXIub25TY3JvbGwgPSAoZGVsdGE6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5jYW1lcmEuem9vbSgtZGVsdGEgLyA1KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icm93c2VyLm9uTW91c2VEb3duID0gKHBvczogVmVjdG9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icm93c2VyLm9uTW91c2VVcCA9IChwb3M6IFZlY3RvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyb3dzZXIub25Nb3VzZU1vdmUgPSAocG9zOiBWZWN0b3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubW91c2VQb3MgPSBuZXcgVmVjdG9yKHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyb3dzZXIub25Nb3VzZUNsaWNrID0gKHBvczogVmVjdG9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIudGl0bGVTY3JlZW4uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50aXRsZVNjcmVlbi5vbkNsaWNrKHBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdENsaWNrQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgd29ybGRQb3MgPSB0aGlzLnJlbmRlcmVyLmNhbWVyYS53b3JsZFBvc0Zyb21TY3JlZW4ocG9zKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQub25UaWxlQ2xpY2tlZCh3b3JsZFBvcy5mbG9vcigpKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwV2luZG93ICgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5icm93c2VyLm9uUmVzaXplID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBvbGRXaWR0aDogbnVtYmVyLCBvbGRIZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVsdGFXID0gb2xkV2lkdGggLSB3aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhSCA9IG9sZEhlaWdodCAtIGhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5jYW1lcmEubW92ZShcbiAgICAgICAgICAgICAgICBkZWx0YVcvMixcbiAgICAgICAgICAgICAgICBkZWx0YUgvMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwTG9vcCAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9vcC5mcHMgPSAzMDtcbiAgICAgICAgdGhpcy5sb29wLnVwZGF0ZSA9IChkZWx0YTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZW5kZXJlci50aXRsZVNjcmVlbi5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLnVwZGF0ZShkZWx0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICBpZiAoKERhdGUubm93KCkgLSB0aGlzLl9sYXN0Q2xpY2tBdCkgPiAyNTApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29ybGRQb3MgPSB0aGlzLnJlbmRlcmVyLmNhbWVyYS53b3JsZFBvc0Zyb21TY3JlZW4odGhpcy5yZW5kZXJlci5tb3VzZVBvcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud29ybGQub25UaWxlQ2xpY2tlZCh3b3JsZFBvcy5mbG9vcigpKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdENsaWNrQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxvb3AucmVuZGVyID0gKGludGVycG9sYXRpb246IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy53b3JsZCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnRpdGxlU2NyZWVuLmhpZGRlbikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJyb3dzZXIuZ2V0UGFyYW1ldGVyKCdkZWJ1ZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3Nlci5yZW5kZXJEZWJ1Zyh0aGlzLnJlbmRlcmVyLmNhbWVyYSwgdGhpcy5yZW5kZXJlciwgdGhpcy53b3JsZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyLnJlbmRlclN0YXRzKHRoaXMud29ybGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmxvb3Auc3RhcnQoKTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52ZW50b3J5IHtcbiAgICBwdWJsaWMgd2hlYXRTZWVkczogbnVtYmVyID0gMDtcbiAgICBwdWJsaWMgb3BpdW06IG51bWJlciA9IDA7XG4gICAgcHVibGljIG1vbmV5OiBudW1iZXIgPSAwO1xufSIsImltcG9ydCBJbnZlbnRvcnkgZnJvbSBcIi4vaW52ZW50b3J5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciB7XG4gICAgcHVibGljIHJlYWRvbmx5IGl0ZW1zOiBJbnZlbnRvcnkgPSBuZXcgSW52ZW50b3J5KCk7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuaXRlbXMud2hlYXRTZWVkcyA9IDUwO1xuICAgIH1cbn0iLCJpbXBvcnQgRW1wdHlUaWxlIGZyb20gJy4uL3RpbGVzL2VtcHR5JztcbmltcG9ydCBXaGVhdFRpbGUgZnJvbSAnLi4vdGlsZXMvd2hlYXQnO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi9wbGF5ZXJcIjtcbmltcG9ydCBFbnRpdHlJbnRlcmZhY2UgZnJvbSAnLi4vaW50ZXJmYWNlcy9lbnRpdHktaW50ZXJmYWNlJztcbmltcG9ydCBSb2JvdEVudGl0eSBmcm9tICcuLi9lbnRpdGllcy9lbmVtaWVzL3JvYm90JztcbmltcG9ydCBWZWN0b3IgZnJvbSAnLi4vY29yZS92ZWN0b3InO1xuaW1wb3J0IEVhc2luZ3MgZnJvbSBcIi4uL2NvcmUvZWFzaW5nc1wiO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi4vdGlsZXMvdGlsZSc7XG5pbXBvcnQgQml0TWF0aCBmcm9tICcuLi9jb3JlL2JpdC1tYXRoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGQge1xuICAgIHB1YmxpYyByZWFkb25seSBTSVpFOiBudW1iZXIgPSAyMCAgIDsgLy8gMjB4MjAgd29ybGQgc2l6XG4gICAgcHVibGljIHJlYWRvbmx5IENFTlRFUjogVmVjdG9yID0gbmV3IFZlY3Rvcih0aGlzLlNJWkUvMiwgdGhpcy5TSVpFLzIpLmZsb29yKCk7XG5cbiAgICBwcml2YXRlIF90aWxlczogVGlsZVtdW107XG4gICAgcHJpdmF0ZSBfY3JlYXRlZEF0OiBudW1iZXIgPSBEYXRlLm5vdygpO1xuICAgIHByaXZhdGUgX3BsYXllcjogUGxheWVyID0gbmV3IFBsYXllcigpO1xuICAgIHByaXZhdGUgX2VudGl0aWVzOiBFbnRpdHlJbnRlcmZhY2VbXSA9IFtdO1xuICAgIHByaXZhdGUgX3BsYW50ZWRUaWxlc1Blck1pbjogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIF9lbmVteUdyb3Vwc1Blck1pbjogbnVtYmVyW10gPSBbXTtcblxuICAgIGdldCB0aWxlcyAoKTogVGlsZVtdW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXM7XG4gICAgfVxuXG4gICAgZ2V0IGNyZWF0ZWRBdCAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRBdDtcbiAgICB9XG5cbiAgICBnZXQgcGxheWVyICgpOiBQbGF5ZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWVyO1xuICAgIH1cblxuICAgIGdldCBlbnRpdGllcyAoKTogRW50aXR5SW50ZXJmYWNlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXM7XG4gICAgfVxuXG4gICAgZ2V0IHRpbGVzUGxhbnRlZFBlck1pbiAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYW50ZWRUaWxlc1Blck1pbi5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0IGVuZW15R3JvdXBzUGVyTWluICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5lbXlHcm91cHNQZXJNaW4ubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5fdGlsZXMgPSBBcnJheSh0aGlzLlNJWkUpLmZpbGwoW10pLm1hcCgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkodGhpcy5TSVpFKS5maWxsKFtdKS5tYXAoKCkgPT4gbmV3IEVtcHR5VGlsZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzVmFsaWRUaWxlUG9zICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXNbeV0gIT0gbnVsbCAmJiB0aGlzLl90aWxlc1t5XVt4XSAhPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRpbGVDbGlja2VkIChwb3M6IFZlY3Rvcik6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZFRpbGVQb3MocG9zLngsIHBvcy55KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld1RpbGU6IFRpbGUgfCBudWxsID0gbnVsbDtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW3Bvcy55XVtwb3MueF07XG5cbiAgICAgICAgdGlsZS5vbkNsaWNrZWQoKTtcblxuICAgICAgICAvLyBDbGlja2VkIHRpbGUgaXMgZW1wdHlcbiAgICAgICAgaWYgKHRpbGUgaW5zdGFuY2VvZiBFbXB0eVRpbGUpIHtcbiAgICAgICAgICAgIC8vIFBsYXllciBoYXMgcmVtYWluaW5nIHNlZWRzXG4gICAgICAgICAgICBpZiAodGhpcy5fcGxheWVyLml0ZW1zLndoZWF0U2VlZHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxheWVyLml0ZW1zLndoZWF0U2VlZHMtLTtcblxuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2Ugd2l0aCB3aGVhdCB0aWxlXG4gICAgICAgICAgICAgICAgbmV3VGlsZSA9IG5ldyBXaGVhdFRpbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsaWNrZWQgdGlsZSBpcyB3aGVhdFxuICAgICAgICBpZiAodGlsZSBpbnN0YW5jZW9mIFdoZWF0VGlsZSkge1xuICAgICAgICAgICAgLy8gV2hlYXQgaXMgZnVsbHkgZ3Jvd25cbiAgICAgICAgICAgIGlmICh0aWxlLmdyb3d0aFN0YXRlID49IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VlZERyb3BzOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIElmIHBsYXllciBoYXMgbm8gc2VlZHMgbGVmdCwgYWx3YXlzIGRyb3BcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VlZERyb3BzID09PSBudWxsIHx8IHRoaXMuX3BsYXllci5pdGVtcy53aGVhdFNlZWRzICsgc2VlZERyb3BzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZWREcm9wcyA9IHRpbGUuZHJvcFNlZWRzKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5fcGxheWVyLml0ZW1zLndoZWF0U2VlZHMgKz0gc2VlZERyb3BzO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BsYXllci5pdGVtcy5vcGl1bSArPSAxO1xuXG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB3aXRoIGVtcHR5IHRpbGVcbiAgICAgICAgICAgICAgICBuZXdUaWxlID0gbmV3IEVtcHR5VGlsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTmV3IHRpbGUgd2FzIGNyZWF0ZWRcbiAgICAgICAgaWYgKG5ld1RpbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFNldCBkYW1hZ2Ugb2YgbmV3IHRpbGUgdG8gZGFtYWdlIG9mIG9sZCB0aWxlXG4gICAgICAgICAgICBuZXdUaWxlLmRhbWFnZSA9IHRpbGUuZGFtYWdlO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgd29ybGRcbiAgICAgICAgICAgIHRoaXMuX3RpbGVzW3Bvcy55XVtwb3MueF0gPSBuZXdUaWxlO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGVkIHRpbGUgaXMgbm90IGVtcHR5XG4gICAgICAgICAgICBpZiAoIShuZXdUaWxlIGluc3RhbmNlb2YgRW1wdHlUaWxlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BsYW50ZWRUaWxlc1Blck1pbi5wdXNoKG5ld1RpbGUudGltZUNyZWF0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN1cnJvdW5kaW5nVGlsZUNvb3JkcyAodjogVmVjdG9yLCByYWRpdXM6IG51bWJlciA9IDEsIGluY2x1ZGVTZWxmOiBib29sZWFuID0gdHJ1ZSk6IFZlY3RvcltdIHtcbiAgICAgICAgY29uc3QgdGlsZXM6IFZlY3RvcltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgeSA9IHYueSAtIE1hdGguY2VpbChyYWRpdXMpOyB5IDw9IHYueSArIE1hdGguY2VpbChyYWRpdXMpOyB5KyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdGlsZXNbeV0pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IHYueCAtIE1hdGguY2VpbChyYWRpdXMpOyB4IDw9IHYueCArIE1hdGguY2VpbChyYWRpdXMpOyB4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3RpbGVzW3ldW3hdIHx8IFxuICAgICAgICAgICAgICAgICAgICAoeCA9PT0gdi54ICYmIHkgPT09IHYueSAmJiAhaW5jbHVkZVNlbGYpIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3Iodi54IC0geCwgdi55IC0geSkubGVuZ3RoID4gTWF0aC5jZWlsKHJhZGl1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGlsZXMucHVzaChuZXcgVmVjdG9yKHgsIHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aWxlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmFuZG9tT3V0c2lkZVBvcyAoKTogVmVjdG9yIHtcbiAgICAgICAgLy8gTWFrZSBzcGF3biByYWRpdXMgdHdpY2UgdGhlIGdhbWUgYXJlYSdzIGRpYW1ldGVyXG4gICAgICAgIGNvbnN0IHNwYXduUmFkaXVzID0gdGhpcy5DRU5URVIubGVuZ3RoICogMztcblxuICAgICAgICAvLyBTZXQgcG9zaXRpb24gcmFuZG9tbHkgYXJvdW5kIHRoZSBnYW1lIGFyZWFcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3Ioc3Bhd25SYWRpdXMsIDApXG4gICAgICAgICAgICAucm90YXRlKE1hdGgucmFuZG9tKCkgKiAzNjApXG4gICAgICAgICAgICAuYWRkKHRoaXMuQ0VOVEVSLngsIHRoaXMuQ0VOVEVSLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwYXducyBhIHJvYm90XG4gICAgICogXG4gICAgICogVE9ETzogTWFrZSBnZW5lcmljXG4gICAgICogXG4gICAgICogQHBhcmFtIFtwb3NdIC0gUG9zaXRpb24gdG8gc3Bhd24gZW5lbXkgYXQgKFJhbmRvbWx5IGNvbXB1dGVkIGlmIG5vdCBnaXZlbilcbiAgICAgKiBAcGFyYW0gcmFuZG9tU2hpZnQgLSBWZWN0b3IgdG8gcmFuZG9tbHkgc2hpZnQgcG9zaXRpb24gYnlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3Bhd25FbmVteSAocG9zOiBWZWN0b3IgfCBudWxsID0gbnVsbCwgcmFuZG9tU2hpZnQ/OiBWZWN0b3IpOiBFbnRpdHlJbnRlcmZhY2Uge1xuICAgICAgICAvLyBObyBwb3NpdGlvbiBnaXZlblxuICAgICAgICBpZiAocG9zID09PSBudWxsKSB7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLmdldFJhbmRvbU91dHNpZGVQb3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5kb21TaGlmdCkge1xuICAgICAgICAgICAgY29uc3Qgc2hpZnRWZWN0b3IgPSBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiByYW5kb21TaGlmdC54LFxuICAgICAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiByYW5kb21TaGlmdC55XG4gICAgICAgICAgICApLnJvdGF0ZShNYXRoLnJhbmRvbSgpICogMzYwKTtcblxuICAgICAgICAgICAgcG9zID0gcG9zLmFkZChzaGlmdFZlY3Rvci54LCBzaGlmdFZlY3Rvci55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVuZW15ID0gbmV3IFJvYm90RW50aXR5KHBvcy54LCBwb3MueSk7ICAgICAgICBcbiAgICAgICAgdGhpcy5fZW50aXRpZXMucHVzaChlbmVteSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZW5lbXk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSAoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBSZW1vdmUgb2xkIHBsYW50ZWQgdGlsZXNcbiAgICAgICAgdGhpcy5fcGxhbnRlZFRpbGVzUGVyTWluID0gdGhpcy5fcGxhbnRlZFRpbGVzUGVyTWluLmZpbHRlcigodGltZUNyZWF0ZWQ6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChEYXRlLm5vdygpIC0gdGltZUNyZWF0ZWQpIDwgNjAgKiAxMDAwO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZW1vdmUgb2xkIGVuZW15IGdyb3VwcyBcbiAgICAgICAgdGhpcy5fZW5lbXlHcm91cHNQZXJNaW4gPSB0aGlzLl9lbmVteUdyb3Vwc1Blck1pbi5maWx0ZXIoKHRpbWVDcmVhdGVkOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIHRpbWVDcmVhdGVkKSA8IDYwICogMTAwMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHdvcmxkXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5fdGlsZXMubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5fdGlsZXNbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAvLyBSZWR1Y2UgdGlsZSBkYW1hZ2UgYmFzZWQgb2ZmIHRvdGFsIGhlYWwgdGltZVxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVzW3ldW3hdLmRhbWFnZSAtPSBkZWx0YSAvIFRpbGUuREFNQUdFX0hFQUxfVElNRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IHNwYXduaW5nIGVuZW1pZXMgYXQgbW9yZSB0aGFuIDUwIHBsYW50ZWQgdGlsZXMvbWluXG4gICAgICAgIC8vIEFkZCBhbiBleHRyYSBlbmVteSBmb3IgZXZlcnkgYWRkaXRpb25hbCAyNSBwbGFudGVkIHRpbGVzL21pblxuICAgICAgICBjb25zdCBlbmVtaWVHcm91cHMgPSBNYXRoLmNlaWwoKHRoaXMudGlsZXNQbGFudGVkUGVyTWluIC0gNDApIC8gMTApO1xuICAgICAgICBpZiAoZW5lbWllR3JvdXBzID4gMCkge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHNwYXduYWJsZSBlbmVtaWUgZ3JvdXBzXG4gICAgICAgICAgICBjb25zdCBzcGF3bmFibGVHcm91cENvdW50ID0gZW5lbWllR3JvdXBzIC0gdGhpcy5lbmVteUdyb3Vwc1Blck1pbjtcblxuICAgICAgICAgICAgaWYgKHNwYXduYWJsZUdyb3VwQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggc3Bhd25hYmxlIGVuZW1pZSBncm91cFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyb3VwSW5kZXggPSAwOyBncm91cEluZGV4IDwgc3Bhd25hYmxlR3JvdXBDb3VudDsgZ3JvdXBJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSByYW5kb20gZ3JvdXAgc2l6ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cFNpemUgPSBCaXRNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYXduUG9zID0gdGhpcy5nZXRSYW5kb21PdXRzaWRlUG9zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggZW5lbXkgZm9yIHNldCBncm91cCBzaXplXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVuZW15SW5kZXggPSAwOyBlbmVteUluZGV4IDwgZ3JvdXBTaXplOyBlbmVteUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZW15ID0gdGhpcy5zcGF3bkVuZW15KHNwYXduUG9zLCBuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCkgKiAzLCBNYXRoLnJhbmRvbSgpICogMykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gcmFuZG9tIHdvcmxkIGNvb3JkaW5hdGVzIGFzIHRhcmdldCBmb3Igc3Bhd25lZCBlbmVtaWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnRhcmdldCA9ICBuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCkgKiB0aGlzLlNJWkUsIE1hdGgucmFuZG9tKCkgKiB0aGlzLlNJWkUpLmZsb29yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBQdXNoIHRpbWUgZW5lbXkgZ3JvdXAgd2FzIGNyZWF0ZWQgYXRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5lbXlHcm91cHNQZXJNaW4ucHVzaChEYXRlLm5vdygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdGVyYXRlIGV4aXN0aW5nIGVudGl0aWVzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRoaXMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBSb2JvdEVudGl0eSkge1xuICAgICAgICAgICAgICAgIC8vIFJvYm90IGlzIGV4cGxvZGluZ1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkuaGFzRXhwbG9kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgZW50aXR5IGZyb20gbGlzdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcyA9IHRoaXMuX2VudGl0aWVzLmZpbHRlcigodikgPT4gdiAhPSBlbnRpdHkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IE1BWF9FWFBMT1NJT05fUkFESVVTID0gMjtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlXb3JsZFBvcyA9IGVudGl0eS5wb3NpdGlvbi5mbG9vcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBjb29yZGluYXRlcyBmb3Igc3Vycm91bmRpbmcgdGlsZXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gQml0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKE1BWF9FWFBMT1NJT05fUkFESVVTICsgMSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1cnJvdW5kaW5nVGlsZUNvb3JkcyA9IHRoaXMuZ2V0U3Vycm91bmRpbmdUaWxlQ29vcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5V29ybGRQb3MsIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHN1cnJvdW5kaW5nIHRpbGUgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlUG9zIG9mIHN1cnJvdW5kaW5nVGlsZUNvb3Jkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHRvIHN1cnJvdW5kaW5nIHRpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVBvc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkKDAuNSwgMC41KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLShlbnRpdHlXb3JsZFBvcy54ICsgMC41KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtKGVudGl0eVdvcmxkUG9zLnkgKyAwLjUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGFtYWdlIGFuZCByZXN0cmljdCB0byB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IDEgLSAoZGlzdGFuY2UgLyAoTUFYX0VYUExPU0lPTl9SQURJVVMgKyAxKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbGVEZXN0cm95ZWQgPSBNYXRoLnJhbmRvbSgpICogTUFYX0VYUExPU0lPTl9SQURJVVMvKGRpc3RhbmNlICsgMSkgPiAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1RpbGUgPSB0aGlzLl90aWxlc1t0aWxlUG9zLnldW3RpbGVQb3MueF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWxlRGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wdHlUaWxlID0gbmV3IEVtcHR5VGlsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGV4aXN0aW5nIGRhbWFnZSB0byBuZXcgdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5VGlsZS5kYW1hZ2UgPSBleGlzdGluZ1RpbGUuZGFtYWdlICsgZGFtYWdlO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB3b3JsZCBmb3IgdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVzW3RpbGVQb3MueV1bdGlsZVBvcy54XSA9IGVtcHR5VGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUaWxlLmRhbWFnZSA9IGV4aXN0aW5nVGlsZS5kYW1hZ2UgKyBkYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1vdmUgZW50aXR5IHRvIHRhcmdldFxuICAgICAgICAgICAgaWYgKGVudGl0eS50YXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5pc01vdmluZykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaW5pdGlhbFBvc2l0aW9uID0gbmV3IFZlY3RvcihlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBsZXQgZW50aXR5U3BlZWQgPSBlbnRpdHkuc3BlZWQgKiAoZGVsdGEvMTAwMCk7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gbmV3IFZlY3RvcihlbnRpdHkudGFyZ2V0LnggLSBlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnRhcmdldC55IC0gZW50aXR5LnBvc2l0aW9uLnkpLmxlbmd0aDtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiAwICYmIGVudGl0eS5pbml0aWFsUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbERpc3RhbmNlID0gbmV3IFZlY3RvcihlbnRpdHkudGFyZ2V0LnggLSBlbnRpdHkuaW5pdGlhbFBvc2l0aW9uLngsIGVudGl0eS50YXJnZXQueSAtIGVudGl0eS5pbml0aWFsUG9zaXRpb24ueSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVByb2dyZXNzID0gZGlzdGFuY2UvaW5pdGlhbERpc3RhbmNlO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlTcGVlZCA9IGVudGl0eVNwZWVkICogKDEgKyAyICogRWFzaW5ncy5lYXNlSW5PdXRRdWFydCgxIC0gZGlzdGFuY2VQcm9ncmVzcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gZW50aXR5U3BlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBlbnRpdHlTcGVlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uLnggKz0gZW50aXR5U3BlZWQgKiAoZW50aXR5LnRhcmdldC54IC0gZW50aXR5LnBvc2l0aW9uLngpIC8gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uLnkgKz0gZW50aXR5U3BlZWQgKihlbnRpdHkudGFyZ2V0LnkgLSBlbnRpdHkucG9zaXRpb24ueSkgLyBkaXN0YW5jZTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnBvc2l0aW9uLnggPT09IGVudGl0eS50YXJnZXQueCAmJiBlbnRpdHkucG9zaXRpb24ueSA9PT0gZW50aXR5LnRhcmdldC55KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBSb2JvdEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmlzTW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5pbml0aWFsUG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCaXRNYXRoIHtcbiAgICBwdWJsaWMgc3RhdGljIGZsb29yIChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIG4gPDwgMFxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIHJvdW5kIChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuICgwLjUgKyBuKSA8PCAwXG4gICAgfVxuICBcbiAgICBwdWJsaWMgc3RhdGljIGFicyAobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiAobiBeIChuID4+IDMxKSkgLSAobiA+PiAzMSlcbiAgICB9XG59IiwiLyoqXG4gKiBTb3VyY2U6IGh0dHBzOi8vZWFzaW5ncy5uZXQvXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWFzaW5ncyB7XG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5DdWJpYyh4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4geCAqIHggKiB4O1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZWFzZUluT3V0UXVhcnQgKHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB4IDwgMC41ID8gOCAqIHggKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgNCkgLyAyO1xuICAgIH1cbn0iLCJjbGFzcyBHYW1lTG9vcCB7XG4gICAgcHVibGljIHNpbXVsYXRpb25TdGVwID0gMTAwMCAvIDYwO1xuICAgIHB1YmxpYyBmcmFtZURlbHRhID0gMDtcbiAgICBwdWJsaWMgbGFzdEZyYW1lVGltZU1zID0gMDtcbiAgICBwdWJsaWMgZnBzID0gNjA7XG4gICAgcHVibGljIGxhc3RGcHNVcGRhdGUgPSAwO1xuICAgIHB1YmxpYyBmcmFtZXNUaGlzU2Vjb25kID0gMDtcbiAgICBwdWJsaWMgbnVtVXBkYXRlU3RlcHMgPSAwO1xuICAgIHB1YmxpYyBtaW5GcmFtZURlbGF5ID0gMDtcbiAgICBwdWJsaWMgcnVubmluZyA9IGZhbHNlO1xuICAgIHB1YmxpYyBzdGFydGVkID0gZmFsc2U7XG4gICAgcHVibGljIHBhbmljID0gZmFsc2U7XG4gICAgcHVibGljIHJhZkhhbmRsZT86IG51bWJlcjtcblxuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuICAgIHB1YmxpYyBiZWdpbiA9ICh0aW1lOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBlbmQgPSAoZnBzOiBudW1iZXIsIHBhbmljOiBib29sZWFuKTogdm9pZCA9PiB7fTtcbiAgICBwdWJsaWMgdXBkYXRlID0gKGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyByZW5kZXIgPSAoaW50ZXJwb2xhdGlvbjogbnVtYmVyKTogdm9pZCA9PiB7fTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZSA9IHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIGdldCBtYXhBbGxvd2VkRnBzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5taW5GcmFtZURlbGF5O1xuICAgIH1cblxuICAgIHNldCBtYXhBbGxvd2VkRnBzIChmcHM6IG51bWJlcikge1xuICAgICAgICBpZiAoZnBzID09IG51bGwpIHtcbiAgICAgICAgICAgIGZwcyA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZnBzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWluRnJhbWVEZWxheSA9IDEwMDAgLyBmcHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVzZXRGcmFtZURlbHRhICgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBmcmFtZURlbHRhID0gdGhpcy5mcmFtZURlbHRhO1xuICAgICAgICB0aGlzLmZyYW1lRGVsdGEgPSAwO1xuICAgICAgICByZXR1cm4gZnJhbWVEZWx0YTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhcnQgKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmFmSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lc3RhbXApID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKDEpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZU1zID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgdGhpcy5sYXN0RnBzVXBkYXRlID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgdGhpcy5mcmFtZXNUaGlzU2Vjb25kID0gMDtcbiAgICAgICAgICAgIHRoaXMucmFmSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHVibGljIHN0b3AgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMucmFmSGFuZGxlKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZkhhbmRsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYW5pbWF0ZSAodGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmFmSGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZSk7XG4gICAgICAgIGlmICh0aW1lIDwgdGhpcy5sYXN0RnJhbWVUaW1lTXMgKyB0aGlzLm1pbkZyYW1lRGVsYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZnJhbWVEZWx0YSArPSB0aW1lIC0gdGhpcy5sYXN0RnJhbWVUaW1lTXM7XG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZU1zID0gdGltZTtcblxuICAgICAgICB0aGlzLmJlZ2luKHRpbWUsIHRoaXMuZnJhbWVEZWx0YSk7XG5cbiAgICAgICAgaWYgKHRpbWUgPiB0aGlzLmxhc3RGcHNVcGRhdGUgKyAxMDAwKSB7XG4gICAgICAgICAgICB0aGlzLmZwcyA9IDAuMjUgKiB0aGlzLmZyYW1lc1RoaXNTZWNvbmQgKyAwLjc1ICogdGhpcy5mcHM7XG4gICAgICAgICAgICB0aGlzLmxhc3RGcHNVcGRhdGUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5mcmFtZXNUaGlzU2Vjb25kID0gMDtcbiAgICAgICAgfVxuICAgICAgICArK3RoaXMuZnJhbWVzVGhpc1NlY29uZDtcblxuICAgICAgICB0aGlzLm51bVVwZGF0ZVN0ZXBzID0gMDtcbiAgICAgICAgd2hpbGUgKHRoaXMuZnJhbWVEZWx0YSA+PSB0aGlzLnNpbXVsYXRpb25TdGVwKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnNpbXVsYXRpb25TdGVwKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVEZWx0YSAtPSB0aGlzLnNpbXVsYXRpb25TdGVwO1xuXG4gICAgICAgICAgICBpZiAoKyt0aGlzLm51bVVwZGF0ZVN0ZXBzID49IDI0MCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFuaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5mcmFtZURlbHRhIC8gdGhpcy5zaW11bGF0aW9uU3RlcCk7XG4gICAgICAgIHRoaXMuZW5kKHRoaXMuZnBzLCB0aGlzLnBhbmljKTtcblxuICAgICAgICB0aGlzLnBhbmljID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHYW1lTG9vcDsiLCJpbXBvcnQgV29ybGQgZnJvbSBcIi4uL2Jhc2Uvd29ybGRcIjtcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4uL2Jhc2UvY2FtZXJhXCI7XG5pbXBvcnQgRW1wdHlUaWxlIGZyb20gXCIuLi90aWxlcy9lbXB0eVwiO1xuaW1wb3J0IFV0aWwgZnJvbSBcIi4vdXRpbFwiO1xuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi92ZWN0b3JcIjtcbmltcG9ydCBUaXRsZVNjcmVlbiBmcm9tIFwiLi4vdGl0bGUtc2NyZWVuL3RpdGxlLXNjcmVlblwiO1xuaW1wb3J0IEJpdE1hdGggZnJvbSBcIi4vYml0LW1hdGhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIge1xuICAgIHB1YmxpYyByZWFkb25seSBGT05UX1NJWkUgPSAxMjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgRk9OVF9FTU9KSV9TSVpFID0gMTY7XG4gICAgcHVibGljIHJlYWRvbmx5IFNRVUFSRV9TSVpFID0gMzI7XG5cbiAgICBwcml2YXRlIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgcHVibGljIHJlYWRvbmx5IGNhbWVyYTogQ2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLlNRVUFSRV9TSVpFKTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGl0bGVTY3JlZW46IFRpdGxlU2NyZWVuID0gbmV3IFRpdGxlU2NyZWVuKCk7XG5cbiAgICBwdWJsaWMgbW91c2VQb3M6IFZlY3RvciA9IG5ldyBWZWN0b3IoMCwgMCk7XG5cbiAgICBnZXQgd2lkdGggKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXMud2lkdGg7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgZ2V0IHogKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbWVyYS56b29tQW1vdW50O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5zZXR1cENhbnZhcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBDYW52YXMgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldFRvV2luZG93U2l6ZSgpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0VG9XaW5kb3dTaXplKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRUb1dpbmRvd1NpemUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5fY2FudmFzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFRvV2luZG93U2l6ZSAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBwYWludENoYXIgKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjaGFyOiBzdHJpbmcsIGNoYXJDb2xvcjogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoaXNIb3Zlcikge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBCaXRNYXRoLmZsb29yKDUgKiB0aGlzLnopO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZvbnRTaXplID0gdGhpcy5GT05UX1NJWkU7XG4gICAgICAgIGxldCBmb250RmFtaWx5ID0gXCJDb3VyaWVyIE5ld1wiO1xuXG4gICAgICAgIC8vIElzbid0IGFscGhhbnVtZXJpYyAtPiBtdXN0IGJlIGVtb2ppXG4gICAgICAgIGlmICghVXRpbC5pc0FscGhhTnVtZXJpYyhjaGFyKSkge1xuICAgICAgICAgICAgZm9udFNpemUgPSB0aGlzLkZPTlRfRU1PSklfU0laRTtcbiAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIk9wZW5Nb2ppXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0RHJhd1BvcyA9IG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIHggKyB0aGlzLlNRVUFSRV9TSVpFIC8gMikgKiB0aGlzLnogLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgKHRoaXMuU1FVQVJFX1NJWkUgKiB5ICsgdGhpcy5TUVVBUkVfU0laRSAvIDIpICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGZvbnREcmF3U2l6ZSA9IEJpdE1hdGguZmxvb3IoZm9udFNpemUgKiB0aGlzLnopO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjaGFyQ29sb3I7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udERyYXdTaXplfXB4IFwiJHtmb250RmFtaWx5fVwiYDtcbiAgICAgICAgY3R4LmZpbGxUZXh0KGNoYXIsIEJpdE1hdGguZmxvb3IodGV4dERyYXdQb3MueCksIEJpdE1hdGguZmxvb3IodGV4dERyYXdQb3MueSkpOyBcblxuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIHBhaW50U3F1YXJlIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4sIGZpbGxTdHlsZTogc3RyaW5nLCBvcGFjaXR5OiBudW1iZXIgPSAxLCBjaGFyPzogc3RyaW5nIHwgbnVsbCwgY2hhckNvbG9yPzogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgICAgICBjb25zdCB6b29tID0gdGhpcy5jYW1lcmEuem9vbUFtb3VudDtcblxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBvcGFjaXR5O1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICB0aGlzLlNRVUFSRV9TSVpFICogeCAqIHpvb20gLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCBcbiAgICAgICAgICAgIHRoaXMuU1FVQVJFX1NJWkUgKiB5ICogem9vbSAtIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnksIFxuICAgICAgICAgICAgdGhpcy5TUVVBUkVfU0laRSAqIHpvb20sIFxuICAgICAgICAgICAgdGhpcy5TUVVBUkVfU0laRSAqIHpvb21cbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoY2hhcikge1xuICAgICAgICAgICAgY29uc3QgY2hhckZpbGxTdHlsZSA9IGNoYXJDb2xvciA/IGNoYXJDb2xvciA6ICd3aGl0ZSc7XG4gICAgICAgICAgICB0aGlzLnBhaW50Q2hhcihjdHgsIGNoYXIsIGNoYXJGaWxsU3R5bGUsIHgsIHksIGlzSG92ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIG91dGxpbmVTcXVhcmUgKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgYm9yZGVyV2lkdGg6IG51bWJlciA9IDEpOiB2b2lkIHtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGJvcmRlcldpZHRoICogdGhpcy56O1xuICAgICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgICAgICh0aGlzLlNRVUFSRV9TSVpFICogeCArIGJvcmRlcldpZHRoIC8gMikgKiB0aGlzLnogLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCBcbiAgICAgICAgICAgICh0aGlzLlNRVUFSRV9TSVpFICogeSArIGJvcmRlcldpZHRoIC8gMikgKiB0aGlzLnogLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi55LCBcbiAgICAgICAgICAgICh0aGlzLlNRVUFSRV9TSVpFIC0gYm9yZGVyV2lkdGgpICogdGhpcy56LCBcbiAgICAgICAgICAgICh0aGlzLlNRVUFSRV9TSVpFIC0gYm9yZGVyV2lkdGgpICogdGhpcy56XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHBhaW50UHJvZ3Jlc3NCYXIgKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHByb2dyZXNzOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcgPSAnZ3JlZW4nKTogdm9pZCB7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNjU7XG5cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgIHRoaXMuU1FVQVJFX1NJWkUgKiB4ICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueCwgXG4gICAgICAgICAgICB0aGlzLlNRVUFSRV9TSVpFICogeSAqIHRoaXMueiAtIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnksIFxuICAgICAgICAgICAgdGhpcy5TUVVBUkVfU0laRSAqIHdpZHRoICogdGhpcy56LCBcbiAgICAgICAgICAgIHRoaXMuU1FVQVJFX1NJWkUgKiBoZWlnaHQgKiB0aGlzLnpcbiAgICAgICAgKTtcblxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICh0aGlzLlNRVUFSRV9TSVpFICogeCArIDEpICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueCwgXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIHkgKyAxKSAqIHRoaXMueiAtIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnksIFxuICAgICAgICAgICAgKHRoaXMuU1FVQVJFX1NJWkUgKiB3aWR0aCAtIDIpICogdGhpcy56ICogcHJvZ3Jlc3MsIFxuICAgICAgICAgICAgKHRoaXMuU1FVQVJFX1NJWkUgKiBoZWlnaHQgLSAyKSAqIHRoaXMuelxuICAgICAgICApO1xuXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlciAod29ybGQ6IFdvcmxkKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW91c2VXb3JsZFBvcyA9IHRoaXMuY2FtZXJhLndvcmxkUG9zRnJvbVNjcmVlbih0aGlzLm1vdXNlUG9zKTtcblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29uc3QgeFN0YXJ0ID0gTWF0aC5mbG9vcih0aGlzLmNhbWVyYS5wb3NpdGlvbi54IC8gKHRoaXMuU1FVQVJFX1NJWkUgKiB0aGlzLmNhbWVyYS56b29tQW1vdW50KSk7XG4gICAgICAgIGNvbnN0IHhFbmQgPSBNYXRoLmNlaWwoKHRoaXMuY2FtZXJhLnBvc2l0aW9uLnggKyB3aW5kb3cuaW5uZXJXaWR0aCkgLyAodGhpcy5TUVVBUkVfU0laRSAqIHRoaXMuY2FtZXJhLnpvb21BbW91bnQpKTtcbiAgICAgICAgY29uc3QgeVN0YXJ0ID0gTWF0aC5mbG9vcih0aGlzLmNhbWVyYS5wb3NpdGlvbi55IC8gKHRoaXMuU1FVQVJFX1NJWkUgKiB0aGlzLmNhbWVyYS56b29tQW1vdW50KSk7XG4gICAgICAgIGNvbnN0IHlFbmQgPSBNYXRoLmNlaWwoKHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgKyB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gKHRoaXMuU1FVQVJFX1NJWkUgKiB0aGlzLmNhbWVyYS56b29tQW1vdW50KSk7XG5cbiAgICAgICAgLy8gRHJhdyBlbXB0eSBzcXVhcmVzIGFyb3VuZCB3b3JsZFxuICAgICAgICBmb3IgKGxldCB5ID0geVN0YXJ0OyB5IDwgeUVuZDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0geFN0YXJ0OyB4IDwgeEVuZDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWludFNxdWFyZShjdHgsIHgsIHksIGZhbHNlLCBVdGlsLmxpZ2h0ZW5EYXJrZW5Db2xvcihFbXB0eVRpbGUuQ09MT1IsIDgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERyYXcgd29ybGQgaXRzZWxmXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgd29ybGQudGlsZXMubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd29ybGQudGlsZXNbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNIb3ZlciA9IEJpdE1hdGguZmxvb3IobW91c2VXb3JsZFBvcy54KSA9PT0geCAmJiBCaXRNYXRoLmZsb29yKG1vdXNlV29ybGRQb3MueSkgID09PSB5O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHdvcmxkLnRpbGVzW3ldW3hdO1xuICAgICAgICAgICAgICAgIHRpbGUucmVuZGVyKHRoaXMsIGN0eCwgeCwgeSwgaXNIb3Zlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNIb3Zlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dGxpbmVTcXVhcmUoY3R4LCB4LCB5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aWxlLnJlbmRlckxhdGVzdCh0aGlzLCBjdHgsIHgsIHksIGlzSG92ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRHJhdyBlbnRpdGllc1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB3b3JsZC5lbnRpdGllcykge1xuICAgICAgICAgICAgdGhpcy5wYWludENoYXIoY3R4LCBlbnRpdHkuZ2V0Q2hhcigpLCAnd2hpdGUnLCBlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnBvc2l0aW9uLnksIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERyYXcgdGl0bGUgc2NyZWVuXG4gICAgICAgIHRoaXMudGl0bGVTY3JlZW4ucmVuZGVyKHRoaXMsIGN0eCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWwge1xuICAgIHByaXZhdGUgc3RhdGljIGFscGhhTnVtZXJpY1JlZ0V4cCA9IG5ldyBSZWdFeHAoXCJbXFxcXHcgXStcIik7XG5cbiAgcHVibGljIHN0YXRpYyBpc0FscGhhTnVtZXJpYyAodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gVXRpbC5hbHBoYU51bWVyaWNSZWdFeHAudGVzdCh0ZXh0KTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgbGVhZFplcm9zICh2YWx1ZTogbnVtYmVyIHwgc3RyaW5nLCBzaXplOiBudW1iZXIpOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcblxuICAgIHdoaWxlICh2YWx1ZS5sZW5ndGggPCBzaXplKSB7XG4gICAgICB2YWx1ZSA9ICcwJyArIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIG1peENvbG9ycyAoY29sb3IxOiBzdHJpbmcsIGNvbG9yMjogc3RyaW5nLCBwZXJjZW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGNvbnN0IHJlZDEgPSBwYXJzZUludChjb2xvcjFbMV0gKyBjb2xvcjFbMl0sIDE2KTtcbiAgICBjb25zdCBncmVlbjEgPSBwYXJzZUludChjb2xvcjFbM10gKyBjb2xvcjFbNF0sIDE2KTtcbiAgICBjb25zdCBibHVlMSA9IHBhcnNlSW50KGNvbG9yMVs1XSArIGNvbG9yMVs2XSwgMTYpO1xuICBcbiAgICBjb25zdCByZWQyID0gcGFyc2VJbnQoY29sb3IyWzFdICsgY29sb3IyWzJdLCAxNik7XG4gICAgY29uc3QgZ3JlZW4yID0gcGFyc2VJbnQoY29sb3IyWzNdICsgY29sb3IyWzRdLCAxNik7XG4gICAgY29uc3QgYmx1ZTIgPSBwYXJzZUludChjb2xvcjJbNV0gKyBjb2xvcjJbNl0sIDE2KTtcbiAgXG4gICAgY29uc3QgcmVkID0gTWF0aC5yb3VuZChVdGlsLm1peChyZWQxLCByZWQyLCBwZXJjZW50KSk7XG4gICAgY29uc3QgZ3JlZW4gPSBNYXRoLnJvdW5kKFV0aWwubWl4KGdyZWVuMSwgZ3JlZW4yLCBwZXJjZW50KSk7XG4gICAgY29uc3QgYmx1ZSA9IE1hdGgucm91bmQoVXRpbC5taXgoYmx1ZTEsIGJsdWUyLCBwZXJjZW50KSk7XG4gIFxuICAgIHJldHVybiBVdGlsLmdlbmVyYXRlSGV4RnJvbVJHQihyZWQsIGdyZWVuLCBibHVlKTtcbiAgfVxuICBcbiAgcHJpdmF0ZSBzdGF0aWMgZ2VuZXJhdGVIZXhGcm9tUkdCIChyOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gICAgbGV0IHJzID0gci50b1N0cmluZygxNik7XG4gICAgbGV0IGdzID0gZy50b1N0cmluZygxNik7XG4gICAgbGV0IGJzID0gYi50b1N0cmluZygxNik7XG4gIFxuICAgIHdoaWxlIChycy5sZW5ndGggPCAyKSB7IHJzID0gXCIwXCIgKyByczsgfVxuICAgIHdoaWxlIChncy5sZW5ndGggPCAyKSB7IGdzID0gXCIwXCIgKyBnczsgfVxuICAgIHdoaWxlIChicy5sZW5ndGggPCAyKSB7IGJzID0gXCIwXCIgKyBiczsgfVxuICBcbiAgICByZXR1cm4gXCIjXCIgKyBycyArIGdzICsgYnM7XG4gIH1cbiAgXG4gIHByaXZhdGUgc3RhdGljIG1peCAoc3RhcnQ6IG51bWJlciwgZW5kOiBudW1iZXIsIHBlcmNlbnQ6IG51bWJlcikge1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgKChwZXJjZW50KSAqIChlbmQgLSBzdGFydCkpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBsaWdodGVuRGFya2VuQ29sb3IgKGNvbG9yOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHVzZVBvdW5kID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGNvbG9yWzBdID09IFwiI1wiKSB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnNsaWNlKDEpO1xuICAgICAgICAgICAgdXNlUG91bmQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVtID0gcGFyc2VJbnQoY29sb3IsIDE2KTtcblxuICAgICAgICBsZXQgciA9IChudW0gPj4gMTYpICsgYW1vdW50O1xuXG4gICAgICAgIGlmIChyID4gMjU1KSByID0gMjU1O1xuICAgICAgICBlbHNlIGlmIChyIDwgMCkgciA9IDA7XG5cbiAgICAgICAgbGV0IGIgPSAoKG51bSA+PiA4KSAmIDB4MDBGRikgKyBhbW91bnQ7XG5cbiAgICAgICAgaWYgKGIgPiAyNTUpIGIgPSAyNTU7XG4gICAgICAgIGVsc2UgaWYgIChiIDwgMCkgYiA9IDA7XG5cbiAgICAgICAgbGV0IGcgPSAobnVtICYgMHgwMDAwRkYpICsgYW1vdW50O1xuXG4gICAgICAgIGlmIChnID4gMjU1KSBnID0gMjU1O1xuICAgICAgICBlbHNlIGlmICAoZyA8IDApIGcgPSAwO1xuXG4gICAgICAgIHJldHVybiAodXNlUG91bmQgPyBcIiNcIiA6IFwiXCIpICsgKGcgfCAoYiA8PCA4KSB8IChyIDw8IDE2KSkudG9TdHJpbmcoMTYpO1xuICAgIH1cbn0iLCJpbXBvcnQgQml0TWF0aCBmcm9tIFwiLi9iaXQtbWF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWZWN0b3Ige1xuICAgIHB1YmxpYyB4OiBudW1iZXI7XG4gICAgcHVibGljIHk6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRvdGFsIGxlbmd0aFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIFRvdGFsIGxlbmd0aFxuICAgICAqL1xuICAgIGdldCBsZW5ndGggKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy54LCAyKSArIE1hdGgucG93KHRoaXMueSwgMikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogXG4gICAgICogQHBhcmFtIHggLSBJbml0aWFsIHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB5IC0gSW5pdGlhbCB5IGNvb3JkaW5hdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdG8gY29vcmRpbmF0ZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geCAtIEFkZGVkIHRvIHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB5IC0gQWRkZWQgdG8geSBjb29yZGluYXRlXG4gICAgICogQHJldHVybnMgVmVjdG9yIHdpdGggYWRkZWQgY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkICh4OiBudW1iZXIsIHk6IG51bWJlcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIHgsIHRoaXMueSArIHkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUm91bmQgb2ZmIGNvb3JkaW5hdGVzXG4gICAgICogXG4gICAgICogQHJldHVybnMgVmVjdG9yIHdpdGggcm91bmRlZCBvZmYgY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZmxvb3IgKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKEJpdE1hdGguZmxvb3IodGhpcy54KSwgQml0TWF0aC5mbG9vcih0aGlzLnkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgY2xvY2t3aXNlIGJ5IGRlZ3JlZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZGVnIC0gQW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm5zIFJvdGF0ZWQgdmVjdG9yXG4gICAgICovXG4gICAgcHVibGljIHJvdGF0ZSAoZGVnOiBudW1iZXIpOiBWZWN0b3Ige1xuICAgICAgICBjb25zdCByYWQgPSAtZGVnICogKE1hdGguUEkvMTgwKTtcblxuICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhyYWQpO1xuICAgICAgICBjb25zdCBzaW4gPSBNYXRoLnNpbihyYWQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKFxuICAgICAgICAgICAgTWF0aC5yb3VuZCgxMDAwMCAqICh0aGlzLnggKiBjb3MgLSB0aGlzLnkgKiBzaW4pKSAvIDEwMDAwLCBcbiAgICAgICAgICAgIE1hdGgucm91bmQoMTAwMDAgKiAodGhpcy54ICogc2luICsgdGhpcy55ICogY29zKSkgLyAxMDAwMFxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYFZlY3RvciAoJHt0aGlzLnh9LCAke3RoaXMueX0pYDtcbiAgICB9XG59IiwiaW1wb3J0IEVudGl0eUludGVyZmFjZSBmcm9tIFwiaW50ZXJmYWNlcy9lbnRpdHktaW50ZXJmYWNlXCI7XG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuLi8uLi9jb3JlL3ZlY3RvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb2JvdEVudGl0eSBpbXBsZW1lbnRzIEVudGl0eUludGVyZmFjZSB7XG4gICAgcHVibGljIHJlYWRvbmx5IEVYUExPREVfVElNRSA9IDMgKiAxMDAwO1xuXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyA9ICdSb2JvdCc7XG4gICAgcHVibGljIHJlYWRvbmx5IHNwZWVkOiBudW1iZXIgPSAyO1xuXG4gICAgcHVibGljIHBvc2l0aW9uOiBWZWN0b3I7XG4gICAgcHVibGljIGluaXRpYWxQb3NpdGlvbjogVmVjdG9yIHwgbnVsbCA9IG51bGw7XG4gICAgcHVibGljIHRhcmdldDogVmVjdG9yIHwgbnVsbCA9IG51bGw7XG4gICAgcHVibGljIGlzSG9zdGlsZTogYm9vbGVhbiA9IHRydWU7XG4gICAgcHVibGljIGlzTW92aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIF9leHBsb2RlZEF0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgIGdldCBleHBsb3Npb25Qcm9ncmVzcyAoKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMuX2V4cGxvZGVkQXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcm9ncmVzcyA9IChEYXRlLm5vdygpIC0gdGhpcy5fZXhwbG9kZWRBdCkgLyB0aGlzLkVYUExPREVfVElNRTtcbiAgICAgICAgcmV0dXJuIHByb2dyZXNzID4gMSA/IDEgOiBwcm9ncmVzcztcbiAgICB9XG5cbiAgICBnZXQgaGFzRXhwbG9kZWQgKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5leHBsb3Npb25Qcm9ncmVzcyA9PT0gMTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IoeCwgeSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXIgKCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmV4cGxvc2lvblByb2dyZXNzID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXhwbG9zaW9uUHJvZ3Jlc3MgPD0gMC42KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICfwn5KjJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwbG9zaW9uUHJvZ3Jlc3MgPiAwLjYgJiYgdGhpcy5leHBsb3Npb25Qcm9ncmVzcyA8IDAuOCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAn4pyoJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZXhwbG9zaW9uUHJvZ3Jlc3MgPiAwLjggJiYgdGhpcy5leHBsb3Npb25Qcm9ncmVzcyA8IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ/CfkqUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5leHBsb3Npb25Qcm9ncmVzcyA+PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICfwn5SlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAn8J+klic7XG4gICAgfVxuXG4gICAgcHVibGljIGV4cGxvZGUgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9leHBsb2RlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWUgZnJvbSBcIi4vYmFzZS9nYW1lXCI7XG5HYW1lLmluc3RhbmNlOyIsImltcG9ydCBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi4vY29yZS9yZW5kZXJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtcHR5VGlsZSBleHRlbmRzIFRpbGUge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ09MT1IgPSAnI2ViYjQzNCc7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiRW1wdHlcIjtcbiAgICBwdWJsaWMgdGltZUNyZWF0ZWQ6IG51bWJlciA9IERhdGUubm93KCk7XG4gICAgXG4gICAgcHVibGljIGdldENoYXIgKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gJ3gnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIZXhDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhbWFnZWRIZXhDb2xvcihFbXB0eVRpbGUuQ09MT1IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaGFyQ29sb3IgKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gJyM2NjY2NjYnO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkNsaWNrZWQgKCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyTGF0ZXN0IChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5yZW5kZXJMYXRlc3QocmVuZGVyZXIsIGN0eCwgeCwgeSwgaXNIb3Zlcik7XG4gICAgfVxufSIsImltcG9ydCBUaWxlSW50ZXJmYWNlIGZyb20gJy4uL2ludGVyZmFjZXMvdGlsZS1pbnRlcmZhY2UnO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4uL2NvcmUvcmVuZGVyZXInO1xuaW1wb3J0IFV0aWwgZnJvbSAnLi4vY29yZS91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBpbXBsZW1lbnRzIFRpbGVJbnRlcmZhY2Uge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgREFNQUdFX0hFQUxfVElNRSA9IDYwICogMTAwMDtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENPTE9SOiBzdHJpbmcgPSAnJztcblxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgIHB1YmxpYyB0aW1lQ3JlYXRlZDogbnVtYmVyID0gRGF0ZS5ub3coKTtcblxuICAgIHByaXZhdGUgX2RhbWFnZTogbnVtYmVyID0gMDtcblxuICAgIGdldCBkYW1hZ2UgKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYW1hZ2U7XG4gICAgfVxuXG4gICAgc2V0IGRhbWFnZSAoYW1vdW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZGFtYWdlID0gYW1vdW50ID4gMSA/IDEgOiBhbW91bnQgPCAwID8gMCA6IGFtb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzQ29sbGlzaW9uICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0Q2hhciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAneCc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERhbWFnZWRIZXhDb2xvciAoY29sb3I6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxpZ2h0ZW5EYXJrZW5GYWN0b3IgPSAtKHRoaXMuZGFtYWdlKSAqIDUwO1xuICAgICAgICByZXR1cm4gVXRpbC5saWdodGVuRGFya2VuQ29sb3IoY29sb3IsIGxpZ2h0ZW5EYXJrZW5GYWN0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIZXhDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAnIzAwMDAwMCc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXJDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAnIzAwMDAwMCc7XG4gICAgfVxuXG4gICAgcHVibGljIG9uQ2xpY2tlZCAoKTogdm9pZCB7XG4gICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBsb2dpY1xuICAgIH1cblxuICAgIHByaXZhdGUgcGFpbnRTcXVhcmUocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgaGV4Q29sb3IgPSB0aGlzLmdldEhleENvbG9yKCk7XG4gICAgICAgIGlmICghaGV4Q29sb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnBhaW50U3F1YXJlKGN0eCwgeCwgeSwgaXNIb3ZlciwgaGV4Q29sb3IsIDEsIHRoaXMuZ2V0Q2hhcigpLCB0aGlzLmdldENoYXJDb2xvcigpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyIChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLnBhaW50U3F1YXJlKHJlbmRlcmVyLCBjdHgsIHgsIHksIGlzSG92ZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXJMYXRlc3QgKHJlbmRlcmVyOiBSZW5kZXJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBpc0hvdmVyOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGlmIChpc0hvdmVyICYmIHRoaXMuZGFtYWdlID4gMCkge1xuICAgICAgICAgICAgcmVuZGVyZXIucGFpbnRQcm9ncmVzc0JhcihjdHgsIHggKyAwLjI1LzIsIHkgKyAwLjE1LCAwLjc1LCAwLjE1LCB0aGlzLmRhbWFnZSwgJ3JlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZSAoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG59IiwiaW1wb3J0IFV0aWwgZnJvbSAnLi4vY29yZS91dGlsJztcbmltcG9ydCBFbXB0eVRpbGUgZnJvbSAnLi9lbXB0eSc7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi4vY29yZS9yZW5kZXJlcic7XG5pbXBvcnQgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IEVhc2luZ3MgZnJvbSAnLi4vY29yZS9lYXNpbmdzJztcbmltcG9ydCBCaXRNYXRoIGZyb20gJy4uL2NvcmUvYml0LW1hdGgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaGVhdFRpbGUgZXh0ZW5kcyBUaWxlIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgR1JPV1RIX1RJTUUgPSA3LjUgKiAxMDAwO1xuICAgIHB1YmxpYyByZWFkb25seSBNSU5fU0VFRF9EUk9QID0gMDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgTUFYX1NFRURfRFJPUCA9IDM7XG4gICAgcHJpdmF0ZSByZWFkb25seSBDT0xPUl9HUk9XTiA9ICcjN2RiZjIxJztcblxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIldoZWF0XCI7XG5cbiAgICBnZXQgZ3Jvd3RoU3RhdGUgKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGdyb3d0aCA9IChEYXRlLm5vdygpIC0gdGhpcy50aW1lQ3JlYXRlZCkgLyB0aGlzLkdST1dUSF9USU1FO1xuICAgICAgICBpZiAoZ3Jvd3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGdyb3d0aCAqICgxIC0gdGhpcy5kYW1hZ2UpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdyb3d0aCA+IDEgPyAxIDogZ3Jvd3RoO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaGFyICgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgbGV0IGNoYXIgPSAn8J+Mvyc7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3Jvd3RoU3RhdGUgPCAwLjQpIHtcbiAgICAgICAgICAgIGNoYXIgPSAn8J+MsSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5ncm93dGhTdGF0ZSA+PSAxKSB7XG4gICAgICAgICAgICBjaGFyID0gJ/CfjL4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoYXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXJDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAnI2ZmZmZmZic7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEhleENvbG9yICgpOiBzdHJpbmcgfCBudWxsIHsgXG4gICAgICAgIGNvbnN0IG1peEFtb3VudCA9IEVhc2luZ3MuZWFzZUluQ3ViaWModGhpcy5ncm93dGhTdGF0ZSk7XG4gICAgICAgIGNvbnN0IGdyb3d0aENvbG9yID0gVXRpbC5taXhDb2xvcnMoRW1wdHlUaWxlLkNPTE9SLCB0aGlzLkNPTE9SX0dST1dOLCBtaXhBbW91bnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYW1hZ2VkSGV4Q29sb3IoZ3Jvd3RoQ29sb3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkNsaWNrZWQgKCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJvcFNlZWRzICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gQml0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuTUFYX1NFRURfRFJPUCAtIHRoaXMuTUlOX1NFRURfRFJPUCArIDEpKSArIHRoaXMuTUlOX1NFRURfRFJPUDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyIChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5yZW5kZXIocmVuZGVyZXIsIGN0eCwgeCwgeSwgaXNIb3Zlcik7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlckxhdGVzdCAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIucmVuZGVyTGF0ZXN0KHJlbmRlcmVyLCBjdHgsIHgsIHksIGlzSG92ZXIpO1xuXG4gICAgICAgIGlmIChpc0hvdmVyICYmIHRoaXMuZ3Jvd3RoU3RhdGUgPCAxKSB7XG4gICAgICAgICAgICByZW5kZXJlci5wYWludFByb2dyZXNzQmFyKGN0eCwgeCArIDAuMjUvMiwgeSArIDAuNywgMC43NSwgMC4xNSwgdGhpcy5ncm93dGhTdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IFNsaWRlSW50ZXJmYWNlIGZyb20gXCIuLi9pbnRlcmZhY2VzL3NsaWRlLWludGVyZmFjZVwiO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuLi9jb3JlL3JlbmRlcmVyXCI7XG5pbXBvcnQgVXRpbCBmcm9tIFwiLi4vY29yZS91dGlsXCI7XG5pbXBvcnQgVmVjdG9yIGZyb20gXCJjb3JlL3ZlY3RvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaXRsZVNjcmVlbkxvYWRTbGlkZSBpbXBsZW1lbnRzIFNsaWRlSW50ZXJmYWNlIHtcbiAgICBtdXNpYzogSFRNTEF1ZGlvRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5tdXNpYyA9IG5ldyBBdWRpbygnYXVkaW8vMjEwMTA3Ymx1bnQxNjQub2dnJyk7XG4gICAgICAgIHRoaXMubXVzaWMubG9vcCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVuZGVyIChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzExMTExMSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCByZW5kZXJlci53aWR0aCwgcmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2YzYmMzYyc7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGN0eC5mb250ID0gYCR7MjAgKiAxfXB4IFwiQ291cmllciBOZXdcImA7XG5cbiAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gVXRpbC5saWdodGVuRGFya2VuQ29sb3IoXCIjZjNiYzNjXCIsIDIwKTtcbiAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgIGN0eC5zaGFkb3dCbHVyID0gNztcbiAgICAgICAgXG4gICAgICAgIGN0eC5maWxsVGV4dChcIkxvYWRcIi50b1VwcGVyQ2FzZSgpLnNwbGl0KCcnKS5qb2luKCcgJyksIHJlbmRlcmVyLndpZHRoLzIsIHJlbmRlcmVyLmhlaWdodC8yKTtcblxuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7XG4gICAgfVxuXG4gICAgdXBkYXRlIChkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBsb2dpY1xuICAgIH1cblxuICAgIG9uQ2xpY2sgKHBvczogVmVjdG9yKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm11c2ljLnBhdXNlZCkge1xuICAgICAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IFNsaWRlSW50ZXJmYWNlIGZyb20gXCIuLi9pbnRlcmZhY2VzL3NsaWRlLWludGVyZmFjZVwiO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuLi9jb3JlL3JlbmRlcmVyXCI7XG5pbXBvcnQgVXRpbCBmcm9tIFwiLi4vY29yZS91dGlsXCI7XG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuLi9jb3JlL3ZlY3RvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaXRsZVNjcmVlbkxvZ29TbGlkZSBpbXBsZW1lbnRzIFNsaWRlSW50ZXJmYWNlIHtcblxuICAgIHByaXZhdGUgX2xvZ286IHN0cmluZ1tdID0gW1xuICAgICAgICAnIF9fICAgICBfXyAgICAgX18gIF9fICAgICBfX19fX18gICAgIF9fX19fXyAgICAgX19fX19fICAgICAgX19fX19fICAgX19fX19fICAgICBfX19fX18gICAgIF9fICAgIF9fICAgICBfX19fX18gICAgIF9fX19fXyAgICAnLFxuICAgICAgICAnL1xcXFwgXFxcXCAgXyBcXFxcIFxcXFwgICAvXFxcXCBcXFxcX1xcXFwgXFxcXCAgIC9cXFxcICBfX19cXFxcICAgL1xcXFwgIF9fIFxcXFwgICAvXFxcXF9fICBfXFxcXCAgICAvXFxcXCAgX19fXFxcXCAvXFxcXCAgX18gXFxcXCAgIC9cXFxcICA9PSBcXFxcICAgL1xcXFwgXCItLi8gIFxcXFwgICAvXFxcXCAgX19fXFxcXCAgIC9cXFxcICA9PSBcXFxcICAgJyxcbiAgICAgICAgJ1xcXFwgXFxcXCBcXFxcLyBcIi5cXFxcIFxcXFwgIFxcXFwgXFxcXCAgX18gXFxcXCAgXFxcXCBcXFxcICBfX1xcXFwgICBcXFxcIFxcXFwgIF9fIFxcXFwgIFxcXFwvXy9cXFxcIFxcXFwvICAgIFxcXFwgXFxcXCAgX19cXFxcIFxcXFwgXFxcXCAgX18gXFxcXCAgXFxcXCBcXFxcICBfXzwgICBcXFxcIFxcXFwgXFxcXC0uL1xcXFwgXFxcXCAgXFxcXCBcXFxcICBfX1xcXFwgICBcXFxcIFxcXFwgIF9fPCAgICcsXG4gICAgICAgICcgXFxcXCBcXFxcX18vXCIuflxcXFxfXFxcXCAgXFxcXCBcXFxcX1xcXFwgXFxcXF9cXFxcICBcXFxcIFxcXFxfX19fX1xcXFwgIFxcXFwgXFxcXF9cXFxcIFxcXFxfXFxcXCAgICBcXFxcIFxcXFxfXFxcXCAgICAgXFxcXCBcXFxcX1xcXFwgICAgXFxcXCBcXFxcX1xcXFwgXFxcXF9cXFxcICBcXFxcIFxcXFxfXFxcXCBcXFxcX1xcXFwgIFxcXFwgXFxcXF9cXFxcIFxcXFwgXFxcXF9cXFxcICBcXFxcIFxcXFxfX19fX1xcXFwgIFxcXFwgXFxcXF9cXFxcIFxcXFxfXFxcXCAnLFxuICAgICAgICAnICBcXFxcL18vICAgXFxcXC9fLyAgIFxcXFwvXy9cXFxcL18vICAgXFxcXC9fX19fXy8gICBcXFxcL18vXFxcXC9fLyAgICAgXFxcXC9fLyAgICAgIFxcXFwvXy8gICAgIFxcXFwvXy9cXFxcL18vICAgXFxcXC9fLyAvXy8gICBcXFxcL18vICBcXFxcL18vICAgXFxcXC9fX19fXy8gICBcXFxcL18vIC9fLyAnXG4gICAgXTtcblxuICAgIHByaXZhdGUgX2Rlc2NyaXB0aW9uOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXCJQbGFudCB3aGVhdCBzZWVkcywgaGFydmVzdCBjcm9wcyBhbmQgc2VsbCB0aGVtLlwiLFxuICAgICAgICBcIlwiLFxuICAgICAgICBcIkF2b2lkIHJvYm90IGF0dGFja3MgYXQgYWxsIGNvc3RzLlwiXG4gICAgXVxuXG4gICAgcmVuZGVyIChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxvbmdlc3RMaW5lV2lkdGggPSB0aGlzLl9sb2dvLnJlZHVjZSgoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhLmxlbmd0aCA+IGIubGVuZ3RoID8gYSA6IGI7XG4gICAgICAgIH0pLmxlbmd0aDtcblxuICAgICAgICBjb25zdCB0YXJnZXRMb2dvV2lkdGggPSAwLjc1O1xuICAgICAgICBsZXQgZm9udFNpemUgPSAocmVuZGVyZXIud2lkdGggLyAoMjAgKiBsb25nZXN0TGluZVdpZHRoKSAqIDEuNjUpICogdGFyZ2V0TG9nb1dpZHRoO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzExMTExMSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCByZW5kZXJlci53aWR0aCwgcmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2YzYmMzYyc7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGN0eC5mb250ID0gYCR7MjAgKiBmb250U2l6ZX1weCBcIkNvdXJpZXIgTmV3XCJgO1xuXG4gICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IFV0aWwubGlnaHRlbkRhcmtlbkNvbG9yKFwiI2YzYmMzY1wiLCAyMCk7XG4gICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDc7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB5U2hpZnQgPSBNYXRoLnNpbigoRGF0ZS5ub3coKSAvIDEwMDApICUgNCkgKiAyMDtcbiAgICAgICAgZm9yIChsZXQgbGluZSA9IDA7IGxpbmUgPCB0aGlzLl9sb2dvLmxlbmd0aDsgbGluZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lT2Zmc2V0ID0gMjAgKiBmb250U2l6ZSAqIChsaW5lIC0gdGhpcy5fbG9nby5sZW5ndGgpO1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuX2xvZ29bbGluZV0sIHJlbmRlcmVyLndpZHRoLzIsIHJlbmRlcmVyLmhlaWdodC8yICsgbGluZU9mZnNldCArIHlTaGlmdClcbiAgICAgICAgfVxuXG4gICAgICAgIGZvbnRTaXplID0gMjA7XG5cbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgICAgICBjdHguZm9udCA9IGAke2ZvbnRTaXplfXB4IFwiQ291cmllciBOZXdcImA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBkTGluZSA9IDA7IGRMaW5lIDwgdGhpcy5fZGVzY3JpcHRpb24ubGVuZ3RoOyBkTGluZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbk9mZnNldCA9IDEuNSAqIGZvbnRTaXplICogKGRMaW5lICsgMyk7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5fZGVzY3JpcHRpb25bZExpbmVdLCByZW5kZXJlci53aWR0aC8yLCByZW5kZXJlci5oZWlnaHQvMiArIGRlc2NyaXB0aW9uT2Zmc2V0KVxuICAgICAgICB9XG5cbiAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAwO1xuICAgIH1cblxuICAgIHVwZGF0ZSAoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG5cbiAgICBvbkNsaWNrIChwb3M6IFZlY3Rvcik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG59IiwiaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuLi9jb3JlL3JlbmRlcmVyXCI7XG5pbXBvcnQgU2xpZGVJbnRlcmZhY2UgZnJvbSBcIi4uL2ludGVyZmFjZXMvc2xpZGUtaW50ZXJmYWNlXCI7XG5pbXBvcnQgVGl0bGVTY3JlZW5Mb2dvU2xpZGUgZnJvbSBcIi4vdGl0bGUtc2NyZWVuLWxvZ28tc2xpZGVcIjtcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4uL2NvcmUvdmVjdG9yXCI7XG5pbXBvcnQgVGl0bGVTY3JlZW5Mb2FkU2xpZGUgZnJvbSBcIi4vdGl0bGUtc2NyZWVuLWxvYWRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGl0bGVTY3JlZW4ge1xuICAgIHByaXZhdGUgX2hpZGRlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX3NsaWRlSWQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc2xpZGVzOiBTbGlkZUludGVyZmFjZVtdID0gW1xuICAgICAgICBuZXcgVGl0bGVTY3JlZW5Mb2FkU2xpZGUoKSxcbiAgICAgICAgbmV3IFRpdGxlU2NyZWVuTG9nb1NsaWRlKClcbiAgICBdO1xuICAgIHByaXZhdGUgX2NsaWNrZWRBdDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICBnZXQgaGlkZGVuICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hpZGRlbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25DbGljayAocG9zOiBWZWN0b3IpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NsaWNrZWRBdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY2xpY2tlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NsaWRlc1t0aGlzLl9zbGlkZUlkXS5vbkNsaWNrKHBvcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NsaWRlSWQgKyAxID4gdGhpcy5fc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2xpZGUgb2YgdGhpcy5fc2xpZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlIGluc3RhbmNlb2YgVGl0bGVTY3JlZW5Mb2FkU2xpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUubXVzaWMudm9sdW1lID0gMC4yNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2xpZGVJZCsrO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUgKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX3NsaWRlc1t0aGlzLl9zbGlkZUlkXSkge1xuICAgICAgICAgICAgdGhpcy5fc2xpZGVzW3RoaXMuX3NsaWRlSWRdLnVwZGF0ZShkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHVibGljIHJlbmRlciAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5faGlkZGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2xpZGVzW3RoaXMuX3NsaWRlSWRdKSB7XG4gICAgICAgICAgICB0aGlzLl9zbGlkZXNbdGhpcy5fc2xpZGVJZF0ucmVuZGVyKHJlbmRlcmVyLCBjdHgpO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ=="}