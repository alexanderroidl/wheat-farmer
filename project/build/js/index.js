!function o(i,r,a){function s(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,o,i,r,a)}return r[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../core/vector"));n.default=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.DEFAULT_ZOOM=1,this.MIN_ZOOM=.25,this._position=new r.default(0,0),this._zoomAmount=this.DEFAULT_ZOOM,this._worldSquareSize=e}var e,n,o;return e=t,(n=[{key:"position",get:function(){return this._position}},{key:"zoomAmount",get:function(){return this._zoomAmount}},{key:"worldSquareSize",get:function(){return this._worldSquareSize}},{key:"setup",value:function(e){e=e*this._worldSquareSize*this._zoomAmount;this._position=new r.default(-window.innerWidth/2+e/2,-window.innerHeight/2+e/2)}},{key:"move",value:function(e,t){this._position=this._position.add(e,t)}},{key:"zoom",value:function(e){var t,n;this._zoomAmount+e<this.MIN_ZOOM?this._zoomAmount=this.MIN_ZOOM:(t=new r.default(window.innerWidth/2,window.innerHeight/2),n=this.worldPosFromScreen(t),this._zoomAmount+=e,t=-((e=this.worldPosFromScreen(t)).x-n.x)*this.worldSquareSize*this.zoomAmount,n=-(e.y-n.y)*this.worldSquareSize*this.zoomAmount,this.move(t,n))}},{key:"worldPosFromScreen",value:function(e){return new r.default((e.x+this.position.x)/this.worldSquareSize/this._zoomAmount,(e.y+this.position.y)/this.worldSquareSize/this._zoomAmount)}}])&&i(e.prototype,n),o&&i(e,o),t}()},{"../core/vector":14}],2:[function(e,t,n){"use strict";function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.Inventory=n.InventoryItem=void 0;var u=o(e("../tiles/wall-tile")),l=o(e("../tiles/wheat-tile")),c=function e(t){a(this,e),this.amount=0,this.type=t};n.InventoryItem=c;e=function(){function t(){a(this,t),this.wheat=0,this.money=0,this.items=[new c(new l.default),new c(new u.default)]}var e,n,o;return e=t,(n=[{key:"getItemAmount",value:function(e){var t,n=i(this.items);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e===o.type.name)return o.amount}}catch(e){n.e(e)}finally{n.f()}return 0}},{key:"setItemAmount",value:function(e,t){e=this.getItem(e);null!==e&&(e.amount=t)}},{key:"increaseItemAmount",value:function(e){this.setItemAmount(e,this.getItemAmount(e)+1)}},{key:"decreaseItemAmount",value:function(e){var t=this.getItemAmount(e)-1;this.setItemAmount(e,t<0?0:t)}},{key:"getItem",value:function(e){var t,n=i(this.items);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e===o.type.name)return o}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"purchaseItem",value:function(e,t){var n=this.getItem(e);if(null===n)return!1;e=n.type.buyPrice*t;return!(this.money-e<0)&&(this.money-=e,n.amount+=t,!0)}},{key:"sellWheat",value:function(e){return!(this.wheat-e<0)&&(this.wheat-=e,this.money+=e*t.MONEY_PER_WHEAT,!0)}}])&&r(e.prototype,n),o&&r(e,o),t}();(n.Inventory=e).MONEY_PER_WHEAT=3},{"../tiles/wall-tile":20,"../tiles/wheat-tile":21}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./inventory");n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.WHEAT_START_AMOUNT=50,this.items=new o.Inventory,this.equipped=null,this.items.setItemAmount("Wheat",this.WHEAT_START_AMOUNT),this.equipped=this.items.getItem("Wheat")}},{"./inventory":2}],4:[function(e,t,n){"use strict";function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.position=null,this._isMusic=!1,this._audio=new Audio(e),this.isMusic=t,n.all.push(this)}var e,t,o;return e=n,o=[{key:"unlockAll",value:function(){var e,t=i(n.all);try{for(t.s();!(e=t.n()).done;)e.value.unlock()}catch(e){t.e(e)}finally{t.f()}}}],(t=[{key:"volume",get:function(){return this._audio.volume},set:function(e){this._audio.volume=e}},{key:"paused",get:function(){return this._audio.paused}},{key:"isMusic",get:function(){return this._isMusic},set:function(e){this._isMusic=!!e,this._audio.loop=!!e}},{key:"play",value:function(){this._audio.play()}},{key:"pause",value:function(){this._audio.pause()}},{key:"unlock",value:function(){this.play(),this.pause(),this._audio.currentTime=0}}])&&r(e.prototype,t),o&&r(e,o),n}();(n.default=o).all=[],o.mainMusic=new o("audio/210107blunt164.ogg",!0)},{}],5:[function(e,t,n){"use strict";function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var v=o(e("../tiles/empty-tile")),a=o(e("../tiles/wheat-tile")),r=o(e("./player")),m=o(e("../entities/enemies/robot")),w=o(e("../core/vector")),g=o(e("../core/easings")),u=o(e("../tiles/tile")),b=o(e("../core/bit-math")),l=o(e("../tiles/wall-tile"));n.default=function(){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.SIZE=20,this.CENTER=new w.default(this.SIZE/2,this.SIZE/2).floor(),this._createdAt=Date.now(),this._player=new r.default,this._entities=[],this._plantedTilesPerMin=[],this._enemyGroupsPerMin=[],this._tiles=Array(this.SIZE).fill([]).map(function(){return Array(e.SIZE).fill([]).map(function(){return new v.default})})}var e,n,o;return e=t,(n=[{key:"tiles",get:function(){return this._tiles}},{key:"createdAt",get:function(){return this._createdAt}},{key:"player",get:function(){return this._player}},{key:"entities",get:function(){return this._entities}},{key:"tilesPlantedPerMin",get:function(){return this._plantedTilesPerMin.length}},{key:"enemyGroupsPerMin",get:function(){return this._enemyGroupsPerMin.length}},{key:"isValidTilePos",value:function(e,t){return null!=this._tiles[t]&&null!=this._tiles[t][e]}},{key:"onTileClicked",value:function(e){if(this.isValidTilePos(e.x,e.y)){var t=null,n=this._tiles[e.y][e.x],o=this._player.items.getItemAmount("Wheat"),i=this._player.items.getItemAmount("Wall");if(n.onClicked(),n instanceof v.default&&this._player.equipped&&this._player.equipped.type instanceof u.default&&(this._player.equipped.type instanceof a.default&&0<o&&(this._player.items.decreaseItemAmount("Wheat"),t=new a.default),this._player.equipped.type instanceof l.default&&0<i&&(this._player.items.decreaseItemAmount("Wall"),i-1==0&&(this._player.equipped=this._player.items.getItem("Wheat")),t=new l.default)),n instanceof a.default&&1<=n.growthState){for(var r=null;null===r||o+r===0;)r=n.dropSeeds();this._player.items.setItemAmount("Wheat",o+r),this._player.items.wheat+=1,t=new v.default}n instanceof l.default&&(this._player.items.increaseItemAmount("Wall"),t=new v.default),null!==t&&(t.damage=n.damage,(this._tiles[e.y][e.x]=t)instanceof v.default||this._plantedTilesPerMin.push(t.timeCreated))}}},{key:"getSurroundingTileCoords",value:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=[],i=e.y-Math.ceil(t);i<=e.y+Math.ceil(t);i++)if(this._tiles[i])for(var r=e.x-Math.ceil(t);r<=e.x+Math.ceil(t);r++)!this._tiles[i][r]||r===e.x&&i===e.y&&!n||new w.default(e.x-r,e.y-i).length>Math.ceil(t)||o.push(new w.default(r,i));return o}},{key:"getRandomOutsidePos",value:function(){var e=3*this.CENTER.length;return new w.default(e,0).rotate(360*Math.random()).add(this.CENTER.x,this.CENTER.y)}},{key:"spawnEnemy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0;null===e&&(e=this.getRandomOutsidePos()),t&&(t=new w.default(Math.random()*t.x,Math.random()*t.y).rotate(360*Math.random()),e=e.add(t.x,t.y));e=new m.default(e.x,e.y);return this._entities.push(e),e}},{key:"update",value:function(d){var y=this;this._plantedTilesPerMin=this._plantedTilesPerMin.filter(function(e){return Date.now()-e<6e4}),this._enemyGroupsPerMin=this._enemyGroupsPerMin.filter(function(e){return Date.now()-e<6e4});for(var e=0;e<this._tiles.length;e++)for(var t=0;t<this._tiles[e].length;t++)this._tiles[e][t].update(d);var n=Math.ceil((this.tilesPlantedPerMin-40)/10);if(0<n){var o=n-this.enemyGroupsPerMin;if(0<o)for(var i=0;i<o;i++){for(var r=b.default.floor(3*Math.random())+1,a=this.getRandomOutsidePos(),s=0;s<r;s++)this.spawnEnemy(a,new w.default(3*Math.random(),3*Math.random())).target=new w.default(Math.random()*this.SIZE,Math.random()*this.SIZE).floor();this._enemyGroupsPerMin.push(Date.now())}}var p,u=_(this.entities);try{for(u.s();!(p=u.n()).done;)!function(){var e,t,n=p.value;if(n instanceof m.default&&n.hasExploded){y._entities=y._entities.filter(function(e){return e!==n});var o,i=n.position.floor(),r=b.default.floor(3*Math.random()),a=_(y.getSurroundingTileCoords(i,r));try{for(a.s();!(o=a.n()).done;){var s,u=o.value,l=u.add(.5,.5).add(-(i.x+.5),-(i.y+.5)).length,c=1-l/3,f=.5<2*Math.random()/(l+1),h=y._tiles[u.y][u.x];f?((s=new v.default).damage=h.damage+c,y._tiles[u.y][u.x]=s):h.damage=h.damage+c}}catch(e){a.e(e)}finally{a.f()}}null!==n.target&&(n.isMoving||(n.isMoving=!0,n.initialPosition=new w.default(n.position.x,n.position.y)),e=n.speed*(d/1e3),0<(t=new w.default(n.target.x-n.position.x,n.target.y-n.position.y).length)&&n.initialPosition&&(r=new w.default(n.target.x-n.initialPosition.x,n.target.y-n.initialPosition.y).length,e*=1+2*g.default.easeInOutQuart(1-t/r)),n.position.x+=e*(n.target.x-n.position.x)/(t=t<=e?e:t),n.position.y+=e*(n.target.y-n.position.y)/t,n.position.x===n.target.x&&n.position.y===n.target.y&&(n instanceof m.default&&n.explode(),n.target=null,n.isMoving=!1,n.initialPosition=null))}()}catch(e){u.e(e)}finally{u.f()}}}])&&i(e.prototype,n),o&&i(e,o),t}()},{"../core/bit-math":9,"../core/easings":10,"../core/vector":14,"../entities/enemies/robot":15,"../tiles/empty-tile":18,"../tiles/tile":19,"../tiles/wall-tile":20,"../tiles/wheat-tile":21,"./player":3}],6:[function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("../core/vector")),u=o(e("./gui")),l=o(e("./mouse"));n.default=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._mouse=new l.default,this._gui=new u.default(this._mouse),this._windowSize=new a.default(window.innerWidth,window.innerHeight),this._rendererCanvas=null,this.onScroll=function(e){},this.onMouseDown=function(e){},this.onMouseUp=function(e){},this.onMouseMove=function(e){},this.onMouseClick=function(e){},this.onLoaded=function(){},this.onResize=function(e,t){},this.onKeyDown=function(e,t){},this.onKeyUp=function(e,t){},this.onTouchStart=function(e){},this.onTouchMove=function(e){},this.onTouchCancel=function(e){},this.onTouchEnd=function(e){},this.setupEvents()}var e,t,n;return e=o,n=[{key:"alert",value:function(e){void 0}},{key:"getParameter",value:function(e){var t,n=null,o=[],i=r(location.search.substr(1).split("&"));try{for(i.s();!(t=i.n()).done;)(o=t.value.split("="))[0]===e&&(n=decodeURIComponent(o[1]))}catch(e){i.e(e)}finally{i.f()}return n}},{key:"isMobile",get:function(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(e){return navigator.userAgent.match(e)})}}],(t=[{key:"gui",get:function(){return this._gui}},{key:"mouse",get:function(){return this._mouse}},{key:"windowSize",get:function(){return this._windowSize}},{key:"_onScroll",value:function(e){this.onScroll(e)}},{key:"_onMouseDown",value:function(e){this._mouse.pressed=!0,this.onMouseDown(e)}},{key:"_onMouseUp",value:function(e){this._mouse.pressed=!1,this.onMouseUp(e)}},{key:"_onMouseMove",value:function(e){this._mouse.position.x=e.x,this._mouse.position.y=e.y,this.onMouseMove(e)}},{key:"_onMouseClick",value:function(e){this.onMouseClick(e)}},{key:"_onLoaded",value:function(){this._windowSize=new a.default(window.innerWidth,window.innerHeight),this.updateRendererCanvasSize(),this.onLoaded()}},{key:"_onResize",value:function(e,t){this.updateRendererCanvasSize(),this.onResize(e,t),this._windowSize=new a.default(window.innerWidth,window.innerHeight)}},{key:"_onKeyDown",value:function(e,t){this.onKeyDown(e,t)}},{key:"_onKeyUp",value:function(e,t){this.onKeyUp(e,t)}},{key:"_onTouchStart",value:function(e){this.onTouchStart(e)}},{key:"_onTouchMove",value:function(e){this.onTouchMove(e)}},{key:"_onTouchCancel",value:function(e){this.onTouchCancel(e)}},{key:"_onTouchEnd",value:function(e){this.onTouchEnd(e)}},{key:"setupEvents",value:function(){function e(e){if("wheel"===e.type)n=!0;else if(n)return;e=(e.deltaY||-e.wheelDelta||e.detail)>>10||1,t._onScroll(e)}var t=this,n=!1;document.addEventListener("wheel",e),document.addEventListener("mousewheel",e),document.addEventListener("DOMMouseScroll",e),document.addEventListener("mousedown",function(e){t._onMouseDown(new a.default(e.screenX,e.screenY))}),document.addEventListener("mouseup",function(e){t._onMouseUp(new a.default(e.screenX,e.screenY))}),document.addEventListener("mousemove",function(e){t._onMouseMove(new a.default(e.clientX,e.clientY))}),document.addEventListener("click",function(e){t._onMouseClick(t._mouse.position)}),window.addEventListener("load",function(){t._onLoaded()}),window.addEventListener("resize",function(){var e=new a.default(window.innerWidth,window.innerHeight);t._onResize(e,t._windowSize)}),document.addEventListener("keydown",function(e){t._onKeyDown(e.keyCode,e.code)}),document.addEventListener("keyup",function(e){t._onKeyUp(e.keyCode,e.code)}),o.isMobile&&(document.body.addEventListener("touchstart",function(e){t._onTouchStart(new a.default(0,0))}),document.body.addEventListener("touchend",function(e){t._onTouchEnd(new a.default(0,0))}),document.body.addEventListener("touchmove",function(e){t._onTouchMove(new a.default(0,0))}),document.body.addEventListener("touchcancel",function(e){t._onTouchCancel(new a.default(0,0))}))}},{key:"initializeRendererCanvas",value:function(){var e;for(this._rendererCanvas=document.createElement("canvas"),this.updateRendererCanvasSize(),document.body.prepend(this._rendererCanvas);null===(e=this._rendererCanvas.getContext("2d")););return e}},{key:"updateRendererCanvasSize",value:function(){null!==this._rendererCanvas&&(this._rendererCanvas.width=this._windowSize.x,this._rendererCanvas.height=this._windowSize.y)}}])&&i(e.prototype,t),n&&i(e,n),o}()},{"../core/vector":14,"./gui":7,"./mouse":8}],7:[function(e,t,n){"use strict";function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../core/bit-math")),l=e("../base/inventory"),a=o(e("../tiles/tile")),c=o(e("../core/util"));n.default=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._statsDisplay=document.createElement("div"),this._worldStats=document.createElement("div"),this._shop=null,this._inventory=null,this._mouse=e,this.setupDOM()}var e,n,o;return e=t,(n=[{key:"setupDOM",value:function(){this._statsDisplay.classList.add("gui"),this._statsDisplay.classList.add("stats-display"),this._worldStats.classList.add("world-stats");var e=document.createElement("div");e.classList.add("keyboard-info-row"),e.innerHTML="<span>m</span> Open menu",e.addEventListener("click",function(e){});var t=document.createElement("div");t.classList.add("keyboard-info-row"),t.innerHTML="<span>S</span> Open shop",t.addEventListener("click",function(e){});var n=document.createElement("div");n.classList.add("keyboard-info-row"),n.innerHTML="<span>E</span> Open inventory",n.addEventListener("click",function(e){});var o=document.createElement("div");o.classList.add("keyboard-info"),o.append(e,t,n),document.body.append(this._statsDisplay,this._worldStats,o)}},{key:"getWorldStatsRowHTML",value:function(e,t){void 0===t&&(t="");var n=document.createElement("div");n.classList.add("left"),n.innerHTML=e;var o=document.createElement("div");o.classList.add("right"),o.innerHTML=t;e=document.createElement("div");return e.classList.add("row"),e.append(n,o),2!==t.length||c.default.isAlphaNumeric(t)||e.classList.add("emoji"),e}},{key:"renderWorldStatsHTML",value:function(e){var t,n=this._worldStats.innerHTML="";e.player.equipped&&e.player.equipped.type instanceof a.default&&((t=e.player.equipped.type.getChar(!0))&&(n=t));n=this.getWorldStatsRowHTML("✋",n);this._worldStats.append(n);for(var o=0,i=[{icon:"⌛️",text:Math.floor((Date.now()-e.createdAt)/1e3)+"s"},{icon:"🌱",text:e.player.items.getItemAmount("Wheat")},{icon:"🌾",text:e.player.items.wheat},{icon:"💰",text:e.player.items.money+" $"}];o<i.length;o++){var r=i[o],r=this.getWorldStatsRowHTML(r.icon,String(r.text));this._worldStats.append(r)}}},{key:"getCameraDebugHTML",value:function(e){return"\n      <strong>Camera:</strong><br>\n      <strong>Position:</strong> ".concat(e.position,"<br>\n      <strong>Zoom:</strong> ").concat(e.zoomAmount.toFixed(3),"\n    ")}},{key:"getMouseDebugHTML",value:function(e){e=e.worldPosFromScreen(this._mouse.position);return"\n      <strong>Mouse".concat(this._mouse.pressed?" (down)":"",":</strong><br>\n      <strong>Screen:</strong> ").concat(this._mouse.position,"<br>\n      <strong>World:</strong> ").concat(e,"\n    ")}},{key:"getRendererDebugHTML",value:function(e){var t=e.camera,n=Math.floor(t.position.x/(e.SQUARE_SIZE*t.zoomAmount)),o=Math.ceil((t.position.x+window.innerWidth)/(e.SQUARE_SIZE*t.zoomAmount)),i=Math.floor(t.position.y/(e.SQUARE_SIZE*t.zoomAmount)),t=Math.ceil((t.position.y+window.innerHeight)/(e.SQUARE_SIZE*t.zoomAmount));return"\n      <strong>Renderer:</strong><br>\n      <strong>X:</strong> (".concat(n,", ").concat(o,")<br> \n      <strong>Y:</strong> (").concat(i,", ").concat(t,")<br>\n    ")}},{key:"getMiscDebugHTML",value:function(e){return"\n            <strong>Tiles/Min:</strong> ".concat(e.tilesPlantedPerMin,"\n        ")}},{key:"renderDebug",value:function(e,t,n){n=[this.getCameraDebugHTML(e),this.getMouseDebugHTML(e),this.getRendererDebugHTML(t),this.getMiscDebugHTML(n)];this._statsDisplay.innerHTML='<div class="gui-item">'+n.join('</div><hr><div class="gui-item">')+"</div>"}},{key:"createDialog",value:function(e,t,n){t.classList.add("dialog-content");var o=document.createElement("a");o.href="javascript:void(0)",o.innerHTML=" - (close)",o.addEventListener("click",function(e){"function"==typeof n&&n(),r.remove()});var i=document.createElement("div");i.classList.add("dialog-title"),i.innerHTML=e,i.append(o);o=document.createElement("div");o.classList.add("dialog"),o.append(i,t);var r=document.createElement("div");return r.classList.add("dialog-wrap"),r.addEventListener("click",function(e){e.target===r&&("function"==typeof n&&n(),r.remove())}),r.append(o),r}},{key:"sellDialog",value:function(e,t){e=window.prompt("How many?",String(e));null!==e&&r.default.isInt(e)?t(parseFloat(e)):void 0}},{key:"onShopSellWheat",value:function(n,o){var i=this;this.sellDialog(n.wheat,function(e){var t=n.sellWheat(e);i.closeShop(),i.openShop(n,o),t?void 0:void 0})}},{key:"onShopItemBuy",value:function(n,o,i){var r=this,e=Math.floor(n.money/o.type.buyPrice);this.sellDialog(e,function(e){var t=n.purchaseItem(o.type.name,e);r.closeShop(),r.openShop(n,i),t?void 0:void 0})}},{key:"openShop",value:function(n,o){var i=this;this._shop&&this.closeShop();var r=document.createElement("div"),e=document.createElement("div");e.innerHTML="- Wheat (+".concat(l.Inventory.MONEY_PER_WHEAT,"$) - ").concat(n.wheat," owned"),0<n.wheat?e.addEventListener("click",function(e){i.onShopSellWheat(n,o)}):e.classList.add("disabled"),r.append(e);var a,t=u(n.items);try{for(t.s();!(a=t.n()).done;)(function(){var t=a.value;if(0===t.type.buyPrice&&0===t.type.sellPrice)return;var e=document.createElement("div");e.innerHTML="+ ".concat(t.type.name," (-").concat(t.type.buyPrice,"$) - ").concat(t.amount," owned"),n.money>=t.type.buyPrice?e.addEventListener("click",function(e){i.onShopItemBuy(n,t,o)}):e.classList.add("disabled"),r.append(e)})()}catch(e){t.e(e)}finally{t.f()}this._shop=this.createDialog("Wheat Farmer Shop",r,function(){"function"==typeof o&&o()}),document.body.append(this._shop)}},{key:"closeShop",value:function(){null!==this._shop&&(this._shop.remove(),this._shop=null)}},{key:"openInventory",value:function(n,o,i){var r=this;null!==this._inventory&&this._inventory.remove();var a,s=document.createElement("div"),t=u(o.items);try{for(t.s();!(a=t.n()).done;)!function(){var t=a.value,e=document.createElement("div");e.innerHTML="".concat(t.type.name," x").concat(t.amount),n.equipped&&n.equipped.type.name===t.type.name&&(e.innerHTML+=" (equipped)"),t.amount<1?e.classList.add("disabled"):e.addEventListener("click",function(e){n.equipped=t,r.openInventory(n,o,i)}),s.append(e)}()}catch(e){t.e(e)}finally{t.f()}this._inventory=this.createDialog("Wheat Farmer Inventory",s,function(){"function"==typeof i&&i()}),document.body.append(this._inventory)}}])&&i(e.prototype,n),o&&i(e,o),t}()},{"../base/inventory":2,"../core/bit-math":9,"../core/util":13,"../tiles/tile":19}],8:[function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("../core/vector"));n.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=new i.default(0,0),this.pressed=!1}},{"../core/vector":14}],9:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"floor",value:function(e){return e<<0}},{key:"round",value:function(e){return.5+e<<0}},{key:"abs",value:function(e){return(e^e>>31)-(e>>31)}},{key:"isInt",value:function(e){e="string"==typeof e?parseFloat(e):e;return!isNaN(e)&&(0|e)===e}}],(n=null)&&i(t.prototype,n),o&&i(t,o),e}()},{}],10:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"easeInCubic",value:function(e){return e*e*e}},{key:"easeInOutQuart",value:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2}}],(n=null)&&i(t.prototype,n),o&&i(t,o),e}()},{}],11:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.simulationStep=1e3/60,this.frameDelta=0,this.lastFrameTimeMs=0,this.fps=60,this.lastFpsUpdate=0,this.framesThisSecond=0,this.numUpdateSteps=0,this.minFrameDelay=0,this.running=!1,this.started=!1,this.panic=!1,this.begin=function(e,t){},this.end=function(e,t){},this.update=function(e){},this.render=function(e){},this.animate=this.animate.bind(this)}var t,n,o;return t=e,(n=[{key:"maxAllowedFps",get:function(){return 1e3/this.minFrameDelay},set:function(e){0===(e=null==e?1/0:e)?this.stop():this.minFrameDelay=1e3/e}},{key:"resetFrameDelta",value:function(){var e=this.frameDelta;return this.frameDelta=0,e}},{key:"start",value:function(){var t=this;this.started||(this.started=!0,this.rafHandle=requestAnimationFrame(function(e){t.render(1),t.running=!0,t.lastFrameTimeMs=e,t.lastFpsUpdate=e,t.framesThisSecond=0,t.rafHandle=requestAnimationFrame(t.animate)}))}},{key:"stop",value:function(){this.running=!1,this.started=!1,this.rafHandle&&cancelAnimationFrame(this.rafHandle)}},{key:"animate",value:function(e){if(this.rafHandle=requestAnimationFrame(this.animate),!(e<this.lastFrameTimeMs+this.minFrameDelay)){for(this.frameDelta+=e-this.lastFrameTimeMs,this.lastFrameTimeMs=e,this.begin(e,this.frameDelta),e>this.lastFpsUpdate+1e3&&(this.fps=.25*this.framesThisSecond+.75*this.fps,this.lastFpsUpdate=e,this.framesThisSecond=0),++this.framesThisSecond,this.numUpdateSteps=0;this.frameDelta>=this.simulationStep;)if(this.update(this.simulationStep),this.frameDelta-=this.simulationStep,240<=++this.numUpdateSteps){this.panic=!0;break}this.render(this.frameDelta/this.simulationStep),this.end(this.fps,this.panic),this.panic=!1}}}])&&i(t.prototype,n),o&&i(t,o),e}()},{}],12:[function(e,t,n){"use strict";function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,t=function(){};return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../base/camera")),a=o(e("../tiles/empty-tile")),u=o(e("./util")),m=o(e("./vector")),w=o(e("./bit-math"));n.default=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.FONT_SIZE=12,this.FONT_EMOJI_SIZE=16,this.SQUARE_SIZE=32,this.COLOR_WORLD_FILL_SQUARES=u.default.lightenDarkenColor(a.default.COLOR,8),this._ctx=null,this.camera=new r.default(this.SQUARE_SIZE),this.size=new m.default(0,0),this.mousePos=new m.default(0,0),this.equippedItem=null,this._ctx=e.initializeRendererCanvas()}var e,n,o;return e=t,(n=[{key:"width",get:function(){return this.size.x}},{key:"height",get:function(){return this.size.y}},{key:"z",get:function(){return this.camera.zoomAmount}},{key:"ctx",get:function(){return this._ctx}},{key:"paintChar",value:function(e,t){t.isHovered&&(e.shadowColor="white",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=w.default.floor(5*this.z));var n=this.FONT_SIZE,o="Courier New";u.default.isAlphaNumeric(t.char)||(n=this.FONT_EMOJI_SIZE,o="OpenMoji");var i=new m.default((this.SQUARE_SIZE*t.worldPosition.x+this.SQUARE_SIZE/2)*this.z-this.camera.position.x,(this.SQUARE_SIZE*t.worldPosition.y+this.SQUARE_SIZE/2)*this.z-this.camera.position.y),n=w.default.floor(n*this.z);e.fillStyle=t.textColor,e.textAlign="center",e.textBaseline="middle",e.font="".concat(n,'px "').concat(o,'"'),e.fillText(t.char,w.default.floor(i.x),w.default.floor(i.y)),e.shadowBlur=0}},{key:"paintSquare",value:function(e,t){var n,o=e.globalAlpha;null!=t.opacity&&(e.globalAlpha=t.opacity),e.fillStyle=t.backgroundColor,e.fillRect(this.SQUARE_SIZE*t.worldPosition.x*this.z-this.camera.position.x,this.SQUARE_SIZE*t.worldPosition.y*this.z-this.camera.position.y,this.SQUARE_SIZE*this.z,this.SQUARE_SIZE*this.z),null!=t.char&&(n=t.textColor||"white",this.paintChar(e,{char:t.char,textColor:n,worldPosition:t.worldPosition,isHovered:t.isHovered})),e.globalAlpha=o}},{key:"outlineSquare",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;e.strokeStyle="white",e.lineWidth=n*this.z,e.strokeRect((this.SQUARE_SIZE*t.x+n/2)*this.z-this.camera.position.x,(this.SQUARE_SIZE*t.y+n/2)*this.z-this.camera.position.y,(this.SQUARE_SIZE-n)*this.z,(this.SQUARE_SIZE-n)*this.z)}},{key:"paintProgressBar",value:function(e,t){t.worldSize=t.worldSize||new m.default(.75,.15),t.color=t.color||"green";var n=e.globalAlpha;e.globalAlpha=.65,e.fillStyle="white",e.fillRect(this.SQUARE_SIZE*t.worldPosition.x*this.z-this.camera.position.x,this.SQUARE_SIZE*t.worldPosition.y*this.z-this.camera.position.y,this.SQUARE_SIZE*t.worldSize.x*this.z,this.SQUARE_SIZE*t.worldSize.y*this.z),e.fillStyle=t.color,e.fillRect((this.SQUARE_SIZE*t.worldPosition.x+1)*this.z-this.camera.position.x,(this.SQUARE_SIZE*t.worldPosition.y+1)*this.z-this.camera.position.y,(this.SQUARE_SIZE*t.worldSize.x-2)*this.z*t.progress,(this.SQUARE_SIZE*t.worldSize.y-2)*this.z),e.globalAlpha=n}},{key:"render",value:function(e){var t=this.ctx;if(t){var n=this.camera.worldPosFromScreen(this.mousePos);t.clearRect(0,0,this.width,this.height);for(var o=Math.floor(this.camera.position.x/(this.SQUARE_SIZE*this.camera.zoomAmount)),i=Math.ceil((this.camera.position.x+window.innerWidth)/(this.SQUARE_SIZE*this.camera.zoomAmount)),r=Math.floor(this.camera.position.y/(this.SQUARE_SIZE*this.camera.zoomAmount)),a=Math.ceil((this.camera.position.y+window.innerHeight)/(this.SQUARE_SIZE*this.camera.zoomAmount)),s=r;s<a;s++)for(var u=o;u<i;u++)this.paintSquare(t,{worldPosition:new m.default(u,s),backgroundColor:this.COLOR_WORLD_FILL_SQUARES});for(var l=0;l<e.tiles.length;l++)for(var c=0;c<e.tiles[l].length;c++){t.globalAlpha=1;var f=w.default.floor(n.x)===c&&w.default.floor(n.y)===l,h=e.tiles[l][c],d=new m.default(c,l);h.render(this,{ctx:t,worldPosition:d,isHovered:f}),f&&this.outlineSquare(t,d),h.renderLatest(this,{ctx:t,worldPosition:d,isHovered:f})}var y,p=v(e.entities);try{for(p.s();!(y=p.n()).done;){var _=y.value;this.paintChar(t,{char:_.getChar(),textColor:"white",worldPosition:_.position})}}catch(e){p.e(e)}finally{p.f()}}}}])&&i(e.prototype,n),o&&i(e,o),t}()},{"../base/camera":1,"../tiles/empty-tile":18,"./bit-math":9,"./util":13,"./vector":14}],13:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s)}var e,t,n;return e=s,n=[{key:"isAlphaNumeric",value:function(e){return s.REGEXP_ALPHA_NUMERIC.test(e)}},{key:"leadZeros",value:function(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}},{key:"mixColors",value:function(e,t,n){var o=parseInt(e[1]+e[2],16),i=parseInt(e[3]+e[4],16),r=parseInt(e[5]+e[6],16),a=parseInt(t[1]+t[2],16),e=parseInt(t[3]+t[4],16),t=parseInt(t[5]+t[6],16),a=Math.round(s.mix(o,a,n)),e=Math.round(s.mix(i,e,n)),n=Math.round(s.mix(r,t,n));return s.generateHexFromRGB(a,e,n)}},{key:"generateHexFromRGB",value:function(e,t,n){for(var o=e.toString(16),i=t.toString(16),r=n.toString(16);o.length<2;)o="0"+o;for(;i.length<2;)i="0"+i;for(;r.length<2;)r="0"+r;return"#"+o+i+r}},{key:"mix",value:function(e,t,n){return e+n*(t-e)}},{key:"lightenDarkenColor",value:function(e,t){var n=!1;"#"===e[0]&&(e=e.slice(1),n=!0);var o=parseInt(e,16),i=(o>>16)+t;255<i?i=255:i<0&&(i=0);e=(o>>8&255)+t;255<e?e=255:e<0&&(e=0);t=(255&o)+t;return 255<t?t=255:t<0&&(t=0),(n?"#":"")+(t|e<<8|i<<16).toString(16)}}],(t=null)&&o(e.prototype,t),n&&o(e,n),s}();(n.default=i).REGEXP_ALPHA_NUMERIC=new RegExp(/[\w ]+/)},{}],14:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./bit-math"));n.default=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.x=e,this.y=t}var e,t,o;return e=n,(t=[{key:"length",get:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"add",value:function(e,t){return new n(this.x+e,this.y+t)}},{key:"floor",value:function(){return new n(r.default.floor(this.x),r.default.floor(this.y))}},{key:"rotate",value:function(e){var t=-e*(Math.PI/180),e=Math.cos(t),t=Math.sin(t);return new n(Math.round(1e4*(this.x*e-this.y*t))/1e4,Math.round(1e4*(this.x*t+this.y*e))/1e4)}},{key:"toString",value:function(){return"(".concat(this.x.toFixed(1),", ").concat(this.y.toFixed(1),")")}}])&&i(e.prototype,t),o&&i(e,o),n}()},{"./bit-math":9}],15:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../../core/vector"));n.default=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.EXPLODE_TIME=3e3,this.name="Robot",this.speed=2,this.initialPosition=null,this.target=null,this.isHostile=!0,this.isMoving=!1,this._explodedAt=null,this.position=new r.default(e,t)}var e,t,o;return e=n,(t=[{key:"explosionProgress",get:function(){if(null===this._explodedAt)return 0;var e=(Date.now()-this._explodedAt)/this.EXPLODE_TIME;return 1<e?1:e}},{key:"hasExploded",get:function(){return 1===this.explosionProgress}},{key:"getChar",value:function(){if(0<this.explosionProgress){if(this.explosionProgress<=.6)return"💣";if(.6<this.explosionProgress&&this.explosionProgress<.8)return"✨";if(.8<this.explosionProgress&&this.explosionProgress<1)return"💥";if(1<=this.explosionProgress)return"🔥"}return"🤖"}},{key:"explode",value:function(){this._explodedAt=Date.now()}}])&&i(e.prototype,t),o&&i(e,o),n}()},{"../../core/vector":14}],16:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./core/game-loop")),a=o(e("./browser/browser")),s=o(e("./base/world")),u=o(e("./core/renderer")),l=o(e("./core/vector")),c=o(e("./title-screen/title-screen")),f=o(e("./base/sound"));n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._loop=new r.default,this._world=new s.default,this._browser=new a.default,this._renderer=new u.default(this._browser),this._titleScreen=new c.default,this._mouseDown=!1,this._lastClickAt=Date.now(),this._paused=!1,this._titleScreenHiddenBefore=null,this.setupLoop(),this.setupMouse(),this.setupKeyboard(),this.setupTouchScreen(),this.setupWindow(),this._renderer.camera.setup(this._world.SIZE)}var t,n,o;return t=e,o=[{key:"instance",get:function(){return e._instance=!e._instance?new e:e._instance}}],(n=[{key:"setupMouse",value:function(){var t=this;this._browser.onScroll=function(e){t._renderer.camera.zoom(-e/5)},this._browser.onMouseDown=function(e){t._mouseDown=!0},this._browser.onMouseUp=function(e){t._mouseDown=!1},this._browser.onMouseMove=function(e){t._renderer.mousePos=new l.default(e.x,e.y)},this._browser.onMouseClick=function(e){if(!t._titleScreen.hidden)return t._titleScreen.onClick(e),void(t._lastClickAt=Date.now());e=t._renderer.camera.worldPosFromScreen(e);t._world.onTileClicked(e.floor())}}},{key:"setupKeyboard",value:function(){var n=this;this._browser.onKeyUp=function(e,t){n._titleScreen.hidden&&("Escape"!==t?("KeyS"===t&&(n._paused=!0,n._browser.gui.openShop(n._world.player.items,function(){n._paused=!1})),"KeyE"===t&&(n._paused=!0,n._browser.gui.openInventory(n._world.player,n._world.player.items,function(){n._paused=!1}))):n._titleScreen.hidden=!1)}}},{key:"setupTouchScreen",value:function(){this._browser.onTouchStart=function(){f.default.unlockAll()}}},{key:"setupWindow",value:function(){var o=this;this._browser.onResize=function(e,t){var n=t.x-e.x,e=t.y-e.y;o._renderer.camera.move(n/2,e/2)}}},{key:"onUpdate",value:function(e){var t;document.body.classList.toggle("titlescreen",!this._titleScreen.hidden),this._titleScreenHiddenBefore!==this._titleScreen.hidden&&(this._titleScreen.hidden?this._paused=!1:this._paused=!0,this._titleScreenHiddenBefore=this._titleScreen.hidden),this._titleScreen.hidden?this._paused||(this._world.update(e),this._mouseDown&&250<Date.now()-this._lastClickAt&&(t=this._renderer.camera.worldPosFromScreen(this._renderer.mousePos),this._world.onTileClicked(t.floor()),this._lastClickAt=Date.now())):this._titleScreen.update(e)}},{key:"onRender",value:function(e){this._renderer.size=this._browser.windowSize,this._titleScreen.hidden||null===this._renderer.ctx?this._paused||(this._renderer.render(this._world),this._browser.gui.renderWorldStatsHTML(this._world),a.default.getParameter("debug")&&this._browser.gui.renderDebug(this._renderer.camera,this._renderer,this._world)):this._titleScreen.render(this._renderer,this._renderer.ctx)}},{key:"setupLoop",value:function(){var t=this;this._loop.update=function(e){t.onUpdate(e)},this._loop.render=function(e){t.onRender(e)},this._loop.start()}}])&&i(t.prototype,n),o&&i(t,o),e}()},{"./base/sound":4,"./base/world":5,"./browser/browser":6,"./core/game-loop":11,"./core/renderer":12,"./core/vector":14,"./title-screen/title-screen":24}],17:[function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});n=o(e("./game")),e=o(e("./browser/browser"));n.default.instance,e.default.isMobile&&e.default.alert("Warning: This is an early-alpha build of the game, mobile is not yet supported.")},{"./browser/browser":6,"./game":16}],18:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=o(e("./tile")),e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,c.default);var e,t,n,o=u(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.apply(this,arguments)).name="Empty",e.timeCreated=Date.now(),e}return e=i,(t=[{key:"getChar",value:function(){return"x"}},{key:"getBackgroundColor",value:function(){return this.getDamagedHexColor(i.COLOR)}},{key:"getTextColor",value:function(){return"#666666"}},{key:"onClicked",value:function(){}},{key:"renderLatest",value:function(e,t){a(l(i.prototype),"renderLatest",this).call(this,e,t)}}])&&r(e.prototype,t),n&&r(e,n),i}();(n.default=e).COLOR="#ebb434"},{"./tile":19}],19:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../core/util")),a=o(e("../core/vector")),e=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="",this.timeCreated=Date.now(),this._damage=0}var e,n,o;return e=t,(n=[{key:"damage",get:function(){return this._damage},set:function(e){this._damage=1<e?1:e<0?0:e}},{key:"hasCollision",value:function(){return!1}},{key:"getChar",value:function(){return"x"}},{key:"getDamagedHexColor",value:function(e){var t=50*-this.damage;return r.default.lightenDarkenColor(e,t)}},{key:"getBackgroundColor",value:function(){return null}},{key:"getTextColor",value:function(){return"#000000"}},{key:"onClicked",value:function(){}},{key:"paintSquare",value:function(e,t){var n=this.getBackgroundColor();n&&e.paintSquare(t.ctx,{worldPosition:t.worldPosition,backgroundColor:n,char:this.getChar(),textColor:this.getTextColor(),isHovered:t.isHovered})}},{key:"render",value:function(e,t){this.paintSquare(e,{ctx:t.ctx,worldPosition:t.worldPosition,isHovered:t.isHovered,opacity:t.opacity})}},{key:"renderLatest",value:function(e,t){var n,o;t.isHovered&&0<this.damage&&(n=new a.default(t.worldPosition.x+.125,t.worldPosition.y+.15),o=new a.default(.75,.15),e.paintProgressBar(t.ctx,{worldPosition:n,worldSize:o,progress:this.damage,color:"red"}))}},{key:"update",value:function(e){this.damage-=e/t.DAMAGE_HEAL_TIME}}])&&i(e.prototype,n),o&&i(e,o),t}();(n.default=e).DAMAGE_HEAL_TIME=6e4,e.COLOR=""},{"../core/util":13,"../core/vector":14}],20:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=o(e("./tile"));n.default=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,c.default);var e,t,n,o=u(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.apply(this,arguments)).buyPrice=10,e.sellPrice=4,e.name="Wall",e}return e=i,(t=[{key:"hasCollision",value:function(){return!0}},{key:"getChar",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]?"🚫":null}},{key:"getBackgroundColor",value:function(){return"#111111"}},{key:"getTextColor",value:function(){return null}},{key:"onClicked",value:function(){}},{key:"renderLatest",value:function(e,t){a(l(i.prototype),"renderLatest",this).call(this,e,t)}}])&&r(e.prototype,t),n&&r(e,n),i}()},{"./tile":19}],21:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=l(n);return e=o?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==i(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var c=o(e("../core/util")),f=o(e("../core/easings")),h=o(e("../core/bit-math")),d=o(e("../core/vector")),y=o(e("./tile")),p=o(e("./empty-tile"));n.default=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,y.default);var e,t,n,o=u(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.apply(this,arguments)).buyPrice=0,e.sellPrice=0,e.GROWTH_TIME=7500,e.MIN_SEED_DROP=0,e.MAX_SEED_DROP=3,e.COLOR_GROWN="#7dbf21",e.name="Wheat",e}return e=i,(t=[{key:"growthState",get:function(){var e=(Date.now()-this.timeCreated)/this.GROWTH_TIME;return e<1?e*(1-this.damage):1<e?1:e}},{key:"getChar",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]||this.growthState<.4?"🌱":1<=this.growthState?"🌾":"🌿"}},{key:"getTextColor",value:function(){return"#ffffff"}},{key:"getBackgroundColor",value:function(){var e=f.default.easeInCubic(this.growthState),e=c.default.mixColors(p.default.COLOR,this.COLOR_GROWN,e);return this.getDamagedHexColor(e)}},{key:"onClicked",value:function(){}},{key:"dropSeeds",value:function(){return h.default.floor(Math.random()*(this.MAX_SEED_DROP-this.MIN_SEED_DROP+1))+this.MIN_SEED_DROP}},{key:"render",value:function(e,t){a(l(i.prototype),"render",this).call(this,e,t)}},{key:"renderLatest",value:function(e,t){var n;a(l(i.prototype),"renderLatest",this).call(this,e,t),t.isHovered&&this.growthState<1&&(n=new d.default(t.worldPosition.x+.125,t.worldPosition.y+.7),e.paintProgressBar(t.ctx,{worldPosition:n,progress:this.growthState}))}}])&&r(e.prototype,t),n&&r(e,n),i}()},{"../core/bit-math":9,"../core/easings":10,"../core/util":13,"../core/vector":14,"./empty-tile":18,"./tile":19}],22:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../core/util"));n.default=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.TEXT="Click to load",this.COLOR_BACKGROUND="#111111",this.COLOR_TEXT="#f3bc3c",this.COLOR_TEXT_SHADOW=r.default.lightenDarkenColor(this.COLOR_TEXT,20);var e=this.TEXT.toUpperCase();this.TRANSFORMED_TEXT=e.split("").join(" ")}var e,n,o;return e=t,(n=[{key:"render",value:function(e,t){t.fillStyle=this.COLOR_BACKGROUND,t.fillRect(0,0,e.width,e.height),t.fillStyle=this.COLOR_TEXT,t.textAlign="center",t.textBaseline="middle",t.font="".concat(20,'px "Courier New"'),t.shadowColor=this.COLOR_TEXT_SHADOW,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=7,t.fillText(this.TRANSFORMED_TEXT,e.width/2,e.height/2),t.shadowBlur=0}},{key:"update",value:function(e){}},{key:"onClick",value:function(e){}}])&&i(e.prototype,n),o&&i(e,o),t}()},{"../core/util":13}],23:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../core/util")),a=o(e("../base/sound")),h=o(e("../core/bit-math"));n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.LOGO=[" __     __     __  __     ______     ______     ______      ______   ______     ______     __    __     ______     ______    ",'/\\ \\  _ \\ \\   /\\ \\_\\ \\   /\\  ___\\   /\\  __ \\   /\\__  _\\    /\\  ___\\ /\\  __ \\   /\\  == \\   /\\ "-./  \\   /\\  ___\\   /\\  == \\   ','\\ \\ \\/ ".\\ \\  \\ \\  __ \\  \\ \\  __\\   \\ \\  __ \\  \\/_/\\ \\/    \\ \\  __\\ \\ \\  __ \\  \\ \\  __<   \\ \\ \\-./\\ \\  \\ \\  __\\   \\ \\  __<   ',' \\ \\__/".~\\_\\  \\ \\_\\ \\_\\  \\ \\_____\\  \\ \\_\\ \\_\\    \\ \\_\\     \\ \\_\\    \\ \\_\\ \\_\\  \\ \\_\\ \\_\\  \\ \\_\\ \\ \\_\\  \\ \\_____\\  \\ \\_\\ \\_\\ ',"  \\/_/   \\/_/   \\/_/\\/_/   \\/_____/   \\/_/\\/_/     \\/_/      \\/_/     \\/_/\\/_/   \\/_/ /_/   \\/_/  \\/_/   \\/_____/   \\/_/ /_/ "],this.DESCRIPTION=["Plant wheat seeds, harvest crops and sell them.","","Avoid robot attacks at all costs."],this.CREDITS=["Programming by ALEXANDER ROIDL and JULIAN ARNOLD","Soundtrack by JULIAN ARNOLD"],this.COLOR_BACKGROUND="#111111",this.COLOR_TEXT="#f3bc3c",this.COLOR_TEXT_SHADOW=r.default.lightenDarkenColor(this.COLOR_TEXT,20),this.LONGEST_LINE_WIDTH=this.LOGO.reduce(function(e,t){return e.length>t.length?e:t}).length}var t,n,o;return t=e,(n=[{key:"render",value:function(e,t){var n=e.width/(20*this.LONGEST_LINE_WIDTH)*1.65*.75,o=1;t.fillStyle=this.COLOR_BACKGROUND,t.fillRect(0,0,e.width,e.height),t.fillStyle=this.COLOR_TEXT,t.textAlign="center",t.textBaseline="middle",t.font="".concat(20*n,'px "Courier New"'),t.shadowColor=this.COLOR_TEXT_SHADOW,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=7;for(var i=10*Math.sin(Date.now()/1e3),r=0;r<this.LOGO.length;r++){var a=20*o*n*(r-this.LOGO.length),s=h.default.floor(e.width/2),a=h.default.floor(e.height/2+a+i);t.fillText(this.LOGO[r],s,a)}n=20,o=1.5,t.textBaseline="top",t.font="".concat(n,'px "Courier New"');for(var u=0;u<this.DESCRIPTION.length;u++){var l=o*n*(u+3),c=h.default.floor(e.width/2),l=h.default.floor(e.height/2+l);t.fillText(this.DESCRIPTION[u],c,l)}n=15,o=1.5,t.textBaseline="bottom",t.font="".concat(n,'px "Courier New"'),t.shadowBlur=5;for(var f=0;f<this.CREDITS.length;f++)t.fillText(this.CREDITS[f],e.width/2,e.height-4.5*n+o*n*f);t.shadowBlur=0}},{key:"update",value:function(e){a.default.mainMusic.paused&&(a.default.mainMusic.volume=.6,a.default.mainMusic.play())}},{key:"onClick",value:function(e){a.default.mainMusic.volume=.2}}])&&i(t.prototype,n),o&&i(t,o),e}()},{"../base/sound":4,"../core/bit-math":9,"../core/util":13}],24:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./title-screen-logo-slide")),a=o(e("./title-screen-load-slide"));n.default=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hidden=!1,this.slideId=0,this._clickedAt=null,this._slides=[new a.default,new r.default]}var t,n,o;return t=e,(n=[{key:"onClick",value:function(e){null===this._clickedAt&&(this._clickedAt=Date.now()),this._slides[this.slideId].onClick(e),this.slideId+1>=this._slides.length?this.hidden=!0:this.slideId++}},{key:"update",value:function(e){this._slides[this.slideId]&&this._slides[this.slideId].update(e)}},{key:"render",value:function(e,t){this.hidden||this._slides[this.slideId]&&this._slides[this.slideId].render(e,t)}}])&&i(t.prototype,n),o&&i(t,o),e}()},{"./title-screen-load-slide":22,"./title-screen-logo-slide":23}]},{},[17]);