{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/base/browser.ts","src/ts/base/camera.ts","src/ts/base/game.ts","src/ts/base/inventory.ts","src/ts/base/player.ts","src/ts/base/world.ts","src/ts/core/bit-math.ts","src/ts/core/easings.ts","src/ts/core/game-loop.ts","src/ts/core/renderer.ts","src/ts/core/util.ts","src/ts/core/vector.ts","src/ts/entities/enemies/robot.ts","src/ts/index.ts","src/ts/tiles/empty-tile.ts","src/ts/tiles/tile.ts","src/ts/tiles/wall-tile.ts","src/ts/tiles/wheat-tile.ts","src/ts/title-screen/title-screen-load.ts","src/ts/title-screen/title-screen-logo-slide.ts","src/ts/title-screen/title-screen.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import World from \"./world\";\nimport Camera from \"./camera\";\nimport Renderer from \"../core/renderer\";\nimport Vector from \"../core/vector\";\nimport BitMath from \"../core/bit-math\";\nimport {Inventory, InventoryItem} from \"./inventory\";\nimport Tile from \"../tiles/tile\";\nimport Util from \"../core/util\";\nimport Player from \"./player\";\n\nexport default class Browser {\n    private _statsDisplay: HTMLDivElement = document.createElement('div');\n    private _worldStats: HTMLDivElement = document.createElement('div');\n    private _shop: HTMLDivElement | null = null;\n    private _inventory: HTMLDivElement | null = null;\n\n    private _mouseDown: boolean = false;\n    private _mousePos: Vector = new Vector(0, 0);\n\n    private _oldWindowWidth: number = window.innerWidth;\n    private _oldWindowHeight: number = window.innerHeight;\n\n    get mouseDown (): boolean {\n        return this._mouseDown;\n    }\n\n    get mousePos (): Vector {\n        return this._mousePos;\n    }\n\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    public onScroll = (delta: number): void => {};\n    public onMouseDown = (pos: Vector): void => {};\n    public onMouseUp = (pos: Vector): void => {};\n    public onMouseMove = (pos: Vector): void => {};\n    public onMouseDrag = (pos: Vector): void => {};\n    public onMouseClick = (pos: Vector): void => {};\n    public onResize = (width: number, height: number, oldWidth: number, oldHeight: number): void => {};\n    public onKeyDown = (keyCode: number, code: string): void => {};\n    public onKeyUp = (keyCode: number, code: string): void => {};\n    /* eslint-enable @typescript-eslint/no-empty-function */\n\n    constructor () {\n        this.setupDOM();\n        this.setupEvents();\n    }\n\n    private setupDOM (): void {\n        // Stats display\n        this._statsDisplay.classList.add('gui');\n        this._statsDisplay.classList.add('stats-display');\n\n        // World stats\n        this._worldStats.classList.add('world-stats');\n\n        // Keyboard info\n        const keyboardInfo = document.createElement('div');\n        keyboardInfo.classList.add('keyboard-info');\n        keyboardInfo.innerHTML = `\n            <div class=\"keyboard-info-row\">\n                <span>S</span> Open shop\n            </div>\n\n            <div class=\"keyboard-info-row\">\n                <span>E</span> Open inventory\n            </div>\n        `;\n\n        // Add everything to DOM\n        document.body.append(this._statsDisplay, this._worldStats, keyboardInfo);\n    }\n\n    private setupEvents (): void {\n        // The flag that determines whether the wheel event is supported\n        let supportsWheel = false;\n\n        /* eslint-disable @typescript-eslint/no-explicit-any */\n        // The function that will run when the events are triggered\n        const wheelHandler = (e: any) => {\n            if (e.type == 'wheel') supportsWheel = true;\n            else if (supportsWheel) return;\n\n            const delta = ((e.deltaY || -e.wheelDelta || e.detail) >> 10) || 1;\n            this.onScroll(delta);\n        }\n        /* eslint-enable @typescript-eslint/no-explicit-any */\n\n        // Add the event listeners for each event.\n        document.addEventListener('wheel', wheelHandler);\n        document.addEventListener('mousewheel', wheelHandler);\n        document.addEventListener('DOMMouseScroll', wheelHandler);\n        document.addEventListener('mousedown', (e) => {\n            this._mouseDown = true;\n            this.onMouseDown(new Vector(e.screenX, e.screenY));\n        });\n\n        document.addEventListener('mouseup', (e) => {\n            this._mouseDown = false;\n            this.onMouseUp(new Vector(e.screenX, e.screenY));\n        });\n\n        document.addEventListener('mousemove', (e) => {\n            this._mousePos.x = e.clientX;\n            this._mousePos.y = e.clientY;\n\n            this.onMouseMove(new Vector(e.clientX, e.clientY));\n\n            if (this._mouseDown) {\n                this.onMouseDrag(new Vector(e.clientX, e.clientY));\n            }\n        });\n\n        document.addEventListener('click', (e) => {\n            this.onMouseClick(this._mousePos);\n        });\n\n        window.addEventListener('load', () => {\n            this._oldWindowWidth = window.innerWidth;\n        });\n\n        window.addEventListener('resize', () => {\n            this.onResize(window.innerWidth, window.innerHeight, this._oldWindowWidth, this._oldWindowHeight);\n\n            this._oldWindowWidth = window.innerWidth;\n            this._oldWindowHeight = window.innerHeight;\n        });\n\n        document.addEventListener('keydown', (e: KeyboardEvent) => {\n            this.onKeyDown(e.keyCode, e.code);\n        });\n\n        document.addEventListener('keyup', (e: KeyboardEvent) => {\n            this.onKeyUp(e.keyCode, e.code);\n        });\n    }\n\n    public static isMobile (): boolean {\n        const toMatch = [\n            /Android/i,\n            /webOS/i,\n            /iPhone/i,\n            /iPad/i,\n            /iPod/i,\n            /BlackBerry/i,\n            /Windows Phone/i\n        ];\n    \n        return toMatch.some((toMatchItem) => {\n            return navigator.userAgent.match(toMatchItem);\n        });\n    }\n\n    public static alert (text: string): void {\n        window.alert(text);\n    }\n\n    public static getParameter (name: string): string | null {\n        // Source: https://stackoverflow.com/a/5448595/11379072\n\n        let result: string | null = null;\n        let tmp = [];\n\n        location.search\n            .substr(1)\n            .split(\"&\")\n            .forEach(item => {\n                tmp = item.split('=');\n\n                if (tmp[0] === name) {\n                    result = decodeURIComponent(tmp[1]);\n                }\n            });\n\n        return result;\n    }\n\n    private getWorldStatsRowHTML (icon: string, text?: string) {\n        if (typeof text === 'undefined') {\n            text = \"\";\n        }\n\n        const leftColumn = document.createElement('div');\n        leftColumn.classList.add('left');\n        leftColumn.innerHTML = icon;\n\n        const rightColumn = document.createElement('div');\n        rightColumn.classList.add('right');\n        rightColumn.innerHTML = text;\n\n        const statsRow = document.createElement('div');\n        statsRow.classList.add('row');\n        statsRow.append(leftColumn, rightColumn);\n\n        if (text.length === 2 && !Util.isAlphaNumeric(text)) {\n            statsRow.classList.add('emoji');\n        }\n\n        return statsRow;\n    }\n\n    public renderWorldStatsHTML (world: World): void {\n        this._worldStats.innerHTML = '';\n\n        let equippedChar = \"\";\n        if (world.player.equipped &&\n            world.player.equipped.type instanceof Tile) {\n            const char = world.player.equipped.type.getChar(true);\n\n            if (char) {\n                equippedChar = char;\n            }\n        }\n\n        const equippedRow = this.getWorldStatsRowHTML(\"\", equippedChar)\n        this._worldStats.append(equippedRow);\n\n        const stats = [\n            {\n                icon: \"\",\n                text: Math.floor((Date.now() - world.createdAt) / 1000) + 's',\n            }, {\n                icon: \"\",\n                text: world.player.items.getItemAmount('Wheat'),\n            }, {\n                icon: \"\",\n                text: world.player.items.wheat,\n            }, {\n                icon: \"\",\n                text: world.player.items.money + ' $',\n            }\n        ];\n\n        for (const stat of stats) {\n            const statsRow = this.getWorldStatsRowHTML(stat.icon, String(stat.text))\n            this._worldStats.append(statsRow);\n        }\n    }\n\n    private getCameraDebugHTML (camera: Camera): string {\n        return `\n            <strong>Camera:</strong><br>\n            <strong>X:</strong> ${camera.position.x.toFixed(3)}<br>\n            <strong>Y:</strong> ${camera.position.y.toFixed(3)}<br>\n            <strong>Zoom:</strong> ${camera.zoomAmount.toFixed(3)}\n        `;\n    }\n\n    private getMouseDebugHTML (camera: Camera): string {\n        const worldPos = camera.worldPosFromScreen(this._mousePos);\n\n        return `\n            <strong>Mouse${(this._mouseDown ? ' (down)' : '')}:</strong><br>\n            <strong>X:</strong> ${this._mousePos.x}<br>\n            <strong>Y:</strong> ${this._mousePos.y}<br>\n            <strong>World X:</strong> ${worldPos.x.toFixed(3)}<br>\n            <strong>World Y:</strong> ${worldPos.y.toFixed(3)}\n        `;\n    }\n\n    private getRendererDebugHTML (renderer: Renderer): string {\n        const camera = renderer.camera;\n\n        const xStart = BitMath.floor(camera.position.x / (renderer.SQUARE_SIZE * camera.zoomAmount));\n        const xEnd = Math.ceil((camera.position.x + window.innerWidth) / (renderer.SQUARE_SIZE * camera.zoomAmount));\n        const yStart = BitMath.floor(camera.position.y / (renderer.SQUARE_SIZE * camera.zoomAmount));\n        const yEnd = Math.ceil((camera.position.y + window.innerHeight) / (renderer.SQUARE_SIZE * camera.zoomAmount));\n\n        return `\n            <strong>Renderer:</strong><br>\n            <strong>X-start:</strong> ${xStart}<br> \n            <strong>X-end:</strong> ${xEnd}<br>\n            <strong>Y-start:</strong> ${yStart}<br>\n            <strong>Y-end:</strong> ${yEnd}\n        `\n    }\n\n    private getMiscDebugHTML (world: World): string {\n        return `\n            <strong>Tiles/Min:</strong> ${world.tilesPlantedPerMin}\n        `;\n    }\n\n    public renderDebug (camera: Camera, renderer: Renderer, world: World): void {\n        const debugHTMLParts = [\n            this.getCameraDebugHTML(camera),\n            this.getMouseDebugHTML(camera),\n            this.getRendererDebugHTML(renderer),\n            this.getMiscDebugHTML(world)\n        ];\n\n        this._statsDisplay.innerHTML = (\n            '<div class=\"gui-item\">' + \n                debugHTMLParts.join('</div><hr><div class=\"gui-item\">') +\n            '</div>'\n        );\n    }\n\n    public createDialog (titleText: string, body: HTMLElement, onClose?: () => void): HTMLDivElement {\n        body.classList.add('dialog-content');\n        \n        const close = document.createElement('a');\n        close.href = 'javascript:void(0)';\n        close.innerHTML = ' - (close)';\n        close.addEventListener('click', (e) => {\n            if (typeof onClose === 'function') {\n                onClose();\n            }\n            wrap.remove();\n        });\n\n        const title = document.createElement('div');\n        title.classList.add('dialog-title');\n        title.innerHTML = titleText;\n        title.append(close);\n\n        const main = document.createElement('div');\n        main.classList.add('dialog');\n        main.append(title, body);\n\n        const wrap = document.createElement('div');\n        wrap.classList.add('dialog-wrap');\n        wrap.addEventListener('click', (e) => {\n            if (e.target !== wrap) {\n                return;\n            }\n\n            if (typeof onClose === 'function') {\n                onClose();\n            }\n            wrap.remove();\n        });\n\n        wrap.append(main);\n        return wrap;\n    }\n\n    public sellDialog (value: number, onSuccess: (amount: number) => void): void {\n        const amount = window.prompt('How many?', String(value));\n        if (amount === null || !BitMath.isInt(amount)) {\n            window.alert('Aborted.');\n            return;\n        }\n\n        onSuccess(parseFloat(amount));\n    }\n\n    public onShopSellWheat (inventory: Inventory, cb?: () => void): void {\n        this.sellDialog(inventory.wheat, (amount: number) => {\n            const sellResult = inventory.sellWheat(amount);\n\n            this.closeShop();\n            this.openShop(inventory, cb);\n\n            if (sellResult) {\n                alert(`Successfully sold ${amount} wheat for ${amount * Inventory.MONEY_PER_OPIUM} $.`);\n            } else {\n                alert(`Failed to sell ${amount} wheat.`);\n            }\n        });\n    }\n\n    public onShopItemBuy (inventory: Inventory, item: InventoryItem, cb?: () => void): void {\n        const maxBuyAmount = Math.floor(inventory.money / item.type.buyPrice);\n        this.sellDialog(maxBuyAmount, (amount: number) => {\n            const purchaseResult = inventory.purchaseItem(\n                item.type.name, \n                amount\n            );\n\n            this.closeShop();\n            this.openShop(inventory, cb);\n\n            if (purchaseResult) {\n                alert(`Successfully purchased ${amount} ${item.type.name}.`);\n            } else {\n                alert(`Failed to purchase ${amount} ${item.type.name}.`);\n            }\n        });\n    }\n\n    public openShop (inventory: Inventory, cb?: () => void): void {\n        if (this._shop) {\n            this.closeShop();\n        }\n\n        const dialogBody = document.createElement('div');\n\n        // Sell wheat option\n        const sellWheatLink = document.createElement('div');\n        sellWheatLink.innerHTML = `- Wheat (+${Inventory.MONEY_PER_OPIUM}$) - ${inventory.wheat} owned`;\n        if (inventory.wheat > 0) {\n            // On sell wheat click\n            sellWheatLink.addEventListener('click', (e) => {\n                this.onShopSellWheat(inventory, cb);\n            });\n        } else {\n            sellWheatLink.classList.add('disabled');\n        }\n        dialogBody.append(sellWheatLink);\n\n        // List inventory item buy options\n        for (const inventoryItem of inventory.items) {\n            // If neither buy, nor sell price is given, we skip item\n            if (inventoryItem.type.buyPrice === 0 && inventoryItem.type.sellPrice === 0) {\n                continue;\n            }\n\n            const shopInventoryItemLink = document.createElement('div');\n            shopInventoryItemLink.innerHTML = `+ ${inventoryItem.type.name} (-${inventoryItem.type.buyPrice}$) - ${inventoryItem.amount} owned`;\n\n            // At least one buyable\n            if (inventory.money >= inventoryItem.type.buyPrice) {\n                // On item click\n                shopInventoryItemLink.addEventListener('click', (e) => {\n                    this.onShopItemBuy(inventory, inventoryItem, cb);\n                });\n            } else {\n                shopInventoryItemLink.classList.add('disabled')\n            }\n\n            dialogBody.append(shopInventoryItemLink);\n        }\n\n        this._shop = this.createDialog('Wheat Farmer Shop', dialogBody, () => {\n            if (typeof cb === 'function') {\n                cb();\n            }\n        });\n        document.body.append(this._shop);\n    }\n\n    public closeShop (): void {\n        if (this._shop === null) {\n            return;\n        }\n\n        this._shop.remove();\n        this._shop = null;\n    }\n\n    public openInventory (player: Player, inventory: Inventory, cb?: () => void): void {\n        if (this._inventory !== null) {\n            this._inventory.remove();\n        }\n\n        const inventoryBody = document.createElement('div');\n\n        for (const item of inventory.items) {\n            const itemRow = document.createElement('div');\n            itemRow.innerHTML = item.type.name;\n\n            if (player.equipped && player.equipped.type.name === item.type.name) {\n                itemRow.innerHTML += ' (equipped)';\n            }\n\n            if (item.amount < 1) {\n                itemRow.classList.add('disabled');\n            } else {\n                itemRow.addEventListener('click', (e) => {\n                    player.equipped = item;\n                    this.openInventory(player, inventory, cb);\n                });\n            }\n\n            inventoryBody.append(itemRow);\n        }\n\n        this._inventory = this.createDialog('Wheat Farmer Inventory', inventoryBody, () => {\n            if (typeof cb === 'function') {\n                cb();\n            }\n        });\n        document.body.append(this._inventory);\n    }\n}","import Vector from \"../core/vector\";\n\nexport default class Camera {\n    public readonly DEFAULT_ZOOM = 1;\n\n    private _position: Vector = new Vector(0, 0);\n    private _zoomAmount: number = this.DEFAULT_ZOOM;\n    private _worldSquareSize: number;\n\n    get position (): Vector {\n        return this._position;\n    }\n\n    get zoomAmount (): number {\n        return this._zoomAmount;\n    }\n\n    get worldSquareSize (): number {\n        return this._worldSquareSize;\n    }\n\n    constructor (worldSquareSize: number) {\n        this._worldSquareSize = worldSquareSize;\n    }\n\n    public setup (worldSize: number): void {\n        const renderedWorldSize = worldSize * this._worldSquareSize * this._zoomAmount;\n\n        this._position = new Vector(\n            -window.innerWidth / 2 + renderedWorldSize / 2,\n            -window.innerHeight / 2 + renderedWorldSize / 2\n        );\n    }\n\n    public move (x: number, y: number): void {\n        this._position = this._position.add(x, y);\n    }\n\n    public zoom (zoom: number): void {\n        if (this._zoomAmount + zoom < 0.2) {\n            this._zoomAmount = 0.2;\n            return;\n        }\n\n        const halfWindowSize = new Vector(window.innerWidth / 2, window.innerHeight / 2);\n\n        const oldPos = this.worldPosFromScreen(halfWindowSize);\n        this._zoomAmount += zoom;\n\n        const newPos = this.worldPosFromScreen(halfWindowSize);\n        this.move(-(newPos.x - oldPos.x) *  this.worldSquareSize * this.zoomAmount, -(newPos.y - oldPos.y) *  this.worldSquareSize * this.zoomAmount);\n    }\n\n    public worldPosFromScreen (screenPos: Vector): Vector {\n        return new Vector(\n            (screenPos.x + this.position.x) / this.worldSquareSize / this._zoomAmount,\n            (screenPos.y + this.position.y) / this.worldSquareSize / this._zoomAmount\n        );\n    }\n}","import GameLoop from \"../core/game-loop\";\nimport Browser from \"./browser\";\nimport World from \"./world\";\nimport Renderer from \"../core/renderer\";\nimport Vector from \"../core/vector\";\nimport TitleScreen from \"../title-screen/title-screen\";\n\nexport default class Game {\n    private static readonly MOUSE_MOVE_TRESHOLD = 10;\n    private static _instance: Game;\n\n    private loop: GameLoop = new GameLoop();\n    private renderer: Renderer = new Renderer();\n    private world: World = new World();\n    private browser: Browser = new Browser();\n\n    private _mouseDown: boolean = false;\n    private _lastClickAt: number = Date.now();\n    private _paused: boolean = false;\n    private _titleScreenHidden: boolean = false;\n\n    public static get instance (): Game {\n        if (!Game._instance) {\n            Game._instance = new Game();\n        }\n    \n        return Game._instance;\n    }\n\n    constructor () {\n        this.setupLoop();\n        this.setupMouse();\n        this.setupWindow();\n\n        this.renderer.camera.setup(this.world.SIZE);\n    }\n\n    private setupMouse (): void {\n        this.browser.onScroll = (delta: number) => {\n            this.renderer.camera.zoom(-delta / 5)\n        }\n\n        this.browser.onMouseDown = (pos: Vector) => {\n            this._mouseDown = true;\n        }\n\n        this.browser.onMouseUp = (pos: Vector) => {\n            this._mouseDown = false;\n        }\n\n        this.browser.onMouseMove = (pos: Vector) => {\n            this.renderer.mousePos = new Vector(pos.x, pos.y);\n        }\n\n        this.browser.onMouseClick = (pos: Vector) => {\n            if (!this.renderer.titleScreen.hidden) {\n                this.renderer.titleScreen.onClick(pos);\n                this._lastClickAt = Date.now();\n                return;\n            }\n\n            const worldPos = this.renderer.camera.worldPosFromScreen(pos);\n            this.world.onTileClicked(worldPos.floor());\n        };\n\n        this.browser.onKeyUp = (keyCode: number, code: string) => {\n            if (this.renderer.titleScreen.hidden) {\n                if (code === 'Escape') {\n                    this._paused = true;\n                    this.renderer.titleScreen.hidden = false;\n                    return;\n                }\n\n                if (code === 'KeyS') {\n                    this._paused = true;\n                    this.browser.openShop(this.world.player.items, () => {\n                        this._paused = false;\n                    });\n                }\n\n                if (code === 'KeyE') {\n                    this._paused = true;\n                    this.browser.openInventory(this.world.player, this.world.player.items, () => {\n                        this._paused = false;\n                    });\n                }\n            }\n        };\n    }\n\n    private setupWindow (): void {\n        this.browser.onResize = (width: number, height: number, oldWidth: number, oldHeight: number) => {\n            const deltaW = oldWidth - width;\n            const deltaH = oldHeight - height;\n\n            this.renderer.camera.move(\n                deltaW/2,\n                deltaH/2\n            );\n        };\n    }\n\n    private setupLoop (): void {\n        this.loop.fps = 30;\n        this.loop.update = (delta: number) => {\n            document.body.classList.toggle('titlescreen', !this.renderer.titleScreen.hidden)\n\n            if (this._paused || this.renderer.titleScreen.hidden) {\n                return;\n            }\n\n\n            this.world.update(delta);\n\n            if (this._mouseDown) {\n                if ((Date.now() - this._lastClickAt) > 250) {\n                    const worldPos = this.renderer.camera.worldPosFromScreen(this.renderer.mousePos);\n                    this.world.onTileClicked(worldPos.floor());\n    \n                    this._lastClickAt = Date.now();\n                }\n            }\n        };\n\n        this.loop.render = (interpolation: number) => {\n            if (this._paused) {\n                return;\n            }\n\n            this.renderer.render(this.world);\n            if (this.renderer.titleScreen.hidden) {\n                this.browser.renderWorldStatsHTML(this.world);\n\n                if (Browser.getParameter('debug')) {\n                    this.browser.renderDebug(this.renderer.camera, this.renderer, this.world);\n                }\n            }\n        };\n\n        this.loop.start();\n    }\n}","import TradeableInterface from \"../interfaces/tradeable-interface\";\nimport WallTile from \"../tiles/wall-tile\";\nimport WheatTile from \"../tiles/wheat-tile\";\nimport Tile from \"tiles/tile\";\n\nexport class InventoryItem {\n    public amount: number = 0;\n    public type: TradeableInterface;\n\n    constructor (type: TradeableInterface) {\n        this.type = type;\n    }\n}\n\nexport class Inventory {\n    public static readonly MONEY_PER_OPIUM: number = 3;\n\n    public wheat: number = 0;\n    public money: number = 0;\n    public items: InventoryItem[] = [\n        new InventoryItem(new WheatTile()),\n        new InventoryItem(new WallTile())\n    ]\n\n    public getItemAmount (name: string): number {\n        for (const item of this.items) {\n            if (name === item.type.name) {\n                return item.amount;\n            }\n        }\n\n        return 0;\n    }\n\n    public setItemAmount (name: string, amount: number): void {\n        const item = this.getItem(name);\n        if (item === null) {\n            return;\n        }\n\n        item.amount = amount;\n    }\n\n    public increaseItemAmount (name: string): void {\n        this.setItemAmount(name, this.getItemAmount(name) + 1);\n    }\n\n    public decreaseItemAmount (name: string): void {\n        const amountLeft = this.getItemAmount(name) - 1;\n        this.setItemAmount(name, amountLeft < 0 ? 0 : amountLeft);\n    }\n\n    public getItem (name: string): InventoryItem | null {\n        for (const item of this.items) {\n            if (name === item.type.name) {\n                return item;\n            }\n        }\n\n        return null;\n    }\n\n    public purchaseItem (name: string, amount: number): boolean {\n        const item = this.getItem(name);\n        if (item === null) {\n            return false;\n        }\n\n        const totalCost = item.type.buyPrice * amount;\n        if (this.money - totalCost < 0) {\n            return false;\n        }\n\n        this.money -= totalCost;\n        item.amount += amount;\n        return true;\n    }\n\n    sellWheat (amount: number): boolean {\n        if (this.wheat - amount < 0) {\n            return false;\n        }\n\n        this.wheat -= amount;\n        this.money += amount * Inventory.MONEY_PER_OPIUM;\n        \n        return true;\n    }\n}","import {Inventory, InventoryItem} from \"./inventory\";\nimport WheatTile from \"../tiles/wheat-tile\";\n\nexport default class Player {\n    public readonly WHEAT_START_AMOUNT: number = 50;\n    public readonly items: Inventory = new Inventory();\n    public equipped: InventoryItem | null = null;\n\n    constructor () {\n        this.items.setItemAmount(\"Wheat\", this.WHEAT_START_AMOUNT);\n        this.equipped = this.items.getItem(\"Wheat\");\n    }\n}","import EmptyTile from '../tiles/empty-tile';\nimport WheatTile from '../tiles/wheat-tile';\nimport Player from \"./player\";\nimport EntityInterface from '../interfaces/entity-interface';\nimport RobotEntity from '../entities/enemies/robot';\nimport Vector from '../core/vector';\nimport Easings from \"../core/easings\";\nimport Tile from '../tiles/tile';\nimport BitMath from '../core/bit-math';\nimport WallTile from '../tiles/wall-tile';\n\nexport default class World {\n    public readonly SIZE: number = 20   ; // 20x20 world siz\n    public readonly CENTER: Vector = new Vector(this.SIZE/2, this.SIZE/2).floor();\n\n    private _tiles: Tile[][];\n    private _createdAt: number = Date.now();\n    private _player: Player = new Player();\n    private _entities: EntityInterface[] = [];\n    private _plantedTilesPerMin: number[] = [];\n    private _enemyGroupsPerMin: number[] = [];\n\n    get tiles (): Tile[][] {\n        return this._tiles;\n    }\n\n    get createdAt (): number {\n        return this._createdAt;\n    }\n\n    get player (): Player {\n        return this._player;\n    }\n\n    get entities (): EntityInterface[] {\n        return this._entities;\n    }\n\n    get tilesPlantedPerMin (): number {\n        return this._plantedTilesPerMin.length;\n    }\n\n    get enemyGroupsPerMin (): number {\n        return this._enemyGroupsPerMin.length;\n    }\n\n    constructor () {\n        this._tiles = Array(this.SIZE).fill([]).map(() => {\n            return Array(this.SIZE).fill([]).map(() => new EmptyTile());\n        });\n    }\n\n    public isValidTilePos (x: number, y: number): boolean {\n        return this._tiles[y] != null && this._tiles[y][x] != null;\n    }\n\n    public onTileClicked (pos: Vector): void {\n        if (!this.isValidTilePos(pos.x, pos.y)) {\n            return;\n        }\n\n        let newTile: Tile | null = null;\n        const tile = this._tiles[pos.y][pos.x];\n\n        const playerWheatTiles = this._player.items.getItemAmount('Wheat');\n        const playerWallTiles = this._player.items.getItemAmount('Wall');\n\n        tile.onClicked();\n\n        // Tile is equipped and clicked tile is empty\n        if (this._player.equipped &&\n            this._player.equipped.type instanceof Tile &&\n            tile instanceof EmptyTile) {\n\n            if (this._player.equipped.type instanceof WheatTile) {\n                // Player has remaining seeds\n                if (playerWheatTiles > 0) {\n                    this._player.items.decreaseItemAmount('Wheat');\n                    newTile = new WheatTile();\n                }\n            }\n\n            if (this._player.equipped.type instanceof WallTile) {\n                if (playerWallTiles > 0) {\n                    this._player.items.decreaseItemAmount('Wall');\n                    if (playerWallTiles - 1 === 0) {\n                        this._player.equipped = this._player.items.getItem('Wheat');\n                    }\n\n                    newTile = new WallTile();\n                }\n            }\n        }\n\n        // Clicked tile is wheat tile\n        if (tile instanceof WheatTile) {\n            // Wheat is fully grown\n            if (tile.growthState >= 1) {\n                let seedDrops: number | null = null;\n\n                // If player has no seeds left, always drop\n                while (seedDrops === null || playerWheatTiles + seedDrops === 0) {\n                    seedDrops = tile.dropSeeds()\n                }\n                \n                this._player.items.setItemAmount('Wheat', playerWheatTiles + seedDrops);\n                this._player.items.wheat += 1;\n\n                // Replace with empty tile\n                newTile = new EmptyTile();\n            }\n        }\n\n        // Clicked tile is wall tile\n        if (tile instanceof WallTile) {\n            this._player.items.increaseItemAmount('Wall');\n\n            // Replace with empty tile\n            newTile = new EmptyTile();\n        }\n\n        // New tile was created\n        if (newTile !== null) {\n            // Set damage of new tile to damage of old tile\n            newTile.damage = tile.damage;\n\n            // Update world\n            this._tiles[pos.y][pos.x] = newTile;\n\n            // Created tile is not empty\n            if (!(newTile instanceof EmptyTile)) {\n                this._plantedTilesPerMin.push(newTile.timeCreated);\n            }\n        }\n    }\n\n    public getSurroundingTileCoords (v: Vector, radius: number = 1, includeSelf: boolean = true): Vector[] {\n        const tiles: Vector[] = [];\n\n        for (let y = v.y - Math.ceil(radius); y <= v.y + Math.ceil(radius); y++) {\n            if (!this._tiles[y]) {\n                continue;\n            }\n\n            for (let x = v.x - Math.ceil(radius); x <= v.x + Math.ceil(radius); x++) {\n                if (!this._tiles[y][x] || \n                    (x === v.x && y === v.y && !includeSelf) ||\n                    new Vector(v.x - x, v.y - y).length > Math.ceil(radius)) {\n                    continue;\n                }\n\n                tiles.push(new Vector(x, y));\n            }\n        }\n\n        return tiles;\n    }\n\n    public getRandomOutsidePos (): Vector {\n        // Make spawn radius twice the game area's diameter\n        const spawnRadius = this.CENTER.length * 3;\n\n        // Set position randomly around the game area\n        return new Vector(spawnRadius, 0)\n            .rotate(Math.random() * 360)\n            .add(this.CENTER.x, this.CENTER.y);\n    }\n\n    /**\n     * Spawns a robot\n     * \n     * TODO: Make generic\n     * \n     * @param [pos] - Position to spawn enemy at (Randomly computed if not given)\n     * @param randomShift - Vector to randomly shift position by\n     */\n    public spawnEnemy (pos: Vector | null = null, randomShift?: Vector): EntityInterface {\n        // No position given\n        if (pos === null) {\n            pos = this.getRandomOutsidePos();\n        }\n\n        if (randomShift) {\n            const shiftVector = new Vector(\n                Math.random() * randomShift.x,\n                Math.random() * randomShift.y\n            ).rotate(Math.random() * 360);\n\n            pos = pos.add(shiftVector.x, shiftVector.y);\n        }\n\n        const enemy = new RobotEntity(pos.x, pos.y);        \n        this._entities.push(enemy);\n        \n        return enemy;\n    }\n\n    public update (delta: number): void {\n        // Remove old planted tiles\n        this._plantedTilesPerMin = this._plantedTilesPerMin.filter((timeCreated: number) => {\n            return (Date.now() - timeCreated) < 60 * 1000;\n        });\n\n        // Remove old enemy groups \n        this._enemyGroupsPerMin = this._enemyGroupsPerMin.filter((timeCreated: number) => {\n            return (Date.now() - timeCreated) < 60 * 1000;\n        });\n\n        // Iterate through world\n        for (let y = 0; y < this._tiles.length; y++) {\n            for (let x = 0; x < this._tiles[y].length; x++) {\n                this._tiles[y][x].update(delta);\n            }\n        }\n\n        // Start spawning enemies at more than 50 planted tiles/min\n        // Add an extra enemy for every additional 25 planted tiles/min\n        const enemieGroups = Math.ceil((this.tilesPlantedPerMin - 40) / 10);\n        if (enemieGroups > 0) {\n            // Calculate spawnable enemie groups\n            const spawnableGroupCount = enemieGroups - this.enemyGroupsPerMin;\n\n            if (spawnableGroupCount > 0) {\n                // Create each spawnable enemie group\n                for (let groupIndex = 0; groupIndex < spawnableGroupCount; groupIndex++) {\n                    // Determine random group size\n                    const groupSize = BitMath.floor(Math.random() * 3) + 1;\n                    const spawnPos = this.getRandomOutsidePos();\n\n                    // Create each enemy for set group size\n                    for (let enemyIndex = 0; enemyIndex < groupSize; enemyIndex++) {\n                        const enemy = this.spawnEnemy(spawnPos, new Vector(Math.random() * 3, Math.random() * 3));\n\n                        // Assign random world coordinates as target for spawned enemie\n                        enemy.target =  new Vector(Math.random() * this.SIZE, Math.random() * this.SIZE).floor();\n                    }\n\n                    // Push time enemy group was created at\n                    this._enemyGroupsPerMin.push(Date.now());\n                }\n            }\n        }\n\n        // Iterate existing entities\n        for (const entity of this.entities) {\n            if (entity instanceof RobotEntity) {\n                // Robot is exploding\n                if (entity.hasExploded) {\n                    // Remove this entity from list\n                    this._entities = this._entities.filter((v) => v != entity);\n\n                    const MAX_EXPLOSION_RADIUS = 2;\n\n                    const entityWorldPos = entity.position.floor();\n\n                    // Get coordinates for surrounding tiles\n                    const radius = BitMath.floor(Math.random() * (MAX_EXPLOSION_RADIUS + 1))\n                    const surroundingTileCoords = this.getSurroundingTileCoords(\n                        entityWorldPos, \n                        radius\n                    );\n\n                    // Iterate through surrounding tile coordinates\n                    for (const tilePos of surroundingTileCoords) {\n                        // Calculate distance to surrounding tile\n                        const distance = \n                            tilePos\n                                .add(0.5, 0.5)\n                                .add(\n                                    -(entityWorldPos.x + 0.5), \n                                    -(entityWorldPos.y + 0.5)\n                                ).length;\n\n                        // Calculate damage and restrict to values between 0-1\n                        const damage = 1 - (distance / (MAX_EXPLOSION_RADIUS + 1));\n\n                        const tileDestroyed = Math.random() * MAX_EXPLOSION_RADIUS/(distance + 1) > 0.5;\n                        const existingTile = this._tiles[tilePos.y][tilePos.x];\n\n                        if (tileDestroyed) {\n                            const emptyTile = new EmptyTile();\n\n                            // Add existing damage to new tile\n                            emptyTile.damage = existingTile.damage + damage;\n    \n                            // Update world for tile\n                            this._tiles[tilePos.y][tilePos.x] = emptyTile;\n                        } else {\n                            existingTile.damage = existingTile.damage + damage;\n                        }\n                    }\n                }\n            }\n\n            // Move entity to target\n            if (entity.target !== null) {\n                if (!entity.isMoving) {\n                    entity.isMoving = true;\n                    entity.initialPosition = new Vector(entity.position.x, entity.position.y);\n                }\n    \n                let entitySpeed = entity.speed * (delta/1000);\n                let distance = new Vector(entity.target.x - entity.position.x, entity.target.y - entity.position.y).length;\n    \n                if (distance > 0 && entity.initialPosition) {\n                    const initialDistance = new Vector(entity.target.x - entity.initialPosition.x, entity.target.y - entity.initialPosition.y).length;\n                    const distanceProgress = distance/initialDistance;\n    \n                    entitySpeed = entitySpeed * (1 + 2 * Easings.easeInOutQuart(1 - distanceProgress));\n                }\n    \n                if (distance <= entitySpeed) {\n                    distance = entitySpeed;\n                }\n    \n                entity.position.x += entitySpeed * (entity.target.x - entity.position.x) / distance;\n                entity.position.y += entitySpeed *(entity.target.y - entity.position.y) / distance;\n    \n                if (entity.position.x === entity.target.x && entity.position.y === entity.target.y) {\n                    if (entity instanceof RobotEntity) {\n                        entity.explode();\n                    }\n    \n                    entity.target = null;\n                    entity.isMoving = false;\n                    entity.initialPosition = null;\n                }\n            }\n        }\n    }\n}","export default class BitMath {\n    public static floor (n: number): number {\n      return n << 0\n    }\n    \n    public static round (n: number): number {\n      return (0.5 + n) << 0\n    }\n  \n    public static abs (n: number): number {\n      return (n ^ (n >> 31)) - (n >> 31)\n    }\n\n    public static isInt (value: any): boolean {\n      const x = parseFloat(value);\n      return !isNaN(value) && (x | 0) === x;\n    }\n}","/**\n * Source: https://easings.net/\n */\n\nexport default class Easings {\n    public static easeInCubic(x: number): number {\n        return x * x * x;\n    }\n\n    public static easeInOutQuart (x: number): number {\n        return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2;\n    }\n}","class GameLoop {\n    public simulationStep = 1000 / 60;\n    public frameDelta = 0;\n    public lastFrameTimeMs = 0;\n    public fps = 60;\n    public lastFpsUpdate = 0;\n    public framesThisSecond = 0;\n    public numUpdateSteps = 0;\n    public minFrameDelay = 0;\n    public running = false;\n    public started = false;\n    public panic = false;\n    public rafHandle?: number;\n\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    public begin = (time: number, delta: number): void => {};\n    public end = (fps: number, panic: boolean): void => {};\n    public update = (delta: number): void => {};\n    public render = (interpolation: number): void => {};\n    /* eslint-enable @typescript-eslint/no-empty-function */\n\n    constructor() {\n        this.animate = this.animate.bind(this);\n    }\n\n    get maxAllowedFps(): number {\n        return 1000 / this.minFrameDelay;\n    }\n\n    set maxAllowedFps (fps: number) {\n        if (fps == null) {\n            fps = Infinity;\n        }\n        \n        if (fps === 0) {\n            this.stop();\n        } else {\n            this.minFrameDelay = 1000 / fps;\n        }\n    }\n\n    public resetFrameDelta (): number {\n        const frameDelta = this.frameDelta;\n        this.frameDelta = 0;\n        return frameDelta;\n    }\n\n    public start (): void {\n        if (this.started) {\n            return;\n        }\n        \n        this.started = true;\n        this.rafHandle = requestAnimationFrame((timestamp) => {\n            this.render(1);\n            this.running = true;\n            this.lastFrameTimeMs = timestamp;\n            this.lastFpsUpdate = timestamp;\n            this.framesThisSecond = 0;\n            this.rafHandle = requestAnimationFrame(this.animate);\n        })\n    }\n\n    public stop (): void {\n        this.running = false;\n        this.started = false;\n\n        if (this.rafHandle) {\n            cancelAnimationFrame(this.rafHandle);\n        }\n    }\n\n    public animate (time: number): void {\n        this.rafHandle = requestAnimationFrame(this.animate);\n        if (time < this.lastFrameTimeMs + this.minFrameDelay) {\n            return;\n        }\n\n        this.frameDelta += time - this.lastFrameTimeMs;\n        this.lastFrameTimeMs = time;\n\n        this.begin(time, this.frameDelta);\n\n        if (time > this.lastFpsUpdate + 1000) {\n            this.fps = 0.25 * this.framesThisSecond + 0.75 * this.fps;\n            this.lastFpsUpdate = time;\n            this.framesThisSecond = 0;\n        }\n        ++this.framesThisSecond;\n\n        this.numUpdateSteps = 0;\n        while (this.frameDelta >= this.simulationStep) {\n            this.update(this.simulationStep);\n            this.frameDelta -= this.simulationStep;\n\n            if (++this.numUpdateSteps >= 240) {\n                this.panic = true;\n                break;\n            }\n        }\n\n        this.render(this.frameDelta / this.simulationStep);\n        this.end(this.fps, this.panic);\n\n        this.panic = false;\n    }\n}\n\nexport default GameLoop;","import World from \"../base/world\";\nimport Camera from \"../base/camera\";\nimport EmptyTile from \"../tiles/empty-tile\";\nimport Util from \"./util\";\nimport Vector from \"./vector\";\nimport TitleScreen from \"../title-screen/title-screen\";\nimport BitMath from \"./bit-math\";\nimport { InventoryItem } from \"../base/inventory\";\nimport Tile from \"../tiles/tile\";\n\nexport default class Renderer {\n    public readonly FONT_SIZE = 12;\n    public readonly FONT_EMOJI_SIZE = 16;\n    public readonly SQUARE_SIZE = 32;\n\n    private _canvas: HTMLCanvasElement = document.createElement('canvas');\n    public readonly camera: Camera = new Camera(this.SQUARE_SIZE);\n    public readonly titleScreen: TitleScreen = new TitleScreen();\n\n    public mousePos: Vector = new Vector(0, 0);\n    public equippedItem: InventoryItem | null = null;\n\n    get width (): number {\n        return this._canvas.width;\n    }\n\n    get height (): number {\n        return this._canvas.height;\n    }\n\n    get z (): number {\n        return this.camera.zoomAmount;\n    }\n\n    constructor () {\n        this.setupCanvas();\n    }\n\n    private setupCanvas (): void {\n        this.setToWindowSize();\n\n        window.addEventListener('load', (e) => {\n            this.setToWindowSize();\n        });\n\n        window.addEventListener('resize', (e) => {\n            this.setToWindowSize();\n        });\n\n        document.body.append(this._canvas);\n    }\n\n    private setToWindowSize (): void {\n        this._canvas.width = window.innerWidth;\n        this._canvas.height = window.innerHeight;\n    }\n\n    public paintChar (ctx: CanvasRenderingContext2D, char: string, charColor: string, x: number, y: number, isHover: boolean): void {\n        if (isHover) {\n            ctx.shadowColor = \"white\";\n            ctx.shadowOffsetX = 0;\n            ctx.shadowOffsetY = 0;\n            ctx.shadowBlur = BitMath.floor(5 * this.z);\n        }\n\n        let fontSize = this.FONT_SIZE;\n        let fontFamily = \"Courier New\";\n\n        // Isn't alphanumeric -> must be emoji\n        if (!Util.isAlphaNumeric(char)) {\n            fontSize = this.FONT_EMOJI_SIZE;\n            fontFamily = \"OpenMoji\";\n        }\n\n        const textDrawPos = new Vector(\n            (this.SQUARE_SIZE * x + this.SQUARE_SIZE / 2) * this.z - this.camera.position.x,\n            (this.SQUARE_SIZE * y + this.SQUARE_SIZE / 2) * this.z - this.camera.position.y\n        );\n\n        const fontDrawSize = BitMath.floor(fontSize * this.z);\n\n        ctx.fillStyle = charColor;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = 'middle';\n        ctx.font = `${fontDrawSize}px \"${fontFamily}\"`;\n        ctx.fillText(char, BitMath.floor(textDrawPos.x), BitMath.floor(textDrawPos.y)); \n\n        ctx.shadowBlur = 0;\n    }\n\n    public paintSquare (ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean, fillStyle: string, opacity: number | null = null, char?: string | null, charColor?: string | null): void {\n        const zoom = this.camera.zoomAmount;\n        const oldAlpha = ctx.globalAlpha;\n\n        if (opacity !== null) {\n            ctx.globalAlpha = opacity;\n        }\n\n        ctx.fillStyle = fillStyle;\n        ctx.fillRect(\n            this.SQUARE_SIZE * x * zoom - this.camera.position.x, \n            this.SQUARE_SIZE * y * zoom - this.camera.position.y, \n            this.SQUARE_SIZE * zoom, \n            this.SQUARE_SIZE * zoom\n        );\n\n        if (char) {\n            const charFillStyle = charColor ? charColor : 'white';\n            this.paintChar(ctx, char, charFillStyle, x, y, isHover);\n        }\n\n        ctx.globalAlpha = oldAlpha;\n    }\n\n    public outlineSquare (ctx: CanvasRenderingContext2D, x: number, y: number, borderWidth: number = 1): void {\n        ctx.strokeStyle = 'white';\n        ctx.lineWidth = borderWidth * this.z;\n        ctx.strokeRect(\n            (this.SQUARE_SIZE * x + borderWidth / 2) * this.z - this.camera.position.x, \n            (this.SQUARE_SIZE * y + borderWidth / 2) * this.z - this.camera.position.y, \n            (this.SQUARE_SIZE - borderWidth) * this.z, \n            (this.SQUARE_SIZE - borderWidth) * this.z\n        );\n    }\n\n    public paintProgressBar (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, progress: number, color: string = 'green'): void {\n        const oldAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = 0.65;\n\n        ctx.fillStyle = 'white';\n        ctx.fillRect(\n            this.SQUARE_SIZE * x * this.z - this.camera.position.x, \n            this.SQUARE_SIZE * y * this.z - this.camera.position.y, \n            this.SQUARE_SIZE * width * this.z, \n            this.SQUARE_SIZE * height * this.z\n        );\n\n        ctx.fillStyle = color;\n        ctx.fillRect(\n            (this.SQUARE_SIZE * x + 1) * this.z - this.camera.position.x, \n            (this.SQUARE_SIZE * y + 1) * this.z - this.camera.position.y, \n            (this.SQUARE_SIZE * width - 2) * this.z * progress, \n            (this.SQUARE_SIZE * height - 2) * this.z\n        );\n\n        ctx.globalAlpha = oldAlpha;\n    }\n\n    public render (world: World): void {\n        const ctx = this._canvas.getContext('2d');\n        if (!ctx) {\n            return;\n        }\n\n        const mouseWorldPos = this.camera.worldPosFromScreen(this.mousePos);\n\n        ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);\n\n        const xStart = Math.floor(this.camera.position.x / (this.SQUARE_SIZE * this.camera.zoomAmount));\n        const xEnd = Math.ceil((this.camera.position.x + window.innerWidth) / (this.SQUARE_SIZE * this.camera.zoomAmount));\n        const yStart = Math.floor(this.camera.position.y / (this.SQUARE_SIZE * this.camera.zoomAmount));\n        const yEnd = Math.ceil((this.camera.position.y + window.innerHeight) / (this.SQUARE_SIZE * this.camera.zoomAmount));\n\n        // Draw empty squares around world\n        for (let y = yStart; y < yEnd; y++) {\n            for (let x = xStart; x < xEnd; x++) {\n                this.paintSquare(ctx, x, y, false, Util.lightenDarkenColor(EmptyTile.COLOR, 8));\n            }\n        }\n\n        // Draw world itself\n        for (let y = 0; y < world.tiles.length; y++) {\n            for (let x = 0; x < world.tiles[y].length; x++) {\n                ctx.globalAlpha = 1;\n\n                const isHover = BitMath.floor(mouseWorldPos.x) === x && BitMath.floor(mouseWorldPos.y)  === y;\n\n                const tile = world.tiles[y][x];\n                tile.render(this, ctx, x, y, isHover);\n\n                if (isHover) {\n                    /*\n                    // If hovered tile is empty and equipped item is tile\n                    if (tile instanceof EmptyTile &&\n                        world.player.equipped &&\n                        world.player.equipped.type instanceof Tile) { // Preview\n                        // Reset created time\n                        world.player.equipped.type.timeCreated = Date.now();\n                        world.player.equipped.type.render(this, ctx, x, y, isHover, 0.25);\n                    }\n                    */\n\n                    this.outlineSquare(ctx, x, y);\n                }\n\n                tile.renderLatest(this, ctx, x, y, isHover);\n            }\n        }\n\n        // Draw entities\n        for (const entity of world.entities) {\n            this.paintChar(ctx, entity.getChar(), 'white', entity.position.x, entity.position.y, false);\n        }\n\n        // Draw title screen\n        this.titleScreen.render(this, ctx);\n    }\n}","export default class Util {\n    private static alphaNumericRegExp = new RegExp(\"[\\\\w ]+\");\n\n  public static isAlphaNumeric (text: string): boolean {\n      return Util.alphaNumericRegExp.test(text);\n  }\n\n  public static leadZeros (value: number | string, size: number): number | string {\n    value = value.toString();\n\n    while (value.length < size) {\n      value = '0' + value;\n    }\n    return value;\n  }\n\n  public static mixColors (color1: string, color2: string, percent: number): string {\n    const red1 = parseInt(color1[1] + color1[2], 16);\n    const green1 = parseInt(color1[3] + color1[4], 16);\n    const blue1 = parseInt(color1[5] + color1[6], 16);\n  \n    const red2 = parseInt(color2[1] + color2[2], 16);\n    const green2 = parseInt(color2[3] + color2[4], 16);\n    const blue2 = parseInt(color2[5] + color2[6], 16);\n  \n    const red = Math.round(Util.mix(red1, red2, percent));\n    const green = Math.round(Util.mix(green1, green2, percent));\n    const blue = Math.round(Util.mix(blue1, blue2, percent));\n  \n    return Util.generateHexFromRGB(red, green, blue);\n  }\n  \n  private static generateHexFromRGB (r: number, g: number, b: number) {\n    let rs = r.toString(16);\n    let gs = g.toString(16);\n    let bs = b.toString(16);\n  \n    while (rs.length < 2) { rs = \"0\" + rs; }\n    while (gs.length < 2) { gs = \"0\" + gs; }\n    while (bs.length < 2) { bs = \"0\" + bs; }\n  \n    return \"#\" + rs + gs + bs;\n  }\n  \n  private static mix (start: number, end: number, percent: number) {\n      return start + ((percent) * (end - start));\n  }\n\n  public static lightenDarkenColor (color: string, amount: number): string {\n        let usePound = false;\n\n        if (color[0] == \"#\") {\n            color = color.slice(1);\n            usePound = true;\n        }\n\n        const num = parseInt(color, 16);\n\n        let r = (num >> 16) + amount;\n\n        if (r > 255) r = 255;\n        else if (r < 0) r = 0;\n\n        let b = ((num >> 8) & 0x00FF) + amount;\n\n        if (b > 255) b = 255;\n        else if  (b < 0) b = 0;\n\n        let g = (num & 0x0000FF) + amount;\n\n        if (g > 255) g = 255;\n        else if  (g < 0) g = 0;\n\n        return (usePound ? \"#\" : \"\") + (g | (b << 8) | (r << 16)).toString(16);\n    }\n}","import BitMath from \"./bit-math\";\n\nexport default class Vector {\n    public x: number;\n    public y: number;\n\n    /**\n     * Retrieve total length\n     * \n     * @returns Total length\n     */\n    get length (): number {\n        return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n\n    /**\n     * Constructor\n     * \n     * @param x - Initial x coordinate\n     * @param y - Initial y coordinate\n     */\n    constructor (x: number, y: number) {\n        this.x = x;\n        this.y = y;\n    }\n\n    /**\n     * Add to coordinates\n     * \n     * @param x - Added to x coordinate\n     * @param y - Added to y coordinate\n     * @returns Vector with added coordinates\n     */\n    public add (x: number, y: number): Vector {\n        return new Vector(this.x + x, this.y + y)\n    }\n\n    /**\n     * Round off coordinates\n     * \n     * @returns Vector with rounded off coordinates\n     */\n    public floor (): Vector {\n        return new Vector(BitMath.floor(this.x), BitMath.floor(this.y));\n    }\n\n    /**\n     * Rotate clockwise by degrees\n     * \n     * @param deg - Angle in degrees\n     * @returns Rotated vector\n     */\n    public rotate (deg: number): Vector {\n        const rad = -deg * (Math.PI/180);\n\n        const cos = Math.cos(rad);\n        const sin = Math.sin(rad);\n\n        return new Vector(\n            Math.round(10000 * (this.x * cos - this.y * sin)) / 10000, \n            Math.round(10000 * (this.x * sin + this.y * cos)) / 10000\n        );\n    }\n\n    public toString(): string {\n        return `Vector (${this.x}, ${this.y})`;\n    }\n}","import EntityInterface from \"interfaces/entity-interface\";\nimport Vector from \"../../core/vector\";\n\nexport default class RobotEntity implements EntityInterface {\n    public readonly EXPLODE_TIME = 3 * 1000;\n\n    public readonly name: string = 'Robot';\n    public readonly speed: number = 2;\n\n    public position: Vector;\n    public initialPosition: Vector | null = null;\n    public target: Vector | null = null;\n    public isHostile: boolean = true;\n    public isMoving: boolean = false;\n\n    private _explodedAt: number | null = null;\n\n    get explosionProgress (): number {\n        if (this._explodedAt === null) {\n            return 0;\n        }\n        \n        const progress = (Date.now() - this._explodedAt) / this.EXPLODE_TIME;\n        return progress > 1 ? 1 : progress;\n    }\n\n    get hasExploded (): boolean {\n        return this.explosionProgress === 1;\n    }\n\n    constructor (x: number, y: number) {\n        this.position = new Vector(x, y);\n    }\n\n    public getChar (): string {\n        if (this.explosionProgress > 0) {\n            if (this.explosionProgress <= 0.6) {\n                return '';\n            }\n\n            if (this.explosionProgress > 0.6 && this.explosionProgress < 0.8) {\n                return '';\n            }\n\n            if (this.explosionProgress > 0.8 && this.explosionProgress < 1) {\n                return '';\n            }\n\n            if (this.explosionProgress >= 1) {\n                return '';\n            }\n        }\n\n        return '';\n    }\n\n    public explode (): void {\n        this._explodedAt = Date.now();\n    }\n}","import Game from \"./base/game\";\nimport Browser from \"./base/browser\";\n\nGame.instance;\n\nif (Browser.isMobile()) {\n    Browser.alert('Warning: This is an early-alpha build of the game, mobile is not yet supported.');\n}","import Tile from './tile';\nimport Renderer from '../core/renderer';\n\nexport default class EmptyTile extends Tile {\n    public static readonly COLOR = '#ebb434';\n    public name: string = \"Empty\";\n    public timeCreated: number = Date.now();\n    \n    public getChar (preview: boolean = false): string | null {\n        return 'x';\n    }\n\n    public getHexColor (): string | null {\n        return this.getDamagedHexColor(EmptyTile.COLOR);\n    }\n\n    public getCharColor (): string | null {\n        return '#666666';\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        super.renderLatest(renderer, ctx, x, y, isHover);\n    }\n}","import TileInterface from '../interfaces/tile-interface';\nimport Renderer from '../core/renderer';\nimport Util from '../core/util';\n\nexport default class Tile implements TileInterface {\n    public static readonly DAMAGE_HEAL_TIME = 60 * 1000;\n    public static readonly COLOR: string = '';\n\n    public name: string = \"\";\n    public timeCreated: number = Date.now();\n\n    private _damage: number = 0;\n\n    get damage (): number {\n        return this._damage;\n    }\n\n    set damage (amount: number) {\n        this._damage = amount > 1 ? 1 : amount < 0 ? 0 : amount;\n    }\n\n    public hasCollision (): boolean {\n        return false;\n    }\n    \n    public getChar (preview: boolean = false): string | null {\n        return 'x';\n    }\n\n    public getDamagedHexColor (color: string): string {\n        const lightenDarkenFactor = -(this.damage) * 50;\n        return Util.lightenDarkenColor(color, lightenDarkenFactor);\n    }\n\n    public getHexColor (): string | null {\n        return '#000000';\n    }\n\n    public getCharColor (): string | null {\n        return '#000000';\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    private paintSquare(renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean, opacity: number | null = null) {\n        const hexColor = this.getHexColor();\n        if (!hexColor) {\n            return;\n        }\n\n        renderer.paintSquare(ctx, x, y, isHover, hexColor, opacity, this.getChar(), this.getCharColor());\n    }\n\n    public render (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean, opacity: number | null = null): void {\n        this.paintSquare(renderer, ctx, x, y, isHover, opacity);\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        if (isHover && this.damage > 0) {\n            renderer.paintProgressBar(ctx, x + 0.25/2, y + 0.15, 0.75, 0.15, this.damage, 'red');\n        }\n    }\n\n    public update (delta: number): void {\n        this.damage -= delta / Tile.DAMAGE_HEAL_TIME;\n    }\n}","import Tile from './tile';\nimport Renderer from '../core/renderer';\nimport TradeableInterface from '../interfaces/tradeable-interface';\n\nexport default class WallTile extends Tile implements TradeableInterface {\n    public readonly buyPrice: number = 10;\n    public readonly sellPrice: number = 4;\n\n    public name: string = \"Wall\";\n\n    public hasCollision (): boolean {\n        return true;\n    }\n    \n    public getChar (preview: boolean = false): string | null {\n        if (preview) {\n            return '';\n        }\n        return null;\n    }\n\n    public getHexColor (): string | null {\n        return '#111111';\n    }\n\n    public getCharColor (): string | null {\n        return null;\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        super.renderLatest(renderer, ctx, x, y, isHover);\n    }\n}","import Util from '../core/util';\nimport EmptyTile from './empty-tile';\nimport Renderer from '../core/renderer';\nimport Tile from './tile';\nimport Easings from '../core/easings';\nimport BitMath from '../core/bit-math';\nimport TradeableInterface from '../interfaces/tradeable-interface';\n\nexport default class WheatTile extends Tile implements TradeableInterface {\n    public readonly buyPrice: number = 0;\n    public readonly sellPrice: number = 0;\n\n    public readonly GROWTH_TIME = 7.5 * 1000;\n    public readonly MIN_SEED_DROP = 0;\n    public readonly MAX_SEED_DROP = 3;\n    private readonly COLOR_GROWN = '#7dbf21';\n\n    public name: string = \"Wheat\";\n\n    get growthState (): number {\n        const growth = (Date.now() - this.timeCreated) / this.GROWTH_TIME;\n\n        if (growth < 1) {\n            return growth * (1 - this.damage)\n        }\n        return growth > 1 ? 1 : growth;\n    }\n\n    public getChar (preview: boolean = false): string | null {\n        if (preview || this.growthState < 0.4) {\n            return '';\n        }\n\n        if (this.growthState >= 1) {\n            return '';\n        }\n\n        return '';\n    }\n\n    public getCharColor (): string | null {\n        return '#ffffff';\n    }\n\n    public getHexColor (): string | null { \n        const mixAmount = Easings.easeInCubic(this.growthState);\n        const growthColor = Util.mixColors(EmptyTile.COLOR, this.COLOR_GROWN, mixAmount);\n        return this.getDamagedHexColor(growthColor);\n    }\n\n    public onClicked (): void {\n        // TODO: Implement logic\n    }\n\n    public dropSeeds (): number {\n        return BitMath.floor(Math.random() * (this.MAX_SEED_DROP - this.MIN_SEED_DROP + 1)) + this.MIN_SEED_DROP;\n    }\n\n    public render (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean, opacity: number | null = null): void {\n        super.render(renderer, ctx, x, y, isHover, opacity);\n    }\n\n    public renderLatest (renderer: Renderer, ctx: CanvasRenderingContext2D, x: number, y: number, isHover: boolean): void {\n        super.renderLatest(renderer, ctx, x, y, isHover);\n\n        if (isHover && this.growthState < 1) {\n            renderer.paintProgressBar(ctx, x + 0.25/2, y + 0.7, 0.75, 0.15, this.growthState);\n        }\n    }\n}","import SlideInterface from \"../interfaces/slide-interface\";\nimport Renderer from \"../core/renderer\";\nimport Util from \"../core/util\";\nimport Vector from \"core/vector\";\n\nexport default class TitleScreenLoadSlide implements SlideInterface {\n    music: HTMLAudioElement;\n\n    constructor () {\n        this.music = new Audio('audio/210107blunt164.ogg');\n        this.music.loop = true;\n    }\n\n    render (renderer: Renderer, ctx: CanvasRenderingContext2D): void {\n        ctx.fillStyle = '#111111';\n        ctx.fillRect(0, 0, renderer.width, renderer.height);\n        \n        ctx.fillStyle = '#f3bc3c';\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = 'middle';\n        ctx.font = `${20 * 1}px \"Courier New\"`;\n\n        ctx.shadowColor = Util.lightenDarkenColor(\"#f3bc3c\", 20);\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 0;\n        ctx.shadowBlur = 7;\n        \n        ctx.fillText(\"Click to load\".toUpperCase().split('').join(' '), renderer.width/2, renderer.height/2);\n\n        ctx.shadowBlur = 0;\n    }\n\n    update (delta: number): void {\n        // TODO: Implement logic\n    }\n\n    onClick (pos: Vector): void {\n        if (this.music.paused) {\n            this.music.play();\n        }\n    }\n}","import SlideInterface from \"../interfaces/slide-interface\";\nimport Renderer from \"../core/renderer\";\nimport Util from \"../core/util\";\nimport Vector from \"../core/vector\";\n\nexport default class TitleScreenLogoSlide implements SlideInterface {\n\n    private _logo: string[] = [\n        ' __     __     __  __     ______     ______     ______      ______   ______     ______     __    __     ______     ______    ',\n        '/\\\\ \\\\  _ \\\\ \\\\   /\\\\ \\\\_\\\\ \\\\   /\\\\  ___\\\\   /\\\\  __ \\\\   /\\\\__  _\\\\    /\\\\  ___\\\\ /\\\\  __ \\\\   /\\\\  == \\\\   /\\\\ \"-./  \\\\   /\\\\  ___\\\\   /\\\\  == \\\\   ',\n        '\\\\ \\\\ \\\\/ \".\\\\ \\\\  \\\\ \\\\  __ \\\\  \\\\ \\\\  __\\\\   \\\\ \\\\  __ \\\\  \\\\/_/\\\\ \\\\/    \\\\ \\\\  __\\\\ \\\\ \\\\  __ \\\\  \\\\ \\\\  __<   \\\\ \\\\ \\\\-./\\\\ \\\\  \\\\ \\\\  __\\\\   \\\\ \\\\  __<   ',\n        ' \\\\ \\\\__/\".~\\\\_\\\\  \\\\ \\\\_\\\\ \\\\_\\\\  \\\\ \\\\_____\\\\  \\\\ \\\\_\\\\ \\\\_\\\\    \\\\ \\\\_\\\\     \\\\ \\\\_\\\\    \\\\ \\\\_\\\\ \\\\_\\\\  \\\\ \\\\_\\\\ \\\\_\\\\  \\\\ \\\\_\\\\ \\\\ \\\\_\\\\  \\\\ \\\\_____\\\\  \\\\ \\\\_\\\\ \\\\_\\\\ ',\n        '  \\\\/_/   \\\\/_/   \\\\/_/\\\\/_/   \\\\/_____/   \\\\/_/\\\\/_/     \\\\/_/      \\\\/_/     \\\\/_/\\\\/_/   \\\\/_/ /_/   \\\\/_/  \\\\/_/   \\\\/_____/   \\\\/_/ /_/ '\n    ];\n\n    private _description: string[] = [\n        \"Plant wheat seeds, harvest crops and sell them.\",\n        \"\",\n        \"Avoid robot attacks at all costs.\"\n    ]\n\n    private _credits: string [] = [\n        \"Programming by Alexander Roidl and Julian Arnold\",\n        \"Music by Julian Arnold\"\n    ];\n\n    render (renderer: Renderer, ctx: CanvasRenderingContext2D): void {\n        const longestLineWidth = this._logo.reduce((a: string, b: string) => {\n            return a.length > b.length ? a : b;\n        }).length;\n\n        const targetLogoWidth = 0.75;\n        let fontSize = (renderer.width / (20 * longestLineWidth) * 1.65) * targetLogoWidth;\n\n        ctx.fillStyle = '#111111';\n        ctx.fillRect(0, 0, renderer.width, renderer.height);\n        \n        ctx.fillStyle = '#f3bc3c';\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = 'middle';\n        ctx.font = `${20 * fontSize}px \"Courier New\"`;\n\n        ctx.shadowColor = Util.lightenDarkenColor(\"#f3bc3c\", 20);\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 0;\n        ctx.shadowBlur = 7;\n        \n        const yShift = Math.sin((Date.now() / 1000) % 4) * 20;\n        for (let line = 0; line < this._logo.length; line++) {\n            const lineOffset = 20 * fontSize * (line - this._logo.length);\n            ctx.fillText(this._logo[line], renderer.width/2, renderer.height/2 + lineOffset + yShift)\n        }\n\n        fontSize = 20;\n\n        ctx.textBaseline = 'top';\n        ctx.font = `${fontSize}px \"Courier New\"`;\n        \n        for (let dLine = 0; dLine < this._description.length; dLine++) {\n            const descriptionOffset = 1.5 * fontSize * (dLine + 3);\n            ctx.fillText(this._description[dLine], renderer.width/2, renderer.height/2 + descriptionOffset)\n        }\n\n        fontSize = 15;\n\n        ctx.textBaseline = 'bottom';\n        ctx.font = `${fontSize}px \"Courier New\"`;\n        ctx.shadowBlur = 5;\n        \n        for (let cLine = 0; cLine < this._credits.length; cLine++) {\n            const descriptionOffset = 1.5 * fontSize * (cLine);\n            ctx.fillText(this._credits[cLine], renderer.width/2, renderer.height - (1.5 * 3 * fontSize) + descriptionOffset)\n        }\n\n        ctx.shadowBlur = 0;\n    }\n\n    update (delta: number): void {\n        // TODO: Implement logic\n    }\n\n    onClick (pos: Vector): void {\n        // TODO: Implement logic\n    }\n}","import Renderer from \"../core/renderer\";\nimport SlideInterface from \"../interfaces/slide-interface\";\nimport TitleScreenLogoSlide from \"./title-screen-logo-slide\";\nimport Vector from \"../core/vector\";\nimport TitleScreenLoadSlide from \"./title-screen-load\";\n\nexport default class TitleScreen {\n    private _hidden: boolean = false;\n    private _slideId: number = 0;\n    private _slides: SlideInterface[] = [\n        new TitleScreenLoadSlide(),\n        new TitleScreenLogoSlide()\n    ];\n    private _clickedAt: number | null = null;\n\n    get hidden (): boolean {\n        return this._hidden;\n    }\n\n    set hidden (hidden: boolean) {\n        this._hidden = hidden;\n    }\n\n    public onClick (pos: Vector): void {\n        if (this._clickedAt === null) {\n            this._clickedAt = Date.now();\n        }\n\n        this._slides[this._slideId].onClick(pos);\n\n        if (this._slideId + 1 > this._slides.length - 1) {\n            for (const slide of this._slides) {\n                if (slide instanceof TitleScreenLoadSlide) {\n                    slide.music.volume = 0.25;\n                    break;\n                }\n            }\n            this._hidden = true;\n            return;\n        }\n        \n        this._slideId++;\n    }\n\n    public update (delta: number): void {\n        if (this._slides[this._slideId]) {\n            this._slides[this._slideId].update(delta);\n        }\n    }\n    \n    public render (renderer: Renderer, ctx: CanvasRenderingContext2D): void {\n        if (this._hidden) {\n            return;\n        }\n\n        if (this._slides[this._slideId]) {\n            this._slides[this._slideId].render(renderer, ctx);\n        }\n    }\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvYmFzZS9icm93c2VyLnRzIiwic3JjL3RzL2Jhc2UvY2FtZXJhLnRzIiwic3JjL3RzL2Jhc2UvZ2FtZS50cyIsInNyYy90cy9iYXNlL2ludmVudG9yeS50cyIsInNyYy90cy9iYXNlL3BsYXllci50cyIsInNyYy90cy9iYXNlL3dvcmxkLnRzIiwic3JjL3RzL2NvcmUvYml0LW1hdGgudHMiLCJzcmMvdHMvY29yZS9lYXNpbmdzLnRzIiwic3JjL3RzL2NvcmUvZ2FtZS1sb29wLnRzIiwic3JjL3RzL2NvcmUvcmVuZGVyZXIudHMiLCJzcmMvdHMvY29yZS91dGlsLnRzIiwic3JjL3RzL2NvcmUvdmVjdG9yLnRzIiwic3JjL3RzL2VudGl0aWVzL2VuZW1pZXMvcm9ib3QudHMiLCJzcmMvdHMvaW5kZXgudHMiLCJzcmMvdHMvdGlsZXMvZW1wdHktdGlsZS50cyIsInNyYy90cy90aWxlcy90aWxlLnRzIiwic3JjL3RzL3RpbGVzL3dhbGwtdGlsZS50cyIsInNyYy90cy90aWxlcy93aGVhdC10aWxlLnRzIiwic3JjL3RzL3RpdGxlLXNjcmVlbi90aXRsZS1zY3JlZW4tbG9hZC50cyIsInNyYy90cy90aXRsZS1zY3JlZW4vdGl0bGUtc2NyZWVuLWxvZ28tc2xpZGUudHMiLCJzcmMvdHMvdGl0bGUtc2NyZWVuL3RpdGxlLXNjcmVlbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0dBLElBQUEsUUFBQSxHQUFBLGVBQUEsQ0FBQSxPQUFBLENBQUEsZ0JBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsVUFBQSxHQUFBLGVBQUEsQ0FBQSxPQUFBLENBQUEsa0JBQUEsQ0FBQSxDQUFBOztBQUNBLElBQUEsV0FBQSxHQUFBLE9BQUEsQ0FBQSxhQUFBLENBQUE7O0FBQ0EsSUFBQSxNQUFBLEdBQUEsZUFBQSxDQUFBLE9BQUEsQ0FBQSxl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ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IFdvcmxkIGZyb20gXCIuL3dvcmxkXCI7XG5pbXBvcnQgQ2FtZXJhIGZyb20gXCIuL2NhbWVyYVwiO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuLi9jb3JlL3JlbmRlcmVyXCI7XG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuLi9jb3JlL3ZlY3RvclwiO1xuaW1wb3J0IEJpdE1hdGggZnJvbSBcIi4uL2NvcmUvYml0LW1hdGhcIjtcbmltcG9ydCB7SW52ZW50b3J5LCBJbnZlbnRvcnlJdGVtfSBmcm9tIFwiLi9pbnZlbnRvcnlcIjtcbmltcG9ydCBUaWxlIGZyb20gXCIuLi90aWxlcy90aWxlXCI7XG5pbXBvcnQgVXRpbCBmcm9tIFwiLi4vY29yZS91dGlsXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL3BsYXllclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCcm93c2VyIHtcbiAgICBwcml2YXRlIF9zdGF0c0Rpc3BsYXk6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJpdmF0ZSBfd29ybGRTdGF0czogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcml2YXRlIF9zaG9wOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgX2ludmVudG9yeTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgIHByaXZhdGUgX21vdXNlRG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX21vdXNlUG9zOiBWZWN0b3IgPSBuZXcgVmVjdG9yKDAsIDApO1xuXG4gICAgcHJpdmF0ZSBfb2xkV2luZG93V2lkdGg6IG51bWJlciA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHByaXZhdGUgX29sZFdpbmRvd0hlaWdodDogbnVtYmVyID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgZ2V0IG1vdXNlRG93biAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb3VzZURvd247XG4gICAgfVxuXG4gICAgZ2V0IG1vdXNlUG9zICgpOiBWZWN0b3Ige1xuICAgICAgICByZXR1cm4gdGhpcy5fbW91c2VQb3M7XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uICovXG4gICAgcHVibGljIG9uU2Nyb2xsID0gKGRlbHRhOiBudW1iZXIpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvbk1vdXNlRG93biA9IChwb3M6IFZlY3Rvcik6IHZvaWQgPT4ge307XG4gICAgcHVibGljIG9uTW91c2VVcCA9IChwb3M6IFZlY3Rvcik6IHZvaWQgPT4ge307XG4gICAgcHVibGljIG9uTW91c2VNb3ZlID0gKHBvczogVmVjdG9yKTogdm9pZCA9PiB7fTtcbiAgICBwdWJsaWMgb25Nb3VzZURyYWcgPSAocG9zOiBWZWN0b3IpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvbk1vdXNlQ2xpY2sgPSAocG9zOiBWZWN0b3IpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvblJlc2l6ZSA9ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgb2xkV2lkdGg6IG51bWJlciwgb2xkSGVpZ2h0OiBudW1iZXIpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvbktleURvd24gPSAoa2V5Q29kZTogbnVtYmVyLCBjb2RlOiBzdHJpbmcpOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyBvbktleVVwID0gKGtleUNvZGU6IG51bWJlciwgY29kZTogc3RyaW5nKTogdm9pZCA9PiB7fTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvbiAqL1xuXG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICB0aGlzLnNldHVwRE9NKCk7XG4gICAgICAgIHRoaXMuc2V0dXBFdmVudHMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwRE9NICgpOiB2b2lkIHtcbiAgICAgICAgLy8gU3RhdHMgZGlzcGxheVxuICAgICAgICB0aGlzLl9zdGF0c0Rpc3BsYXkuY2xhc3NMaXN0LmFkZCgnZ3VpJyk7XG4gICAgICAgIHRoaXMuX3N0YXRzRGlzcGxheS5jbGFzc0xpc3QuYWRkKCdzdGF0cy1kaXNwbGF5Jyk7XG5cbiAgICAgICAgLy8gV29ybGQgc3RhdHNcbiAgICAgICAgdGhpcy5fd29ybGRTdGF0cy5jbGFzc0xpc3QuYWRkKCd3b3JsZC1zdGF0cycpO1xuXG4gICAgICAgIC8vIEtleWJvYXJkIGluZm9cbiAgICAgICAgY29uc3Qga2V5Ym9hcmRJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGtleWJvYXJkSW5mby5jbGFzc0xpc3QuYWRkKCdrZXlib2FyZC1pbmZvJyk7XG4gICAgICAgIGtleWJvYXJkSW5mby5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwia2V5Ym9hcmQtaW5mby1yb3dcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TPC9zcGFuPiBPcGVuIHNob3BcbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwia2V5Ym9hcmQtaW5mby1yb3dcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5FPC9zcGFuPiBPcGVuIGludmVudG9yeVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gQWRkIGV2ZXJ5dGhpbmcgdG8gRE9NXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3N0YXRzRGlzcGxheSwgdGhpcy5fd29ybGRTdGF0cywga2V5Ym9hcmRJbmZvKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwRXZlbnRzICgpOiB2b2lkIHtcbiAgICAgICAgLy8gVGhlIGZsYWcgdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHdoZWVsIGV2ZW50IGlzIHN1cHBvcnRlZFxuICAgICAgICBsZXQgc3VwcG9ydHNXaGVlbCA9IGZhbHNlO1xuXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbiAgICAgICAgLy8gVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gd2hlbiB0aGUgZXZlbnRzIGFyZSB0cmlnZ2VyZWRcbiAgICAgICAgY29uc3Qgd2hlZWxIYW5kbGVyID0gKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudHlwZSA9PSAnd2hlZWwnKSBzdXBwb3J0c1doZWVsID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHN1cHBvcnRzV2hlZWwpIHJldHVybjtcblxuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSAoKGUuZGVsdGFZIHx8IC1lLndoZWVsRGVsdGEgfHwgZS5kZXRhaWwpID4+IDEwKSB8fCAxO1xuICAgICAgICAgICAgdGhpcy5vblNjcm9sbChkZWx0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cbiAgICAgICAgLy8gQWRkIHRoZSBldmVudCBsaXN0ZW5lcnMgZm9yIGVhY2ggZXZlbnQuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgd2hlZWxIYW5kbGVyKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHdoZWVsSGFuZGxlcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU1vdXNlU2Nyb2xsJywgd2hlZWxIYW5kbGVyKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlRG93biA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKG5ldyBWZWN0b3IoZS5zY3JlZW5YLCBlLnNjcmVlblkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZURvd24gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKG5ldyBWZWN0b3IoZS5zY3JlZW5YLCBlLnNjcmVlblkpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlUG9zLnggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZVBvcy55ID0gZS5jbGllbnRZO1xuXG4gICAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlKG5ldyBWZWN0b3IoZS5jbGllbnRYLCBlLmNsaWVudFkpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX21vdXNlRG93bikge1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURyYWcobmV3IFZlY3RvcihlLmNsaWVudFgsIGUuY2xpZW50WSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uTW91c2VDbGljayh0aGlzLl9tb3VzZVBvcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb2xkV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCwgdGhpcy5fb2xkV2luZG93V2lkdGgsIHRoaXMuX29sZFdpbmRvd0hlaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMuX29sZFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9vbGRXaW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbktleURvd24oZS5rZXlDb2RlLCBlLmNvZGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uS2V5VXAoZS5rZXlDb2RlLCBlLmNvZGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzTW9iaWxlICgpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgdG9NYXRjaCA9IFtcbiAgICAgICAgICAgIC9BbmRyb2lkL2ksXG4gICAgICAgICAgICAvd2ViT1MvaSxcbiAgICAgICAgICAgIC9pUGhvbmUvaSxcbiAgICAgICAgICAgIC9pUGFkL2ksXG4gICAgICAgICAgICAvaVBvZC9pLFxuICAgICAgICAgICAgL0JsYWNrQmVycnkvaSxcbiAgICAgICAgICAgIC9XaW5kb3dzIFBob25lL2lcbiAgICAgICAgXTtcbiAgICBcbiAgICAgICAgcmV0dXJuIHRvTWF0Y2guc29tZSgodG9NYXRjaEl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKHRvTWF0Y2hJdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBhbGVydCAodGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHdpbmRvdy5hbGVydCh0ZXh0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldFBhcmFtZXRlciAobmFtZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIC8vIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU0NDg1OTUvMTEzNzkwNzJcblxuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgbGV0IHRtcCA9IFtdO1xuXG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaFxuICAgICAgICAgICAgLnN1YnN0cigxKVxuICAgICAgICAgICAgLnNwbGl0KFwiJlwiKVxuICAgICAgICAgICAgLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgdG1wID0gaXRlbS5zcGxpdCgnPScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRtcFswXSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkZWNvZGVVUklDb21wb25lbnQodG1wWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0V29ybGRTdGF0c1Jvd0hUTUwgKGljb246IHN0cmluZywgdGV4dD86IHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0ZXh0ID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxlZnRDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbGVmdENvbHVtbi5jbGFzc0xpc3QuYWRkKCdsZWZ0Jyk7XG4gICAgICAgIGxlZnRDb2x1bW4uaW5uZXJIVE1MID0gaWNvbjtcblxuICAgICAgICBjb25zdCByaWdodENvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByaWdodENvbHVtbi5jbGFzc0xpc3QuYWRkKCdyaWdodCcpO1xuICAgICAgICByaWdodENvbHVtbi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgIGNvbnN0IHN0YXRzUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHN0YXRzUm93LmNsYXNzTGlzdC5hZGQoJ3JvdycpO1xuICAgICAgICBzdGF0c1Jvdy5hcHBlbmQobGVmdENvbHVtbiwgcmlnaHRDb2x1bW4pO1xuXG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMiAmJiAhVXRpbC5pc0FscGhhTnVtZXJpYyh0ZXh0KSkge1xuICAgICAgICAgICAgc3RhdHNSb3cuY2xhc3NMaXN0LmFkZCgnZW1vamknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGF0c1JvdztcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyV29ybGRTdGF0c0hUTUwgKHdvcmxkOiBXb3JsZCk6IHZvaWQge1xuICAgICAgICB0aGlzLl93b3JsZFN0YXRzLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGxldCBlcXVpcHBlZENoYXIgPSBcIlwiO1xuICAgICAgICBpZiAod29ybGQucGxheWVyLmVxdWlwcGVkICYmXG4gICAgICAgICAgICB3b3JsZC5wbGF5ZXIuZXF1aXBwZWQudHlwZSBpbnN0YW5jZW9mIFRpbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSB3b3JsZC5wbGF5ZXIuZXF1aXBwZWQudHlwZS5nZXRDaGFyKHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoY2hhcikge1xuICAgICAgICAgICAgICAgIGVxdWlwcGVkQ2hhciA9IGNoYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlcXVpcHBlZFJvdyA9IHRoaXMuZ2V0V29ybGRTdGF0c1Jvd0hUTUwoXCLinItcIiwgZXF1aXBwZWRDaGFyKVxuICAgICAgICB0aGlzLl93b3JsZFN0YXRzLmFwcGVuZChlcXVpcHBlZFJvdyk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCLijJvvuI9cIixcbiAgICAgICAgICAgICAgICB0ZXh0OiBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gd29ybGQuY3JlYXRlZEF0KSAvIDEwMDApICsgJ3MnLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGljb246IFwi8J+MsVwiLFxuICAgICAgICAgICAgICAgIHRleHQ6IHdvcmxkLnBsYXllci5pdGVtcy5nZXRJdGVtQW1vdW50KCdXaGVhdCcpLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGljb246IFwi8J+MvlwiLFxuICAgICAgICAgICAgICAgIHRleHQ6IHdvcmxkLnBsYXllci5pdGVtcy53aGVhdCxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpY29uOiBcIvCfkrBcIixcbiAgICAgICAgICAgICAgICB0ZXh0OiB3b3JsZC5wbGF5ZXIuaXRlbXMubW9uZXkgKyAnICQnLFxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc3RhdCBvZiBzdGF0cykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHNSb3cgPSB0aGlzLmdldFdvcmxkU3RhdHNSb3dIVE1MKHN0YXQuaWNvbiwgU3RyaW5nKHN0YXQudGV4dCkpXG4gICAgICAgICAgICB0aGlzLl93b3JsZFN0YXRzLmFwcGVuZChzdGF0c1Jvdyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENhbWVyYURlYnVnSFRNTCAoY2FtZXJhOiBDYW1lcmEpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYFxuICAgICAgICAgICAgPHN0cm9uZz5DYW1lcmE6PC9zdHJvbmc+PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5YOjwvc3Ryb25nPiAke2NhbWVyYS5wb3NpdGlvbi54LnRvRml4ZWQoMyl9PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5ZOjwvc3Ryb25nPiAke2NhbWVyYS5wb3NpdGlvbi55LnRvRml4ZWQoMyl9PGJyPlxuICAgICAgICAgICAgPHN0cm9uZz5ab29tOjwvc3Ryb25nPiAke2NhbWVyYS56b29tQW1vdW50LnRvRml4ZWQoMyl9XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRNb3VzZURlYnVnSFRNTCAoY2FtZXJhOiBDYW1lcmEpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCB3b3JsZFBvcyA9IGNhbWVyYS53b3JsZFBvc0Zyb21TY3JlZW4odGhpcy5fbW91c2VQb3MpO1xuXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8c3Ryb25nPk1vdXNlJHsodGhpcy5fbW91c2VEb3duID8gJyAoZG93biknIDogJycpfTo8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlg6PC9zdHJvbmc+ICR7dGhpcy5fbW91c2VQb3MueH08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlk6PC9zdHJvbmc+ICR7dGhpcy5fbW91c2VQb3MueX08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPldvcmxkIFg6PC9zdHJvbmc+ICR7d29ybGRQb3MueC50b0ZpeGVkKDMpfTxicj5cbiAgICAgICAgICAgIDxzdHJvbmc+V29ybGQgWTo8L3N0cm9uZz4gJHt3b3JsZFBvcy55LnRvRml4ZWQoMyl9XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRSZW5kZXJlckRlYnVnSFRNTCAocmVuZGVyZXI6IFJlbmRlcmVyKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gcmVuZGVyZXIuY2FtZXJhO1xuXG4gICAgICAgIGNvbnN0IHhTdGFydCA9IEJpdE1hdGguZmxvb3IoY2FtZXJhLnBvc2l0aW9uLnggLyAocmVuZGVyZXIuU1FVQVJFX1NJWkUgKiBjYW1lcmEuem9vbUFtb3VudCkpO1xuICAgICAgICBjb25zdCB4RW5kID0gTWF0aC5jZWlsKChjYW1lcmEucG9zaXRpb24ueCArIHdpbmRvdy5pbm5lcldpZHRoKSAvIChyZW5kZXJlci5TUVVBUkVfU0laRSAqIGNhbWVyYS56b29tQW1vdW50KSk7XG4gICAgICAgIGNvbnN0IHlTdGFydCA9IEJpdE1hdGguZmxvb3IoY2FtZXJhLnBvc2l0aW9uLnkgLyAocmVuZGVyZXIuU1FVQVJFX1NJWkUgKiBjYW1lcmEuem9vbUFtb3VudCkpO1xuICAgICAgICBjb25zdCB5RW5kID0gTWF0aC5jZWlsKChjYW1lcmEucG9zaXRpb24ueSArIHdpbmRvdy5pbm5lckhlaWdodCkgLyAocmVuZGVyZXIuU1FVQVJFX1NJWkUgKiBjYW1lcmEuem9vbUFtb3VudCkpO1xuXG4gICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICA8c3Ryb25nPlJlbmRlcmVyOjwvc3Ryb25nPjxicj5cbiAgICAgICAgICAgIDxzdHJvbmc+WC1zdGFydDo8L3N0cm9uZz4gJHt4U3RhcnR9PGJyPiBcbiAgICAgICAgICAgIDxzdHJvbmc+WC1lbmQ6PC9zdHJvbmc+ICR7eEVuZH08YnI+XG4gICAgICAgICAgICA8c3Ryb25nPlktc3RhcnQ6PC9zdHJvbmc+ICR7eVN0YXJ0fTxicj5cbiAgICAgICAgICAgIDxzdHJvbmc+WS1lbmQ6PC9zdHJvbmc+ICR7eUVuZH1cbiAgICAgICAgYFxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TWlzY0RlYnVnSFRNTCAod29ybGQ6IFdvcmxkKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxzdHJvbmc+VGlsZXMvTWluOjwvc3Ryb25nPiAke3dvcmxkLnRpbGVzUGxhbnRlZFBlck1pbn1cbiAgICAgICAgYDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyRGVidWcgKGNhbWVyYTogQ2FtZXJhLCByZW5kZXJlcjogUmVuZGVyZXIsIHdvcmxkOiBXb3JsZCk6IHZvaWQge1xuICAgICAgICBjb25zdCBkZWJ1Z0hUTUxQYXJ0cyA9IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q2FtZXJhRGVidWdIVE1MKGNhbWVyYSksXG4gICAgICAgICAgICB0aGlzLmdldE1vdXNlRGVidWdIVE1MKGNhbWVyYSksXG4gICAgICAgICAgICB0aGlzLmdldFJlbmRlcmVyRGVidWdIVE1MKHJlbmRlcmVyKSxcbiAgICAgICAgICAgIHRoaXMuZ2V0TWlzY0RlYnVnSFRNTCh3b3JsZClcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9zdGF0c0Rpc3BsYXkuaW5uZXJIVE1MID0gKFxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJndWktaXRlbVwiPicgKyBcbiAgICAgICAgICAgICAgICBkZWJ1Z0hUTUxQYXJ0cy5qb2luKCc8L2Rpdj48aHI+PGRpdiBjbGFzcz1cImd1aS1pdGVtXCI+JykgK1xuICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRGlhbG9nICh0aXRsZVRleHQ6IHN0cmluZywgYm9keTogSFRNTEVsZW1lbnQsIG9uQ2xvc2U/OiAoKSA9PiB2b2lkKTogSFRNTERpdkVsZW1lbnQge1xuICAgICAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy1jb250ZW50Jyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgY2xvc2UuaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCknO1xuICAgICAgICBjbG9zZS5pbm5lckhUTUwgPSAnIC0gKGNsb3NlKSc7XG4gICAgICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyYXAucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRpdGxlLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy10aXRsZScpO1xuICAgICAgICB0aXRsZS5pbm5lckhUTUwgPSB0aXRsZVRleHQ7XG4gICAgICAgIHRpdGxlLmFwcGVuZChjbG9zZSk7XG5cbiAgICAgICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtYWluLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZycpO1xuICAgICAgICBtYWluLmFwcGVuZCh0aXRsZSwgYm9keSk7XG5cbiAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwLmNsYXNzTGlzdC5hZGQoJ2RpYWxvZy13cmFwJyk7XG4gICAgICAgIHdyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSB3cmFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwLnJlbW92ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3cmFwLmFwcGVuZChtYWluKTtcbiAgICAgICAgcmV0dXJuIHdyYXA7XG4gICAgfVxuXG4gICAgcHVibGljIHNlbGxEaWFsb2cgKHZhbHVlOiBudW1iZXIsIG9uU3VjY2VzczogKGFtb3VudDogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGFtb3VudCA9IHdpbmRvdy5wcm9tcHQoJ0hvdyBtYW55PycsIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICBpZiAoYW1vdW50ID09PSBudWxsIHx8ICFCaXRNYXRoLmlzSW50KGFtb3VudCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hbGVydCgnQWJvcnRlZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9uU3VjY2VzcyhwYXJzZUZsb2F0KGFtb3VudCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblNob3BTZWxsV2hlYXQgKGludmVudG9yeTogSW52ZW50b3J5LCBjYj86ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZWxsRGlhbG9nKGludmVudG9yeS53aGVhdCwgKGFtb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxsUmVzdWx0ID0gaW52ZW50b3J5LnNlbGxXaGVhdChhbW91bnQpO1xuXG4gICAgICAgICAgICB0aGlzLmNsb3NlU2hvcCgpO1xuICAgICAgICAgICAgdGhpcy5vcGVuU2hvcChpbnZlbnRvcnksIGNiKTtcblxuICAgICAgICAgICAgaWYgKHNlbGxSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBhbGVydChgU3VjY2Vzc2Z1bGx5IHNvbGQgJHthbW91bnR9IHdoZWF0IGZvciAke2Ftb3VudCAqIEludmVudG9yeS5NT05FWV9QRVJfT1BJVU19ICQuYCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gc2VsbCAke2Ftb3VudH0gd2hlYXQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblNob3BJdGVtQnV5IChpbnZlbnRvcnk6IEludmVudG9yeSwgaXRlbTogSW52ZW50b3J5SXRlbSwgY2I/OiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1heEJ1eUFtb3VudCA9IE1hdGguZmxvb3IoaW52ZW50b3J5Lm1vbmV5IC8gaXRlbS50eXBlLmJ1eVByaWNlKTtcbiAgICAgICAgdGhpcy5zZWxsRGlhbG9nKG1heEJ1eUFtb3VudCwgKGFtb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwdXJjaGFzZVJlc3VsdCA9IGludmVudG9yeS5wdXJjaGFzZUl0ZW0oXG4gICAgICAgICAgICAgICAgaXRlbS50eXBlLm5hbWUsIFxuICAgICAgICAgICAgICAgIGFtb3VudFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5jbG9zZVNob3AoKTtcbiAgICAgICAgICAgIHRoaXMub3BlblNob3AoaW52ZW50b3J5LCBjYik7XG5cbiAgICAgICAgICAgIGlmIChwdXJjaGFzZVJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KGBTdWNjZXNzZnVsbHkgcHVyY2hhc2VkICR7YW1vdW50fSAke2l0ZW0udHlwZS5uYW1lfS5gKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoYEZhaWxlZCB0byBwdXJjaGFzZSAke2Ftb3VudH0gJHtpdGVtLnR5cGUubmFtZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBvcGVuU2hvcCAoaW52ZW50b3J5OiBJbnZlbnRvcnksIGNiPzogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fc2hvcCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVNob3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRpYWxvZ0JvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAvLyBTZWxsIHdoZWF0IG9wdGlvblxuICAgICAgICBjb25zdCBzZWxsV2hlYXRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNlbGxXaGVhdExpbmsuaW5uZXJIVE1MID0gYC0gV2hlYXQgKCske0ludmVudG9yeS5NT05FWV9QRVJfT1BJVU19JCkgLSAke2ludmVudG9yeS53aGVhdH0gb3duZWRgO1xuICAgICAgICBpZiAoaW52ZW50b3J5LndoZWF0ID4gMCkge1xuICAgICAgICAgICAgLy8gT24gc2VsbCB3aGVhdCBjbGlja1xuICAgICAgICAgICAgc2VsbFdoZWF0TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNob3BTZWxsV2hlYXQoaW52ZW50b3J5LCBjYik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGxXaGVhdExpbmsuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBkaWFsb2dCb2R5LmFwcGVuZChzZWxsV2hlYXRMaW5rKTtcblxuICAgICAgICAvLyBMaXN0IGludmVudG9yeSBpdGVtIGJ1eSBvcHRpb25zXG4gICAgICAgIGZvciAoY29uc3QgaW52ZW50b3J5SXRlbSBvZiBpbnZlbnRvcnkuaXRlbXMpIHtcbiAgICAgICAgICAgIC8vIElmIG5laXRoZXIgYnV5LCBub3Igc2VsbCBwcmljZSBpcyBnaXZlbiwgd2Ugc2tpcCBpdGVtXG4gICAgICAgICAgICBpZiAoaW52ZW50b3J5SXRlbS50eXBlLmJ1eVByaWNlID09PSAwICYmIGludmVudG9yeUl0ZW0udHlwZS5zZWxsUHJpY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2hvcEludmVudG9yeUl0ZW1MaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBzaG9wSW52ZW50b3J5SXRlbUxpbmsuaW5uZXJIVE1MID0gYCsgJHtpbnZlbnRvcnlJdGVtLnR5cGUubmFtZX0gKC0ke2ludmVudG9yeUl0ZW0udHlwZS5idXlQcmljZX0kKSAtICR7aW52ZW50b3J5SXRlbS5hbW91bnR9IG93bmVkYDtcblxuICAgICAgICAgICAgLy8gQXQgbGVhc3Qgb25lIGJ1eWFibGVcbiAgICAgICAgICAgIGlmIChpbnZlbnRvcnkubW9uZXkgPj0gaW52ZW50b3J5SXRlbS50eXBlLmJ1eVByaWNlKSB7XG4gICAgICAgICAgICAgICAgLy8gT24gaXRlbSBjbGlja1xuICAgICAgICAgICAgICAgIHNob3BJbnZlbnRvcnlJdGVtTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TaG9wSXRlbUJ1eShpbnZlbnRvcnksIGludmVudG9yeUl0ZW0sIGNiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvcEludmVudG9yeUl0ZW1MaW5rLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlhbG9nQm9keS5hcHBlbmQoc2hvcEludmVudG9yeUl0ZW1MaW5rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nob3AgPSB0aGlzLmNyZWF0ZURpYWxvZygnV2hlYXQgRmFybWVyIFNob3AnLCBkaWFsb2dCb2R5LCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHRoaXMuX3Nob3ApO1xuICAgIH1cblxuICAgIHB1YmxpYyBjbG9zZVNob3AgKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fc2hvcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2hvcC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5fc2hvcCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIG9wZW5JbnZlbnRvcnkgKHBsYXllcjogUGxheWVyLCBpbnZlbnRvcnk6IEludmVudG9yeSwgY2I/OiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl9pbnZlbnRvcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludmVudG9yeS5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGludmVudG9yeUJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW52ZW50b3J5Lml0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBpdGVtUm93LmlubmVySFRNTCA9IGl0ZW0udHlwZS5uYW1lO1xuXG4gICAgICAgICAgICBpZiAocGxheWVyLmVxdWlwcGVkICYmIHBsYXllci5lcXVpcHBlZC50eXBlLm5hbWUgPT09IGl0ZW0udHlwZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgaXRlbVJvdy5pbm5lckhUTUwgKz0gJyAoZXF1aXBwZWQpJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0ZW0uYW1vdW50IDwgMSkge1xuICAgICAgICAgICAgICAgIGl0ZW1Sb3cuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbVJvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5lcXVpcHBlZCA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkludmVudG9yeShwbGF5ZXIsIGludmVudG9yeSwgY2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbnZlbnRvcnlCb2R5LmFwcGVuZChpdGVtUm93KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ludmVudG9yeSA9IHRoaXMuY3JlYXRlRGlhbG9nKCdXaGVhdCBGYXJtZXIgSW52ZW50b3J5JywgaW52ZW50b3J5Qm9keSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLl9pbnZlbnRvcnkpO1xuICAgIH1cbn0iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuLi9jb3JlL3ZlY3RvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xuICAgIHB1YmxpYyByZWFkb25seSBERUZBVUxUX1pPT00gPSAxO1xuXG4gICAgcHJpdmF0ZSBfcG9zaXRpb246IFZlY3RvciA9IG5ldyBWZWN0b3IoMCwgMCk7XG4gICAgcHJpdmF0ZSBfem9vbUFtb3VudDogbnVtYmVyID0gdGhpcy5ERUZBVUxUX1pPT007XG4gICAgcHJpdmF0ZSBfd29ybGRTcXVhcmVTaXplOiBudW1iZXI7XG5cbiAgICBnZXQgcG9zaXRpb24gKCk6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgem9vbUFtb3VudCAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pvb21BbW91bnQ7XG4gICAgfVxuXG4gICAgZ2V0IHdvcmxkU3F1YXJlU2l6ZSAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkU3F1YXJlU2l6ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciAod29ybGRTcXVhcmVTaXplOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fd29ybGRTcXVhcmVTaXplID0gd29ybGRTcXVhcmVTaXplO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXR1cCAod29ybGRTaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWRXb3JsZFNpemUgPSB3b3JsZFNpemUgKiB0aGlzLl93b3JsZFNxdWFyZVNpemUgKiB0aGlzLl96b29tQW1vdW50O1xuXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gbmV3IFZlY3RvcihcbiAgICAgICAgICAgIC13aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyByZW5kZXJlZFdvcmxkU2l6ZSAvIDIsXG4gICAgICAgICAgICAtd2luZG93LmlubmVySGVpZ2h0IC8gMiArIHJlbmRlcmVkV29ybGRTaXplIC8gMlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3ZlICh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHRoaXMuX3Bvc2l0aW9uLmFkZCh4LCB5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgem9vbSAoem9vbTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLl96b29tQW1vdW50ICsgem9vbSA8IDAuMikge1xuICAgICAgICAgICAgdGhpcy5fem9vbUFtb3VudCA9IDAuMjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGhhbGZXaW5kb3dTaXplID0gbmV3IFZlY3Rvcih3aW5kb3cuaW5uZXJXaWR0aCAvIDIsIHdpbmRvdy5pbm5lckhlaWdodCAvIDIpO1xuXG4gICAgICAgIGNvbnN0IG9sZFBvcyA9IHRoaXMud29ybGRQb3NGcm9tU2NyZWVuKGhhbGZXaW5kb3dTaXplKTtcbiAgICAgICAgdGhpcy5fem9vbUFtb3VudCArPSB6b29tO1xuXG4gICAgICAgIGNvbnN0IG5ld1BvcyA9IHRoaXMud29ybGRQb3NGcm9tU2NyZWVuKGhhbGZXaW5kb3dTaXplKTtcbiAgICAgICAgdGhpcy5tb3ZlKC0obmV3UG9zLnggLSBvbGRQb3MueCkgKiAgdGhpcy53b3JsZFNxdWFyZVNpemUgKiB0aGlzLnpvb21BbW91bnQsIC0obmV3UG9zLnkgLSBvbGRQb3MueSkgKiAgdGhpcy53b3JsZFNxdWFyZVNpemUgKiB0aGlzLnpvb21BbW91bnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyB3b3JsZFBvc0Zyb21TY3JlZW4gKHNjcmVlblBvczogVmVjdG9yKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAoc2NyZWVuUG9zLnggKyB0aGlzLnBvc2l0aW9uLngpIC8gdGhpcy53b3JsZFNxdWFyZVNpemUgLyB0aGlzLl96b29tQW1vdW50LFxuICAgICAgICAgICAgKHNjcmVlblBvcy55ICsgdGhpcy5wb3NpdGlvbi55KSAvIHRoaXMud29ybGRTcXVhcmVTaXplIC8gdGhpcy5fem9vbUFtb3VudFxuICAgICAgICApO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZUxvb3AgZnJvbSBcIi4uL2NvcmUvZ2FtZS1sb29wXCI7XG5pbXBvcnQgQnJvd3NlciBmcm9tIFwiLi9icm93c2VyXCI7XG5pbXBvcnQgV29ybGQgZnJvbSBcIi4vd29ybGRcIjtcbmltcG9ydCBSZW5kZXJlciBmcm9tIFwiLi4vY29yZS9yZW5kZXJlclwiO1xuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vY29yZS92ZWN0b3JcIjtcbmltcG9ydCBUaXRsZVNjcmVlbiBmcm9tIFwiLi4vdGl0bGUtc2NyZWVuL3RpdGxlLXNjcmVlblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBNT1VTRV9NT1ZFX1RSRVNIT0xEID0gMTA7XG4gICAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBHYW1lO1xuXG4gICAgcHJpdmF0ZSBsb29wOiBHYW1lTG9vcCA9IG5ldyBHYW1lTG9vcCgpO1xuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCk7XG4gICAgcHJpdmF0ZSB3b3JsZDogV29ybGQgPSBuZXcgV29ybGQoKTtcbiAgICBwcml2YXRlIGJyb3dzZXI6IEJyb3dzZXIgPSBuZXcgQnJvd3NlcigpO1xuXG4gICAgcHJpdmF0ZSBfbW91c2VEb3duOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfbGFzdENsaWNrQXQ6IG51bWJlciA9IERhdGUubm93KCk7XG4gICAgcHJpdmF0ZSBfcGF1c2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfdGl0bGVTY3JlZW5IaWRkZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGluc3RhbmNlICgpOiBHYW1lIHtcbiAgICAgICAgaWYgKCFHYW1lLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgR2FtZS5faW5zdGFuY2UgPSBuZXcgR2FtZSgpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiBHYW1lLl9pbnN0YW5jZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBMb29wKCk7XG4gICAgICAgIHRoaXMuc2V0dXBNb3VzZSgpO1xuICAgICAgICB0aGlzLnNldHVwV2luZG93KCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5jYW1lcmEuc2V0dXAodGhpcy53b3JsZC5TSVpFKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwTW91c2UgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyb3dzZXIub25TY3JvbGwgPSAoZGVsdGE6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5jYW1lcmEuem9vbSgtZGVsdGEgLyA1KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icm93c2VyLm9uTW91c2VEb3duID0gKHBvczogVmVjdG9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5icm93c2VyLm9uTW91c2VVcCA9IChwb3M6IFZlY3RvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbW91c2VEb3duID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyb3dzZXIub25Nb3VzZU1vdmUgPSAocG9zOiBWZWN0b3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIubW91c2VQb3MgPSBuZXcgVmVjdG9yKHBvcy54LCBwb3MueSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJyb3dzZXIub25Nb3VzZUNsaWNrID0gKHBvczogVmVjdG9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyZXIudGl0bGVTY3JlZW4uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50aXRsZVNjcmVlbi5vbkNsaWNrKHBvcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdENsaWNrQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgd29ybGRQb3MgPSB0aGlzLnJlbmRlcmVyLmNhbWVyYS53b3JsZFBvc0Zyb21TY3JlZW4ocG9zKTtcbiAgICAgICAgICAgIHRoaXMud29ybGQub25UaWxlQ2xpY2tlZCh3b3JsZFBvcy5mbG9vcigpKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJyb3dzZXIub25LZXlVcCA9IChrZXlDb2RlOiBudW1iZXIsIGNvZGU6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudGl0bGVTY3JlZW4uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGl0bGVTY3JlZW4uaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gJ0tleVMnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3Nlci5vcGVuU2hvcCh0aGlzLndvcmxkLnBsYXllci5pdGVtcywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSAnS2V5RScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyLm9wZW5JbnZlbnRvcnkodGhpcy53b3JsZC5wbGF5ZXIsIHRoaXMud29ybGQucGxheWVyLml0ZW1zLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBXaW5kb3cgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJyb3dzZXIub25SZXNpemUgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG9sZFdpZHRoOiBudW1iZXIsIG9sZEhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZWx0YVcgPSBvbGRXaWR0aCAtIHdpZHRoO1xuICAgICAgICAgICAgY29uc3QgZGVsdGFIID0gb2xkSGVpZ2h0IC0gaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmNhbWVyYS5tb3ZlKFxuICAgICAgICAgICAgICAgIGRlbHRhVy8yLFxuICAgICAgICAgICAgICAgIGRlbHRhSC8yXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBMb29wICgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb29wLmZwcyA9IDMwO1xuICAgICAgICB0aGlzLmxvb3AudXBkYXRlID0gKGRlbHRhOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgndGl0bGVzY3JlZW4nLCAhdGhpcy5yZW5kZXJlci50aXRsZVNjcmVlbi5oaWRkZW4pXG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXVzZWQgfHwgdGhpcy5yZW5kZXJlci50aXRsZVNjcmVlbi5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdGhpcy53b3JsZC51cGRhdGUoZGVsdGEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fbW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgaWYgKChEYXRlLm5vdygpIC0gdGhpcy5fbGFzdENsaWNrQXQpID4gMjUwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmxkUG9zID0gdGhpcy5yZW5kZXJlci5jYW1lcmEud29ybGRQb3NGcm9tU2NyZWVuKHRoaXMucmVuZGVyZXIubW91c2VQb3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndvcmxkLm9uVGlsZUNsaWNrZWQod29ybGRQb3MuZmxvb3IoKSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RDbGlja0F0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5sb29wLnJlbmRlciA9IChpbnRlcnBvbGF0aW9uOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMud29ybGQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudGl0bGVTY3JlZW4uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icm93c2VyLnJlbmRlcldvcmxkU3RhdHNIVE1MKHRoaXMud29ybGQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKEJyb3dzZXIuZ2V0UGFyYW1ldGVyKCdkZWJ1ZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3Nlci5yZW5kZXJEZWJ1Zyh0aGlzLnJlbmRlcmVyLmNhbWVyYSwgdGhpcy5yZW5kZXJlciwgdGhpcy53b3JsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubG9vcC5zdGFydCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgVHJhZGVhYmxlSW50ZXJmYWNlIGZyb20gXCIuLi9pbnRlcmZhY2VzL3RyYWRlYWJsZS1pbnRlcmZhY2VcIjtcbmltcG9ydCBXYWxsVGlsZSBmcm9tIFwiLi4vdGlsZXMvd2FsbC10aWxlXCI7XG5pbXBvcnQgV2hlYXRUaWxlIGZyb20gXCIuLi90aWxlcy93aGVhdC10aWxlXCI7XG5pbXBvcnQgVGlsZSBmcm9tIFwidGlsZXMvdGlsZVwiO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5SXRlbSB7XG4gICAgcHVibGljIGFtb3VudDogbnVtYmVyID0gMDtcbiAgICBwdWJsaWMgdHlwZTogVHJhZGVhYmxlSW50ZXJmYWNlO1xuXG4gICAgY29uc3RydWN0b3IgKHR5cGU6IFRyYWRlYWJsZUludGVyZmFjZSkge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludmVudG9yeSB7XG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBNT05FWV9QRVJfT1BJVU06IG51bWJlciA9IDM7XG5cbiAgICBwdWJsaWMgd2hlYXQ6IG51bWJlciA9IDA7XG4gICAgcHVibGljIG1vbmV5OiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyBpdGVtczogSW52ZW50b3J5SXRlbVtdID0gW1xuICAgICAgICBuZXcgSW52ZW50b3J5SXRlbShuZXcgV2hlYXRUaWxlKCkpLFxuICAgICAgICBuZXcgSW52ZW50b3J5SXRlbShuZXcgV2FsbFRpbGUoKSlcbiAgICBdXG5cbiAgICBwdWJsaWMgZ2V0SXRlbUFtb3VudCAobmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBpdGVtLnR5cGUubmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRJdGVtQW1vdW50IChuYW1lOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEl0ZW0obmFtZSk7XG4gICAgICAgIGlmIChpdGVtID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpdGVtLmFtb3VudCA9IGFtb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5jcmVhc2VJdGVtQW1vdW50IChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRJdGVtQW1vdW50KG5hbWUsIHRoaXMuZ2V0SXRlbUFtb3VudChuYW1lKSArIDEpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWNyZWFzZUl0ZW1BbW91bnQgKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBhbW91bnRMZWZ0ID0gdGhpcy5nZXRJdGVtQW1vdW50KG5hbWUpIC0gMTtcbiAgICAgICAgdGhpcy5zZXRJdGVtQW1vdW50KG5hbWUsIGFtb3VudExlZnQgPCAwID8gMCA6IGFtb3VudExlZnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJdGVtIChuYW1lOiBzdHJpbmcpOiBJbnZlbnRvcnlJdGVtIHwgbnVsbCB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLml0ZW1zKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gaXRlbS50eXBlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBwdXJjaGFzZUl0ZW0gKG5hbWU6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbShuYW1lKTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRvdGFsQ29zdCA9IGl0ZW0udHlwZS5idXlQcmljZSAqIGFtb3VudDtcbiAgICAgICAgaWYgKHRoaXMubW9uZXkgLSB0b3RhbENvc3QgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vbmV5IC09IHRvdGFsQ29zdDtcbiAgICAgICAgaXRlbS5hbW91bnQgKz0gYW1vdW50O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzZWxsV2hlYXQgKGFtb3VudDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLndoZWF0IC0gYW1vdW50IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53aGVhdCAtPSBhbW91bnQ7XG4gICAgICAgIHRoaXMubW9uZXkgKz0gYW1vdW50ICogSW52ZW50b3J5Lk1PTkVZX1BFUl9PUElVTTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn0iLCJpbXBvcnQge0ludmVudG9yeSwgSW52ZW50b3J5SXRlbX0gZnJvbSBcIi4vaW52ZW50b3J5XCI7XG5pbXBvcnQgV2hlYXRUaWxlIGZyb20gXCIuLi90aWxlcy93aGVhdC10aWxlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciB7XG4gICAgcHVibGljIHJlYWRvbmx5IFdIRUFUX1NUQVJUX0FNT1VOVDogbnVtYmVyID0gNTA7XG4gICAgcHVibGljIHJlYWRvbmx5IGl0ZW1zOiBJbnZlbnRvcnkgPSBuZXcgSW52ZW50b3J5KCk7XG4gICAgcHVibGljIGVxdWlwcGVkOiBJbnZlbnRvcnlJdGVtIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMuaXRlbXMuc2V0SXRlbUFtb3VudChcIldoZWF0XCIsIHRoaXMuV0hFQVRfU1RBUlRfQU1PVU5UKTtcbiAgICAgICAgdGhpcy5lcXVpcHBlZCA9IHRoaXMuaXRlbXMuZ2V0SXRlbShcIldoZWF0XCIpO1xuICAgIH1cbn0iLCJpbXBvcnQgRW1wdHlUaWxlIGZyb20gJy4uL3RpbGVzL2VtcHR5LXRpbGUnO1xuaW1wb3J0IFdoZWF0VGlsZSBmcm9tICcuLi90aWxlcy93aGVhdC10aWxlJztcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5pbXBvcnQgRW50aXR5SW50ZXJmYWNlIGZyb20gJy4uL2ludGVyZmFjZXMvZW50aXR5LWludGVyZmFjZSc7XG5pbXBvcnQgUm9ib3RFbnRpdHkgZnJvbSAnLi4vZW50aXRpZXMvZW5lbWllcy9yb2JvdCc7XG5pbXBvcnQgVmVjdG9yIGZyb20gJy4uL2NvcmUvdmVjdG9yJztcbmltcG9ydCBFYXNpbmdzIGZyb20gXCIuLi9jb3JlL2Vhc2luZ3NcIjtcbmltcG9ydCBUaWxlIGZyb20gJy4uL3RpbGVzL3RpbGUnO1xuaW1wb3J0IEJpdE1hdGggZnJvbSAnLi4vY29yZS9iaXQtbWF0aCc7XG5pbXBvcnQgV2FsbFRpbGUgZnJvbSAnLi4vdGlsZXMvd2FsbC10aWxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGQge1xuICAgIHB1YmxpYyByZWFkb25seSBTSVpFOiBudW1iZXIgPSAyMCAgIDsgLy8gMjB4MjAgd29ybGQgc2l6XG4gICAgcHVibGljIHJlYWRvbmx5IENFTlRFUjogVmVjdG9yID0gbmV3IFZlY3Rvcih0aGlzLlNJWkUvMiwgdGhpcy5TSVpFLzIpLmZsb29yKCk7XG5cbiAgICBwcml2YXRlIF90aWxlczogVGlsZVtdW107XG4gICAgcHJpdmF0ZSBfY3JlYXRlZEF0OiBudW1iZXIgPSBEYXRlLm5vdygpO1xuICAgIHByaXZhdGUgX3BsYXllcjogUGxheWVyID0gbmV3IFBsYXllcigpO1xuICAgIHByaXZhdGUgX2VudGl0aWVzOiBFbnRpdHlJbnRlcmZhY2VbXSA9IFtdO1xuICAgIHByaXZhdGUgX3BsYW50ZWRUaWxlc1Blck1pbjogbnVtYmVyW10gPSBbXTtcbiAgICBwcml2YXRlIF9lbmVteUdyb3Vwc1Blck1pbjogbnVtYmVyW10gPSBbXTtcblxuICAgIGdldCB0aWxlcyAoKTogVGlsZVtdW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXM7XG4gICAgfVxuXG4gICAgZ2V0IGNyZWF0ZWRBdCAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRBdDtcbiAgICB9XG5cbiAgICBnZXQgcGxheWVyICgpOiBQbGF5ZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGxheWVyO1xuICAgIH1cblxuICAgIGdldCBlbnRpdGllcyAoKTogRW50aXR5SW50ZXJmYWNlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50aXRpZXM7XG4gICAgfVxuXG4gICAgZ2V0IHRpbGVzUGxhbnRlZFBlck1pbiAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsYW50ZWRUaWxlc1Blck1pbi5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0IGVuZW15R3JvdXBzUGVyTWluICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5lbXlHcm91cHNQZXJNaW4ubGVuZ3RoO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5fdGlsZXMgPSBBcnJheSh0aGlzLlNJWkUpLmZpbGwoW10pLm1hcCgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkodGhpcy5TSVpFKS5maWxsKFtdKS5tYXAoKCkgPT4gbmV3IEVtcHR5VGlsZSgpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzVmFsaWRUaWxlUG9zICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZXNbeV0gIT0gbnVsbCAmJiB0aGlzLl90aWxlc1t5XVt4XSAhPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBvblRpbGVDbGlja2VkIChwb3M6IFZlY3Rvcik6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZFRpbGVQb3MocG9zLngsIHBvcy55KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld1RpbGU6IFRpbGUgfCBudWxsID0gbnVsbDtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX3RpbGVzW3Bvcy55XVtwb3MueF07XG5cbiAgICAgICAgY29uc3QgcGxheWVyV2hlYXRUaWxlcyA9IHRoaXMuX3BsYXllci5pdGVtcy5nZXRJdGVtQW1vdW50KCdXaGVhdCcpO1xuICAgICAgICBjb25zdCBwbGF5ZXJXYWxsVGlsZXMgPSB0aGlzLl9wbGF5ZXIuaXRlbXMuZ2V0SXRlbUFtb3VudCgnV2FsbCcpO1xuXG4gICAgICAgIHRpbGUub25DbGlja2VkKCk7XG5cbiAgICAgICAgLy8gVGlsZSBpcyBlcXVpcHBlZCBhbmQgY2xpY2tlZCB0aWxlIGlzIGVtcHR5XG4gICAgICAgIGlmICh0aGlzLl9wbGF5ZXIuZXF1aXBwZWQgJiZcbiAgICAgICAgICAgIHRoaXMuX3BsYXllci5lcXVpcHBlZC50eXBlIGluc3RhbmNlb2YgVGlsZSAmJlxuICAgICAgICAgICAgdGlsZSBpbnN0YW5jZW9mIEVtcHR5VGlsZSkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcGxheWVyLmVxdWlwcGVkLnR5cGUgaW5zdGFuY2VvZiBXaGVhdFRpbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBQbGF5ZXIgaGFzIHJlbWFpbmluZyBzZWVkc1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJXaGVhdFRpbGVzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXIuaXRlbXMuZGVjcmVhc2VJdGVtQW1vdW50KCdXaGVhdCcpO1xuICAgICAgICAgICAgICAgICAgICBuZXdUaWxlID0gbmV3IFdoZWF0VGlsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX3BsYXllci5lcXVpcHBlZC50eXBlIGluc3RhbmNlb2YgV2FsbFRpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyV2FsbFRpbGVzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXIuaXRlbXMuZGVjcmVhc2VJdGVtQW1vdW50KCdXYWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJXYWxsVGlsZXMgLSAxID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXIuZXF1aXBwZWQgPSB0aGlzLl9wbGF5ZXIuaXRlbXMuZ2V0SXRlbSgnV2hlYXQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5ld1RpbGUgPSBuZXcgV2FsbFRpbGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbGlja2VkIHRpbGUgaXMgd2hlYXQgdGlsZVxuICAgICAgICBpZiAodGlsZSBpbnN0YW5jZW9mIFdoZWF0VGlsZSkge1xuICAgICAgICAgICAgLy8gV2hlYXQgaXMgZnVsbHkgZ3Jvd25cbiAgICAgICAgICAgIGlmICh0aWxlLmdyb3d0aFN0YXRlID49IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VlZERyb3BzOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIElmIHBsYXllciBoYXMgbm8gc2VlZHMgbGVmdCwgYWx3YXlzIGRyb3BcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VlZERyb3BzID09PSBudWxsIHx8IHBsYXllcldoZWF0VGlsZXMgKyBzZWVkRHJvcHMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VlZERyb3BzID0gdGlsZS5kcm9wU2VlZHMoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXIuaXRlbXMuc2V0SXRlbUFtb3VudCgnV2hlYXQnLCBwbGF5ZXJXaGVhdFRpbGVzICsgc2VlZERyb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGF5ZXIuaXRlbXMud2hlYXQgKz0gMTtcblxuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2Ugd2l0aCBlbXB0eSB0aWxlXG4gICAgICAgICAgICAgICAgbmV3VGlsZSA9IG5ldyBFbXB0eVRpbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsaWNrZWQgdGlsZSBpcyB3YWxsIHRpbGVcbiAgICAgICAgaWYgKHRpbGUgaW5zdGFuY2VvZiBXYWxsVGlsZSkge1xuICAgICAgICAgICAgdGhpcy5fcGxheWVyLml0ZW1zLmluY3JlYXNlSXRlbUFtb3VudCgnV2FsbCcpO1xuXG4gICAgICAgICAgICAvLyBSZXBsYWNlIHdpdGggZW1wdHkgdGlsZVxuICAgICAgICAgICAgbmV3VGlsZSA9IG5ldyBFbXB0eVRpbGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5ldyB0aWxlIHdhcyBjcmVhdGVkXG4gICAgICAgIGlmIChuZXdUaWxlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBTZXQgZGFtYWdlIG9mIG5ldyB0aWxlIHRvIGRhbWFnZSBvZiBvbGQgdGlsZVxuICAgICAgICAgICAgbmV3VGlsZS5kYW1hZ2UgPSB0aWxlLmRhbWFnZTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHdvcmxkXG4gICAgICAgICAgICB0aGlzLl90aWxlc1twb3MueV1bcG9zLnhdID0gbmV3VGlsZTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlZCB0aWxlIGlzIG5vdCBlbXB0eVxuICAgICAgICAgICAgaWYgKCEobmV3VGlsZSBpbnN0YW5jZW9mIEVtcHR5VGlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGFudGVkVGlsZXNQZXJNaW4ucHVzaChuZXdUaWxlLnRpbWVDcmVhdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTdXJyb3VuZGluZ1RpbGVDb29yZHMgKHY6IFZlY3RvciwgcmFkaXVzOiBudW1iZXIgPSAxLCBpbmNsdWRlU2VsZjogYm9vbGVhbiA9IHRydWUpOiBWZWN0b3JbXSB7XG4gICAgICAgIGNvbnN0IHRpbGVzOiBWZWN0b3JbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSB2LnkgLSBNYXRoLmNlaWwocmFkaXVzKTsgeSA8PSB2LnkgKyBNYXRoLmNlaWwocmFkaXVzKTsgeSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RpbGVzW3ldKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IHggPSB2LnggLSBNYXRoLmNlaWwocmFkaXVzKTsgeCA8PSB2LnggKyBNYXRoLmNlaWwocmFkaXVzKTsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90aWxlc1t5XVt4XSB8fCBcbiAgICAgICAgICAgICAgICAgICAgKHggPT09IHYueCAmJiB5ID09PSB2LnkgJiYgIWluY2x1ZGVTZWxmKSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKHYueCAtIHgsIHYueSAtIHkpLmxlbmd0aCA+IE1hdGguY2VpbChyYWRpdXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRpbGVzLnB1c2gobmV3IFZlY3Rvcih4LCB5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJhbmRvbU91dHNpZGVQb3MgKCk6IFZlY3RvciB7XG4gICAgICAgIC8vIE1ha2Ugc3Bhd24gcmFkaXVzIHR3aWNlIHRoZSBnYW1lIGFyZWEncyBkaWFtZXRlclxuICAgICAgICBjb25zdCBzcGF3blJhZGl1cyA9IHRoaXMuQ0VOVEVSLmxlbmd0aCAqIDM7XG5cbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIHJhbmRvbWx5IGFyb3VuZCB0aGUgZ2FtZSBhcmVhXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHNwYXduUmFkaXVzLCAwKVxuICAgICAgICAgICAgLnJvdGF0ZShNYXRoLnJhbmRvbSgpICogMzYwKVxuICAgICAgICAgICAgLmFkZCh0aGlzLkNFTlRFUi54LCB0aGlzLkNFTlRFUi55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGF3bnMgYSByb2JvdFxuICAgICAqIFxuICAgICAqIFRPRE86IE1ha2UgZ2VuZXJpY1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBbcG9zXSAtIFBvc2l0aW9uIHRvIHNwYXduIGVuZW15IGF0IChSYW5kb21seSBjb21wdXRlZCBpZiBub3QgZ2l2ZW4pXG4gICAgICogQHBhcmFtIHJhbmRvbVNoaWZ0IC0gVmVjdG9yIHRvIHJhbmRvbWx5IHNoaWZ0IHBvc2l0aW9uIGJ5XG4gICAgICovXG4gICAgcHVibGljIHNwYXduRW5lbXkgKHBvczogVmVjdG9yIHwgbnVsbCA9IG51bGwsIHJhbmRvbVNoaWZ0PzogVmVjdG9yKTogRW50aXR5SW50ZXJmYWNlIHtcbiAgICAgICAgLy8gTm8gcG9zaXRpb24gZ2l2ZW5cbiAgICAgICAgaWYgKHBvcyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcG9zID0gdGhpcy5nZXRSYW5kb21PdXRzaWRlUG9zKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmFuZG9tU2hpZnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoaWZ0VmVjdG9yID0gbmV3IFZlY3RvcihcbiAgICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpICogcmFuZG9tU2hpZnQueCxcbiAgICAgICAgICAgICAgICBNYXRoLnJhbmRvbSgpICogcmFuZG9tU2hpZnQueVxuICAgICAgICAgICAgKS5yb3RhdGUoTWF0aC5yYW5kb20oKSAqIDM2MCk7XG5cbiAgICAgICAgICAgIHBvcyA9IHBvcy5hZGQoc2hpZnRWZWN0b3IueCwgc2hpZnRWZWN0b3IueSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbmVteSA9IG5ldyBSb2JvdEVudGl0eShwb3MueCwgcG9zLnkpOyAgICAgICAgXG4gICAgICAgIHRoaXMuX2VudGl0aWVzLnB1c2goZW5lbXkpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGVuZW15O1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUgKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gUmVtb3ZlIG9sZCBwbGFudGVkIHRpbGVzXG4gICAgICAgIHRoaXMuX3BsYW50ZWRUaWxlc1Blck1pbiA9IHRoaXMuX3BsYW50ZWRUaWxlc1Blck1pbi5maWx0ZXIoKHRpbWVDcmVhdGVkOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoRGF0ZS5ub3coKSAtIHRpbWVDcmVhdGVkKSA8IDYwICogMTAwMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIG9sZCBlbmVteSBncm91cHMgXG4gICAgICAgIHRoaXMuX2VuZW15R3JvdXBzUGVyTWluID0gdGhpcy5fZW5lbXlHcm91cHNQZXJNaW4uZmlsdGVyKCh0aW1lQ3JlYXRlZDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKERhdGUubm93KCkgLSB0aW1lQ3JlYXRlZCkgPCA2MCAqIDEwMDA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB3b3JsZFxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuX3RpbGVzLmxlbmd0aDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuX3RpbGVzW3ldLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZXNbeV1beF0udXBkYXRlKGRlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IHNwYXduaW5nIGVuZW1pZXMgYXQgbW9yZSB0aGFuIDUwIHBsYW50ZWQgdGlsZXMvbWluXG4gICAgICAgIC8vIEFkZCBhbiBleHRyYSBlbmVteSBmb3IgZXZlcnkgYWRkaXRpb25hbCAyNSBwbGFudGVkIHRpbGVzL21pblxuICAgICAgICBjb25zdCBlbmVtaWVHcm91cHMgPSBNYXRoLmNlaWwoKHRoaXMudGlsZXNQbGFudGVkUGVyTWluIC0gNDApIC8gMTApO1xuICAgICAgICBpZiAoZW5lbWllR3JvdXBzID4gMCkge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHNwYXduYWJsZSBlbmVtaWUgZ3JvdXBzXG4gICAgICAgICAgICBjb25zdCBzcGF3bmFibGVHcm91cENvdW50ID0gZW5lbWllR3JvdXBzIC0gdGhpcy5lbmVteUdyb3Vwc1Blck1pbjtcblxuICAgICAgICAgICAgaWYgKHNwYXduYWJsZUdyb3VwQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggc3Bhd25hYmxlIGVuZW1pZSBncm91cFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGdyb3VwSW5kZXggPSAwOyBncm91cEluZGV4IDwgc3Bhd25hYmxlR3JvdXBDb3VudDsgZ3JvdXBJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSByYW5kb20gZ3JvdXAgc2l6ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cFNpemUgPSBCaXRNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYXduUG9zID0gdGhpcy5nZXRSYW5kb21PdXRzaWRlUG9zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggZW5lbXkgZm9yIHNldCBncm91cCBzaXplXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVuZW15SW5kZXggPSAwOyBlbmVteUluZGV4IDwgZ3JvdXBTaXplOyBlbmVteUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZW15ID0gdGhpcy5zcGF3bkVuZW15KHNwYXduUG9zLCBuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCkgKiAzLCBNYXRoLnJhbmRvbSgpICogMykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gcmFuZG9tIHdvcmxkIGNvb3JkaW5hdGVzIGFzIHRhcmdldCBmb3Igc3Bhd25lZCBlbmVtaWVcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15LnRhcmdldCA9ICBuZXcgVmVjdG9yKE1hdGgucmFuZG9tKCkgKiB0aGlzLlNJWkUsIE1hdGgucmFuZG9tKCkgKiB0aGlzLlNJWkUpLmZsb29yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBQdXNoIHRpbWUgZW5lbXkgZ3JvdXAgd2FzIGNyZWF0ZWQgYXRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5lbXlHcm91cHNQZXJNaW4ucHVzaChEYXRlLm5vdygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdGVyYXRlIGV4aXN0aW5nIGVudGl0aWVzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHRoaXMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBSb2JvdEVudGl0eSkge1xuICAgICAgICAgICAgICAgIC8vIFJvYm90IGlzIGV4cGxvZGluZ1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkuaGFzRXhwbG9kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgZW50aXR5IGZyb20gbGlzdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdGllcyA9IHRoaXMuX2VudGl0aWVzLmZpbHRlcigodikgPT4gdiAhPSBlbnRpdHkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IE1BWF9FWFBMT1NJT05fUkFESVVTID0gMjtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlXb3JsZFBvcyA9IGVudGl0eS5wb3NpdGlvbi5mbG9vcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldCBjb29yZGluYXRlcyBmb3Igc3Vycm91bmRpbmcgdGlsZXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gQml0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKE1BWF9FWFBMT1NJT05fUkFESVVTICsgMSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1cnJvdW5kaW5nVGlsZUNvb3JkcyA9IHRoaXMuZ2V0U3Vycm91bmRpbmdUaWxlQ29vcmRzKFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5V29ybGRQb3MsIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHN1cnJvdW5kaW5nIHRpbGUgY29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0aWxlUG9zIG9mIHN1cnJvdW5kaW5nVGlsZUNvb3Jkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIHRvIHN1cnJvdW5kaW5nIHRpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZVBvc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkKDAuNSwgMC41KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLShlbnRpdHlXb3JsZFBvcy54ICsgMC41KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtKGVudGl0eVdvcmxkUG9zLnkgKyAwLjUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZGFtYWdlIGFuZCByZXN0cmljdCB0byB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhbWFnZSA9IDEgLSAoZGlzdGFuY2UgLyAoTUFYX0VYUExPU0lPTl9SQURJVVMgKyAxKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbGVEZXN0cm95ZWQgPSBNYXRoLnJhbmRvbSgpICogTUFYX0VYUExPU0lPTl9SQURJVVMvKGRpc3RhbmNlICsgMSkgPiAwLjU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1RpbGUgPSB0aGlzLl90aWxlc1t0aWxlUG9zLnldW3RpbGVQb3MueF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aWxlRGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1wdHlUaWxlID0gbmV3IEVtcHR5VGlsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGV4aXN0aW5nIGRhbWFnZSB0byBuZXcgdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5VGlsZS5kYW1hZ2UgPSBleGlzdGluZ1RpbGUuZGFtYWdlICsgZGFtYWdlO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB3b3JsZCBmb3IgdGlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVzW3RpbGVQb3MueV1bdGlsZVBvcy54XSA9IGVtcHR5VGlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUaWxlLmRhbWFnZSA9IGV4aXN0aW5nVGlsZS5kYW1hZ2UgKyBkYW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1vdmUgZW50aXR5IHRvIHRhcmdldFxuICAgICAgICAgICAgaWYgKGVudGl0eS50YXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVudGl0eS5pc01vdmluZykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuaW5pdGlhbFBvc2l0aW9uID0gbmV3IFZlY3RvcihlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBsZXQgZW50aXR5U3BlZWQgPSBlbnRpdHkuc3BlZWQgKiAoZGVsdGEvMTAwMCk7XG4gICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gbmV3IFZlY3RvcihlbnRpdHkudGFyZ2V0LnggLSBlbnRpdHkucG9zaXRpb24ueCwgZW50aXR5LnRhcmdldC55IC0gZW50aXR5LnBvc2l0aW9uLnkpLmxlbmd0aDtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiAwICYmIGVudGl0eS5pbml0aWFsUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdGlhbERpc3RhbmNlID0gbmV3IFZlY3RvcihlbnRpdHkudGFyZ2V0LnggLSBlbnRpdHkuaW5pdGlhbFBvc2l0aW9uLngsIGVudGl0eS50YXJnZXQueSAtIGVudGl0eS5pbml0aWFsUG9zaXRpb24ueSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZVByb2dyZXNzID0gZGlzdGFuY2UvaW5pdGlhbERpc3RhbmNlO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlTcGVlZCA9IGVudGl0eVNwZWVkICogKDEgKyAyICogRWFzaW5ncy5lYXNlSW5PdXRRdWFydCgxIC0gZGlzdGFuY2VQcm9ncmVzcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPD0gZW50aXR5U3BlZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBlbnRpdHlTcGVlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uLnggKz0gZW50aXR5U3BlZWQgKiAoZW50aXR5LnRhcmdldC54IC0gZW50aXR5LnBvc2l0aW9uLngpIC8gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uLnkgKz0gZW50aXR5U3BlZWQgKihlbnRpdHkudGFyZ2V0LnkgLSBlbnRpdHkucG9zaXRpb24ueSkgLyBkaXN0YW5jZTtcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnBvc2l0aW9uLnggPT09IGVudGl0eS50YXJnZXQueCAmJiBlbnRpdHkucG9zaXRpb24ueSA9PT0gZW50aXR5LnRhcmdldC55KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBSb2JvdEVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LmV4cGxvZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LmlzTW92aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5pbml0aWFsUG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCaXRNYXRoIHtcbiAgICBwdWJsaWMgc3RhdGljIGZsb29yIChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIG4gPDwgMFxuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgc3RhdGljIHJvdW5kIChuOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuICgwLjUgKyBuKSA8PCAwXG4gICAgfVxuICBcbiAgICBwdWJsaWMgc3RhdGljIGFicyAobjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiAobiBeIChuID4+IDMxKSkgLSAobiA+PiAzMSlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGlzSW50ICh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICBjb25zdCB4ID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gIWlzTmFOKHZhbHVlKSAmJiAoeCB8IDApID09PSB4O1xuICAgIH1cbn0iLCIvKipcbiAqIFNvdXJjZTogaHR0cHM6Ly9lYXNpbmdzLm5ldC9cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFYXNpbmdzIHtcbiAgICBwdWJsaWMgc3RhdGljIGVhc2VJbkN1YmljKHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB4ICogeCAqIHg7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBlYXNlSW5PdXRRdWFydCAoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHggPCAwLjUgPyA4ICogeCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCA0KSAvIDI7XG4gICAgfVxufSIsImNsYXNzIEdhbWVMb29wIHtcbiAgICBwdWJsaWMgc2ltdWxhdGlvblN0ZXAgPSAxMDAwIC8gNjA7XG4gICAgcHVibGljIGZyYW1lRGVsdGEgPSAwO1xuICAgIHB1YmxpYyBsYXN0RnJhbWVUaW1lTXMgPSAwO1xuICAgIHB1YmxpYyBmcHMgPSA2MDtcbiAgICBwdWJsaWMgbGFzdEZwc1VwZGF0ZSA9IDA7XG4gICAgcHVibGljIGZyYW1lc1RoaXNTZWNvbmQgPSAwO1xuICAgIHB1YmxpYyBudW1VcGRhdGVTdGVwcyA9IDA7XG4gICAgcHVibGljIG1pbkZyYW1lRGVsYXkgPSAwO1xuICAgIHB1YmxpYyBydW5uaW5nID0gZmFsc2U7XG4gICAgcHVibGljIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBwdWJsaWMgcGFuaWMgPSBmYWxzZTtcbiAgICBwdWJsaWMgcmFmSGFuZGxlPzogbnVtYmVyO1xuXG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uICovXG4gICAgcHVibGljIGJlZ2luID0gKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcik6IHZvaWQgPT4ge307XG4gICAgcHVibGljIGVuZCA9IChmcHM6IG51bWJlciwgcGFuaWM6IGJvb2xlYW4pOiB2b2lkID0+IHt9O1xuICAgIHB1YmxpYyB1cGRhdGUgPSAoZGVsdGE6IG51bWJlcik6IHZvaWQgPT4ge307XG4gICAgcHVibGljIHJlbmRlciA9IChpbnRlcnBvbGF0aW9uOiBudW1iZXIpOiB2b2lkID0+IHt9O1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uICovXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hbmltYXRlID0gdGhpcy5hbmltYXRlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0IG1heEFsbG93ZWRGcHMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIDEwMDAgLyB0aGlzLm1pbkZyYW1lRGVsYXk7XG4gICAgfVxuXG4gICAgc2V0IG1heEFsbG93ZWRGcHMgKGZwczogbnVtYmVyKSB7XG4gICAgICAgIGlmIChmcHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgZnBzID0gSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChmcHMgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5taW5GcmFtZURlbGF5ID0gMTAwMCAvIGZwcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyByZXNldEZyYW1lRGVsdGEgKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGZyYW1lRGVsdGEgPSB0aGlzLmZyYW1lRGVsdGE7XG4gICAgICAgIHRoaXMuZnJhbWVEZWx0YSA9IDA7XG4gICAgICAgIHJldHVybiBmcmFtZURlbHRhO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGFydCAoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yYWZIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoMSk7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICB0aGlzLmxhc3RGcHNVcGRhdGUgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICB0aGlzLmZyYW1lc1RoaXNTZWNvbmQgPSAwO1xuICAgICAgICAgICAgdGhpcy5yYWZIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RvcCAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5yYWZIYW5kbGUpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmSGFuZGxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBhbmltYXRlICh0aW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yYWZIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcbiAgICAgICAgaWYgKHRpbWUgPCB0aGlzLmxhc3RGcmFtZVRpbWVNcyArIHRoaXMubWluRnJhbWVEZWxheSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mcmFtZURlbHRhICs9IHRpbWUgLSB0aGlzLmxhc3RGcmFtZVRpbWVNcztcbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lTXMgPSB0aW1lO1xuXG4gICAgICAgIHRoaXMuYmVnaW4odGltZSwgdGhpcy5mcmFtZURlbHRhKTtcblxuICAgICAgICBpZiAodGltZSA+IHRoaXMubGFzdEZwc1VwZGF0ZSArIDEwMDApIHtcbiAgICAgICAgICAgIHRoaXMuZnBzID0gMC4yNSAqIHRoaXMuZnJhbWVzVGhpc1NlY29uZCArIDAuNzUgKiB0aGlzLmZwcztcbiAgICAgICAgICAgIHRoaXMubGFzdEZwc1VwZGF0ZSA9IHRpbWU7XG4gICAgICAgICAgICB0aGlzLmZyYW1lc1RoaXNTZWNvbmQgPSAwO1xuICAgICAgICB9XG4gICAgICAgICsrdGhpcy5mcmFtZXNUaGlzU2Vjb25kO1xuXG4gICAgICAgIHRoaXMubnVtVXBkYXRlU3RlcHMgPSAwO1xuICAgICAgICB3aGlsZSAodGhpcy5mcmFtZURlbHRhID49IHRoaXMuc2ltdWxhdGlvblN0ZXApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMuc2ltdWxhdGlvblN0ZXApO1xuICAgICAgICAgICAgdGhpcy5mcmFtZURlbHRhIC09IHRoaXMuc2ltdWxhdGlvblN0ZXA7XG5cbiAgICAgICAgICAgIGlmICgrK3RoaXMubnVtVXBkYXRlU3RlcHMgPj0gMjQwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYW5pYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcih0aGlzLmZyYW1lRGVsdGEgLyB0aGlzLnNpbXVsYXRpb25TdGVwKTtcbiAgICAgICAgdGhpcy5lbmQodGhpcy5mcHMsIHRoaXMucGFuaWMpO1xuXG4gICAgICAgIHRoaXMucGFuaWMgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVMb29wOyIsImltcG9ydCBXb3JsZCBmcm9tIFwiLi4vYmFzZS93b3JsZFwiO1xuaW1wb3J0IENhbWVyYSBmcm9tIFwiLi4vYmFzZS9jYW1lcmFcIjtcbmltcG9ydCBFbXB0eVRpbGUgZnJvbSBcIi4uL3RpbGVzL2VtcHR5LXRpbGVcIjtcbmltcG9ydCBVdGlsIGZyb20gXCIuL3V0aWxcIjtcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4vdmVjdG9yXCI7XG5pbXBvcnQgVGl0bGVTY3JlZW4gZnJvbSBcIi4uL3RpdGxlLXNjcmVlbi90aXRsZS1zY3JlZW5cIjtcbmltcG9ydCBCaXRNYXRoIGZyb20gXCIuL2JpdC1tYXRoXCI7XG5pbXBvcnQgeyBJbnZlbnRvcnlJdGVtIH0gZnJvbSBcIi4uL2Jhc2UvaW52ZW50b3J5XCI7XG5pbXBvcnQgVGlsZSBmcm9tIFwiLi4vdGlsZXMvdGlsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XG4gICAgcHVibGljIHJlYWRvbmx5IEZPTlRfU0laRSA9IDEyO1xuICAgIHB1YmxpYyByZWFkb25seSBGT05UX0VNT0pJX1NJWkUgPSAxNjtcbiAgICBwdWJsaWMgcmVhZG9ubHkgU1FVQVJFX1NJWkUgPSAzMjtcblxuICAgIHByaXZhdGUgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FtZXJhOiBDYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMuU1FVQVJFX1NJWkUpO1xuICAgIHB1YmxpYyByZWFkb25seSB0aXRsZVNjcmVlbjogVGl0bGVTY3JlZW4gPSBuZXcgVGl0bGVTY3JlZW4oKTtcblxuICAgIHB1YmxpYyBtb3VzZVBvczogVmVjdG9yID0gbmV3IFZlY3RvcigwLCAwKTtcbiAgICBwdWJsaWMgZXF1aXBwZWRJdGVtOiBJbnZlbnRvcnlJdGVtIHwgbnVsbCA9IG51bGw7XG5cbiAgICBnZXQgd2lkdGggKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYW52YXMud2lkdGg7XG4gICAgfVxuXG4gICAgZ2V0IGhlaWdodCAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgZ2V0IHogKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbWVyYS56b29tQW1vdW50O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgdGhpcy5zZXR1cENhbnZhcygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBDYW52YXMgKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnNldFRvV2luZG93U2l6ZSgpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0VG9XaW5kb3dTaXplKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRUb1dpbmRvd1NpemUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodGhpcy5fY2FudmFzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFRvV2luZG93U2l6ZSAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLl9jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBwYWludENoYXIgKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjaGFyOiBzdHJpbmcsIGNoYXJDb2xvcjogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoaXNIb3Zlcikge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSBCaXRNYXRoLmZsb29yKDUgKiB0aGlzLnopO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZvbnRTaXplID0gdGhpcy5GT05UX1NJWkU7XG4gICAgICAgIGxldCBmb250RmFtaWx5ID0gXCJDb3VyaWVyIE5ld1wiO1xuXG4gICAgICAgIC8vIElzbid0IGFscGhhbnVtZXJpYyAtPiBtdXN0IGJlIGVtb2ppXG4gICAgICAgIGlmICghVXRpbC5pc0FscGhhTnVtZXJpYyhjaGFyKSkge1xuICAgICAgICAgICAgZm9udFNpemUgPSB0aGlzLkZPTlRfRU1PSklfU0laRTtcbiAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIk9wZW5Nb2ppXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0RHJhd1BvcyA9IG5ldyBWZWN0b3IoXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIHggKyB0aGlzLlNRVUFSRV9TSVpFIC8gMikgKiB0aGlzLnogLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LFxuICAgICAgICAgICAgKHRoaXMuU1FVQVJFX1NJWkUgKiB5ICsgdGhpcy5TUVVBUkVfU0laRSAvIDIpICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGZvbnREcmF3U2l6ZSA9IEJpdE1hdGguZmxvb3IoZm9udFNpemUgKiB0aGlzLnopO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjaGFyQ29sb3I7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udERyYXdTaXplfXB4IFwiJHtmb250RmFtaWx5fVwiYDtcbiAgICAgICAgY3R4LmZpbGxUZXh0KGNoYXIsIEJpdE1hdGguZmxvb3IodGV4dERyYXdQb3MueCksIEJpdE1hdGguZmxvb3IodGV4dERyYXdQb3MueSkpOyBcblxuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7XG4gICAgfVxuXG4gICAgcHVibGljIHBhaW50U3F1YXJlIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4sIGZpbGxTdHlsZTogc3RyaW5nLCBvcGFjaXR5OiBudW1iZXIgfCBudWxsID0gbnVsbCwgY2hhcj86IHN0cmluZyB8IG51bGwsIGNoYXJDb2xvcj86IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMuY2FtZXJhLnpvb21BbW91bnQ7XG4gICAgICAgIGNvbnN0IG9sZEFscGhhID0gY3R4Lmdsb2JhbEFscGhhO1xuXG4gICAgICAgIGlmIChvcGFjaXR5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSBvcGFjaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgdGhpcy5TUVVBUkVfU0laRSAqIHggKiB6b29tIC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueCwgXG4gICAgICAgICAgICB0aGlzLlNRVUFSRV9TSVpFICogeSAqIHpvb20gLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi55LCBcbiAgICAgICAgICAgIHRoaXMuU1FVQVJFX1NJWkUgKiB6b29tLCBcbiAgICAgICAgICAgIHRoaXMuU1FVQVJFX1NJWkUgKiB6b29tXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGNoYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJGaWxsU3R5bGUgPSBjaGFyQ29sb3IgPyBjaGFyQ29sb3IgOiAnd2hpdGUnO1xuICAgICAgICAgICAgdGhpcy5wYWludENoYXIoY3R4LCBjaGFyLCBjaGFyRmlsbFN0eWxlLCB4LCB5LCBpc0hvdmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG9sZEFscGhhO1xuICAgIH1cblxuICAgIHB1YmxpYyBvdXRsaW5lU3F1YXJlIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGJvcmRlcldpZHRoOiBudW1iZXIgPSAxKTogdm9pZCB7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJXaWR0aCAqIHRoaXMuejtcbiAgICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIHggKyBib3JkZXJXaWR0aCAvIDIpICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueCwgXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIHkgKyBib3JkZXJXaWR0aCAvIDIpICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueSwgXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAtIGJvcmRlcldpZHRoKSAqIHRoaXMueiwgXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAtIGJvcmRlcldpZHRoKSAqIHRoaXMuelxuICAgICAgICApO1xuICAgIH1cblxuICAgIHB1YmxpYyBwYWludFByb2dyZXNzQmFyIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBwcm9ncmVzczogbnVtYmVyLCBjb2xvcjogc3RyaW5nID0gJ2dyZWVuJyk6IHZvaWQge1xuICAgICAgICBjb25zdCBvbGRBbHBoYSA9IGN0eC5nbG9iYWxBbHBoYTtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC42NTtcblxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgdGhpcy5TUVVBUkVfU0laRSAqIHggKiB0aGlzLnogLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCBcbiAgICAgICAgICAgIHRoaXMuU1FVQVJFX1NJWkUgKiB5ICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueSwgXG4gICAgICAgICAgICB0aGlzLlNRVUFSRV9TSVpFICogd2lkdGggKiB0aGlzLnosIFxuICAgICAgICAgICAgdGhpcy5TUVVBUkVfU0laRSAqIGhlaWdodCAqIHRoaXMuelxuICAgICAgICApO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgKHRoaXMuU1FVQVJFX1NJWkUgKiB4ICsgMSkgKiB0aGlzLnogLSB0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCBcbiAgICAgICAgICAgICh0aGlzLlNRVUFSRV9TSVpFICogeSArIDEpICogdGhpcy56IC0gdGhpcy5jYW1lcmEucG9zaXRpb24ueSwgXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIHdpZHRoIC0gMikgKiB0aGlzLnogKiBwcm9ncmVzcywgXG4gICAgICAgICAgICAodGhpcy5TUVVBUkVfU0laRSAqIGhlaWdodCAtIDIpICogdGhpcy56XG4gICAgICAgICk7XG5cbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gb2xkQWxwaGE7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlciAod29ybGQ6IFdvcmxkKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW91c2VXb3JsZFBvcyA9IHRoaXMuY2FtZXJhLndvcmxkUG9zRnJvbVNjcmVlbih0aGlzLm1vdXNlUG9zKTtcblxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29uc3QgeFN0YXJ0ID0gTWF0aC5mbG9vcih0aGlzLmNhbWVyYS5wb3NpdGlvbi54IC8gKHRoaXMuU1FVQVJFX1NJWkUgKiB0aGlzLmNhbWVyYS56b29tQW1vdW50KSk7XG4gICAgICAgIGNvbnN0IHhFbmQgPSBNYXRoLmNlaWwoKHRoaXMuY2FtZXJhLnBvc2l0aW9uLnggKyB3aW5kb3cuaW5uZXJXaWR0aCkgLyAodGhpcy5TUVVBUkVfU0laRSAqIHRoaXMuY2FtZXJhLnpvb21BbW91bnQpKTtcbiAgICAgICAgY29uc3QgeVN0YXJ0ID0gTWF0aC5mbG9vcih0aGlzLmNhbWVyYS5wb3NpdGlvbi55IC8gKHRoaXMuU1FVQVJFX1NJWkUgKiB0aGlzLmNhbWVyYS56b29tQW1vdW50KSk7XG4gICAgICAgIGNvbnN0IHlFbmQgPSBNYXRoLmNlaWwoKHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgKyB3aW5kb3cuaW5uZXJIZWlnaHQpIC8gKHRoaXMuU1FVQVJFX1NJWkUgKiB0aGlzLmNhbWVyYS56b29tQW1vdW50KSk7XG5cbiAgICAgICAgLy8gRHJhdyBlbXB0eSBzcXVhcmVzIGFyb3VuZCB3b3JsZFxuICAgICAgICBmb3IgKGxldCB5ID0geVN0YXJ0OyB5IDwgeUVuZDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0geFN0YXJ0OyB4IDwgeEVuZDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWludFNxdWFyZShjdHgsIHgsIHksIGZhbHNlLCBVdGlsLmxpZ2h0ZW5EYXJrZW5Db2xvcihFbXB0eVRpbGUuQ09MT1IsIDgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERyYXcgd29ybGQgaXRzZWxmXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgd29ybGQudGlsZXMubGVuZ3RoOyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd29ybGQudGlsZXNbeV0ubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNIb3ZlciA9IEJpdE1hdGguZmxvb3IobW91c2VXb3JsZFBvcy54KSA9PT0geCAmJiBCaXRNYXRoLmZsb29yKG1vdXNlV29ybGRQb3MueSkgID09PSB5O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGlsZSA9IHdvcmxkLnRpbGVzW3ldW3hdO1xuICAgICAgICAgICAgICAgIHRpbGUucmVuZGVyKHRoaXMsIGN0eCwgeCwgeSwgaXNIb3Zlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNIb3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBob3ZlcmVkIHRpbGUgaXMgZW1wdHkgYW5kIGVxdWlwcGVkIGl0ZW0gaXMgdGlsZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGlsZSBpbnN0YW5jZW9mIEVtcHR5VGlsZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGQucGxheWVyLmVxdWlwcGVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JsZC5wbGF5ZXIuZXF1aXBwZWQudHlwZSBpbnN0YW5jZW9mIFRpbGUpIHsgLy8gUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgY3JlYXRlZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JsZC5wbGF5ZXIuZXF1aXBwZWQudHlwZS50aW1lQ3JlYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JsZC5wbGF5ZXIuZXF1aXBwZWQudHlwZS5yZW5kZXIodGhpcywgY3R4LCB4LCB5LCBpc0hvdmVyLCAwLjI1KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0bGluZVNxdWFyZShjdHgsIHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRpbGUucmVuZGVyTGF0ZXN0KHRoaXMsIGN0eCwgeCwgeSwgaXNIb3Zlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEcmF3IGVudGl0aWVzXG4gICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIHdvcmxkLmVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLnBhaW50Q2hhcihjdHgsIGVudGl0eS5nZXRDaGFyKCksICd3aGl0ZScsIGVudGl0eS5wb3NpdGlvbi54LCBlbnRpdHkucG9zaXRpb24ueSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRHJhdyB0aXRsZSBzY3JlZW5cbiAgICAgICAgdGhpcy50aXRsZVNjcmVlbi5yZW5kZXIodGhpcywgY3R4KTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbCB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgYWxwaGFOdW1lcmljUmVnRXhwID0gbmV3IFJlZ0V4cChcIltcXFxcdyBdK1wiKTtcblxuICBwdWJsaWMgc3RhdGljIGlzQWxwaGFOdW1lcmljICh0ZXh0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBVdGlsLmFscGhhTnVtZXJpY1JlZ0V4cC50ZXN0KHRleHQpO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBsZWFkWmVyb3MgKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcsIHNpemU6IG51bWJlcik6IG51bWJlciB8IHN0cmluZyB7XG4gICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXG4gICAgd2hpbGUgKHZhbHVlLmxlbmd0aCA8IHNpemUpIHtcbiAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgbWl4Q29sb3JzIChjb2xvcjE6IHN0cmluZywgY29sb3IyOiBzdHJpbmcsIHBlcmNlbnQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgY29uc3QgcmVkMSA9IHBhcnNlSW50KGNvbG9yMVsxXSArIGNvbG9yMVsyXSwgMTYpO1xuICAgIGNvbnN0IGdyZWVuMSA9IHBhcnNlSW50KGNvbG9yMVszXSArIGNvbG9yMVs0XSwgMTYpO1xuICAgIGNvbnN0IGJsdWUxID0gcGFyc2VJbnQoY29sb3IxWzVdICsgY29sb3IxWzZdLCAxNik7XG4gIFxuICAgIGNvbnN0IHJlZDIgPSBwYXJzZUludChjb2xvcjJbMV0gKyBjb2xvcjJbMl0sIDE2KTtcbiAgICBjb25zdCBncmVlbjIgPSBwYXJzZUludChjb2xvcjJbM10gKyBjb2xvcjJbNF0sIDE2KTtcbiAgICBjb25zdCBibHVlMiA9IHBhcnNlSW50KGNvbG9yMls1XSArIGNvbG9yMls2XSwgMTYpO1xuICBcbiAgICBjb25zdCByZWQgPSBNYXRoLnJvdW5kKFV0aWwubWl4KHJlZDEsIHJlZDIsIHBlcmNlbnQpKTtcbiAgICBjb25zdCBncmVlbiA9IE1hdGgucm91bmQoVXRpbC5taXgoZ3JlZW4xLCBncmVlbjIsIHBlcmNlbnQpKTtcbiAgICBjb25zdCBibHVlID0gTWF0aC5yb3VuZChVdGlsLm1peChibHVlMSwgYmx1ZTIsIHBlcmNlbnQpKTtcbiAgXG4gICAgcmV0dXJuIFV0aWwuZ2VuZXJhdGVIZXhGcm9tUkdCKHJlZCwgZ3JlZW4sIGJsdWUpO1xuICB9XG4gIFxuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZUhleEZyb21SR0IgKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBsZXQgcnMgPSByLnRvU3RyaW5nKDE2KTtcbiAgICBsZXQgZ3MgPSBnLnRvU3RyaW5nKDE2KTtcbiAgICBsZXQgYnMgPSBiLnRvU3RyaW5nKDE2KTtcbiAgXG4gICAgd2hpbGUgKHJzLmxlbmd0aCA8IDIpIHsgcnMgPSBcIjBcIiArIHJzOyB9XG4gICAgd2hpbGUgKGdzLmxlbmd0aCA8IDIpIHsgZ3MgPSBcIjBcIiArIGdzOyB9XG4gICAgd2hpbGUgKGJzLmxlbmd0aCA8IDIpIHsgYnMgPSBcIjBcIiArIGJzOyB9XG4gIFxuICAgIHJldHVybiBcIiNcIiArIHJzICsgZ3MgKyBicztcbiAgfVxuICBcbiAgcHJpdmF0ZSBzdGF0aWMgbWl4IChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgcGVyY2VudDogbnVtYmVyKSB7XG4gICAgICByZXR1cm4gc3RhcnQgKyAoKHBlcmNlbnQpICogKGVuZCAtIHN0YXJ0KSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGxpZ2h0ZW5EYXJrZW5Db2xvciAoY29sb3I6IHN0cmluZywgYW1vdW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdXNlUG91bmQgPSBmYWxzZTtcblxuICAgICAgICBpZiAoY29sb3JbMF0gPT0gXCIjXCIpIHtcbiAgICAgICAgICAgIGNvbG9yID0gY29sb3Iuc2xpY2UoMSk7XG4gICAgICAgICAgICB1c2VQb3VuZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBudW0gPSBwYXJzZUludChjb2xvciwgMTYpO1xuXG4gICAgICAgIGxldCByID0gKG51bSA+PiAxNikgKyBhbW91bnQ7XG5cbiAgICAgICAgaWYgKHIgPiAyNTUpIHIgPSAyNTU7XG4gICAgICAgIGVsc2UgaWYgKHIgPCAwKSByID0gMDtcblxuICAgICAgICBsZXQgYiA9ICgobnVtID4+IDgpICYgMHgwMEZGKSArIGFtb3VudDtcblxuICAgICAgICBpZiAoYiA+IDI1NSkgYiA9IDI1NTtcbiAgICAgICAgZWxzZSBpZiAgKGIgPCAwKSBiID0gMDtcblxuICAgICAgICBsZXQgZyA9IChudW0gJiAweDAwMDBGRikgKyBhbW91bnQ7XG5cbiAgICAgICAgaWYgKGcgPiAyNTUpIGcgPSAyNTU7XG4gICAgICAgIGVsc2UgaWYgIChnIDwgMCkgZyA9IDA7XG5cbiAgICAgICAgcmV0dXJuICh1c2VQb3VuZCA/IFwiI1wiIDogXCJcIikgKyAoZyB8IChiIDw8IDgpIHwgKHIgPDwgMTYpKS50b1N0cmluZygxNik7XG4gICAgfVxufSIsImltcG9ydCBCaXRNYXRoIGZyb20gXCIuL2JpdC1tYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XG4gICAgcHVibGljIHg6IG51bWJlcjtcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdG90YWwgbGVuZ3RoXG4gICAgICogXG4gICAgICogQHJldHVybnMgVG90YWwgbGVuZ3RoXG4gICAgICovXG4gICAgZ2V0IGxlbmd0aCAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyh0aGlzLngsIDIpICsgTWF0aC5wb3codGhpcy55LCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geCAtIEluaXRpYWwgeCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHkgLSBJbml0aWFsIHkgY29vcmRpbmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yICh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0byBjb29yZGluYXRlc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB4IC0gQWRkZWQgdG8geCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHkgLSBBZGRlZCB0byB5IGNvb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJucyBWZWN0b3Igd2l0aCBhZGRlZCBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBhZGQgKHg6IG51bWJlciwgeTogbnVtYmVyKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICsgeCwgdGhpcy55ICsgeSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSb3VuZCBvZmYgY29vcmRpbmF0ZXNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBWZWN0b3Igd2l0aCByb3VuZGVkIG9mZiBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIHB1YmxpYyBmbG9vciAoKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoQml0TWF0aC5mbG9vcih0aGlzLngpLCBCaXRNYXRoLmZsb29yKHRoaXMueSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSBjbG9ja3dpc2UgYnkgZGVncmVlc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBkZWcgLSBBbmdsZSBpbiBkZWdyZWVzXG4gICAgICogQHJldHVybnMgUm90YXRlZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBwdWJsaWMgcm90YXRlIChkZWc6IG51bWJlcik6IFZlY3RvciB7XG4gICAgICAgIGNvbnN0IHJhZCA9IC1kZWcgKiAoTWF0aC5QSS8xODApO1xuXG4gICAgICAgIGNvbnN0IGNvcyA9IE1hdGguY29zKHJhZCk7XG4gICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKHJhZCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoXG4gICAgICAgICAgICBNYXRoLnJvdW5kKDEwMDAwICogKHRoaXMueCAqIGNvcyAtIHRoaXMueSAqIHNpbikpIC8gMTAwMDAsIFxuICAgICAgICAgICAgTWF0aC5yb3VuZCgxMDAwMCAqICh0aGlzLnggKiBzaW4gKyB0aGlzLnkgKiBjb3MpKSAvIDEwMDAwXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgVmVjdG9yICgke3RoaXMueH0sICR7dGhpcy55fSlgO1xuICAgIH1cbn0iLCJpbXBvcnQgRW50aXR5SW50ZXJmYWNlIGZyb20gXCJpbnRlcmZhY2VzL2VudGl0eS1pbnRlcmZhY2VcIjtcbmltcG9ydCBWZWN0b3IgZnJvbSBcIi4uLy4uL2NvcmUvdmVjdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvYm90RW50aXR5IGltcGxlbWVudHMgRW50aXR5SW50ZXJmYWNlIHtcbiAgICBwdWJsaWMgcmVhZG9ubHkgRVhQTE9ERV9USU1FID0gMyAqIDEwMDA7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nID0gJ1JvYm90JztcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3BlZWQ6IG51bWJlciA9IDI7XG5cbiAgICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjtcbiAgICBwdWJsaWMgaW5pdGlhbFBvc2l0aW9uOiBWZWN0b3IgfCBudWxsID0gbnVsbDtcbiAgICBwdWJsaWMgdGFyZ2V0OiBWZWN0b3IgfCBudWxsID0gbnVsbDtcbiAgICBwdWJsaWMgaXNIb3N0aWxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwdWJsaWMgaXNNb3Zpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgX2V4cGxvZGVkQXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgZ2V0IGV4cGxvc2lvblByb2dyZXNzICgpOiBudW1iZXIge1xuICAgICAgICBpZiAodGhpcy5fZXhwbG9kZWRBdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb2dyZXNzID0gKERhdGUubm93KCkgLSB0aGlzLl9leHBsb2RlZEF0KSAvIHRoaXMuRVhQTE9ERV9USU1FO1xuICAgICAgICByZXR1cm4gcHJvZ3Jlc3MgPiAxID8gMSA6IHByb2dyZXNzO1xuICAgIH1cblxuICAgIGdldCBoYXNFeHBsb2RlZCAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cGxvc2lvblByb2dyZXNzID09PSAxO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yICh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlY3Rvcih4LCB5KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q2hhciAoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwbG9zaW9uUHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5leHBsb3Npb25Qcm9ncmVzcyA8PSAwLjYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ/CfkqMnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5leHBsb3Npb25Qcm9ncmVzcyA+IDAuNiAmJiB0aGlzLmV4cGxvc2lvblByb2dyZXNzIDwgMC44KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICfinKgnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5leHBsb3Npb25Qcm9ncmVzcyA+IDAuOCAmJiB0aGlzLmV4cGxvc2lvblByb2dyZXNzIDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAn8J+SpSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4cGxvc2lvblByb2dyZXNzID49IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ/CflKUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICfwn6SWJztcbiAgICB9XG5cbiAgICBwdWJsaWMgZXhwbG9kZSAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2V4cGxvZGVkQXQgPSBEYXRlLm5vdygpO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9iYXNlL2dhbWVcIjtcbmltcG9ydCBCcm93c2VyIGZyb20gXCIuL2Jhc2UvYnJvd3NlclwiO1xuXG5HYW1lLmluc3RhbmNlO1xuXG5pZiAoQnJvd3Nlci5pc01vYmlsZSgpKSB7XG4gICAgQnJvd3Nlci5hbGVydCgnV2FybmluZzogVGhpcyBpcyBhbiBlYXJseS1hbHBoYSBidWlsZCBvZiB0aGUgZ2FtZSwgbW9iaWxlIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLicpO1xufSIsImltcG9ydCBUaWxlIGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi4vY29yZS9yZW5kZXJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVtcHR5VGlsZSBleHRlbmRzIFRpbGUge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ09MT1IgPSAnI2ViYjQzNCc7XG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiRW1wdHlcIjtcbiAgICBwdWJsaWMgdGltZUNyZWF0ZWQ6IG51bWJlciA9IERhdGUubm93KCk7XG4gICAgXG4gICAgcHVibGljIGdldENoYXIgKHByZXZpZXc6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gJ3gnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIZXhDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhbWFnZWRIZXhDb2xvcihFbXB0eVRpbGUuQ09MT1IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaGFyQ29sb3IgKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gJyM2NjY2NjYnO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkNsaWNrZWQgKCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyTGF0ZXN0IChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBzdXBlci5yZW5kZXJMYXRlc3QocmVuZGVyZXIsIGN0eCwgeCwgeSwgaXNIb3Zlcik7XG4gICAgfVxufSIsImltcG9ydCBUaWxlSW50ZXJmYWNlIGZyb20gJy4uL2ludGVyZmFjZXMvdGlsZS1pbnRlcmZhY2UnO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4uL2NvcmUvcmVuZGVyZXInO1xuaW1wb3J0IFV0aWwgZnJvbSAnLi4vY29yZS91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBpbXBsZW1lbnRzIFRpbGVJbnRlcmZhY2Uge1xuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgREFNQUdFX0hFQUxfVElNRSA9IDYwICogMTAwMDtcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IENPTE9SOiBzdHJpbmcgPSAnJztcblxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgIHB1YmxpYyB0aW1lQ3JlYXRlZDogbnVtYmVyID0gRGF0ZS5ub3coKTtcblxuICAgIHByaXZhdGUgX2RhbWFnZTogbnVtYmVyID0gMDtcblxuICAgIGdldCBkYW1hZ2UgKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYW1hZ2U7XG4gICAgfVxuXG4gICAgc2V0IGRhbWFnZSAoYW1vdW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZGFtYWdlID0gYW1vdW50ID4gMSA/IDEgOiBhbW91bnQgPCAwID8gMCA6IGFtb3VudDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzQ29sbGlzaW9uICgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgZ2V0Q2hhciAocHJldmlldzogYm9vbGVhbiA9IGZhbHNlKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAneCc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldERhbWFnZWRIZXhDb2xvciAoY29sb3I6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxpZ2h0ZW5EYXJrZW5GYWN0b3IgPSAtKHRoaXMuZGFtYWdlKSAqIDUwO1xuICAgICAgICByZXR1cm4gVXRpbC5saWdodGVuRGFya2VuQ29sb3IoY29sb3IsIGxpZ2h0ZW5EYXJrZW5GYWN0b3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRIZXhDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAnIzAwMDAwMCc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXJDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAnIzAwMDAwMCc7XG4gICAgfVxuXG4gICAgcHVibGljIG9uQ2xpY2tlZCAoKTogdm9pZCB7XG4gICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBsb2dpY1xuICAgIH1cblxuICAgIHByaXZhdGUgcGFpbnRTcXVhcmUocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4sIG9wYWNpdHk6IG51bWJlciB8IG51bGwgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGhleENvbG9yID0gdGhpcy5nZXRIZXhDb2xvcigpO1xuICAgICAgICBpZiAoIWhleENvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5wYWludFNxdWFyZShjdHgsIHgsIHksIGlzSG92ZXIsIGhleENvbG9yLCBvcGFjaXR5LCB0aGlzLmdldENoYXIoKSwgdGhpcy5nZXRDaGFyQ29sb3IoKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlciAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4sIG9wYWNpdHk6IG51bWJlciB8IG51bGwgPSBudWxsKTogdm9pZCB7XG4gICAgICAgIHRoaXMucGFpbnRTcXVhcmUocmVuZGVyZXIsIGN0eCwgeCwgeSwgaXNIb3Zlciwgb3BhY2l0eSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlckxhdGVzdCAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKGlzSG92ZXIgJiYgdGhpcy5kYW1hZ2UgPiAwKSB7XG4gICAgICAgICAgICByZW5kZXJlci5wYWludFByb2dyZXNzQmFyKGN0eCwgeCArIDAuMjUvMiwgeSArIDAuMTUsIDAuNzUsIDAuMTUsIHRoaXMuZGFtYWdlLCAncmVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlIChkZWx0YTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGFtYWdlIC09IGRlbHRhIC8gVGlsZS5EQU1BR0VfSEVBTF9USU1FO1xuICAgIH1cbn0iLCJpbXBvcnQgVGlsZSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4uL2NvcmUvcmVuZGVyZXInO1xuaW1wb3J0IFRyYWRlYWJsZUludGVyZmFjZSBmcm9tICcuLi9pbnRlcmZhY2VzL3RyYWRlYWJsZS1pbnRlcmZhY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsVGlsZSBleHRlbmRzIFRpbGUgaW1wbGVtZW50cyBUcmFkZWFibGVJbnRlcmZhY2Uge1xuICAgIHB1YmxpYyByZWFkb25seSBidXlQcmljZTogbnVtYmVyID0gMTA7XG4gICAgcHVibGljIHJlYWRvbmx5IHNlbGxQcmljZTogbnVtYmVyID0gNDtcblxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIldhbGxcIjtcblxuICAgIHB1YmxpYyBoYXNDb2xsaXNpb24gKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldENoYXIgKHByZXZpZXc6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAocHJldmlldykge1xuICAgICAgICAgICAgcmV0dXJuICfwn5qrJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SGV4Q29sb3IgKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gJyMxMTExMTEnO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDaGFyQ29sb3IgKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25DbGlja2VkICgpOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGxvZ2ljXG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlckxhdGVzdCAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGlzSG92ZXI6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgc3VwZXIucmVuZGVyTGF0ZXN0KHJlbmRlcmVyLCBjdHgsIHgsIHksIGlzSG92ZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgVXRpbCBmcm9tICcuLi9jb3JlL3V0aWwnO1xuaW1wb3J0IEVtcHR5VGlsZSBmcm9tICcuL2VtcHR5LXRpbGUnO1xuaW1wb3J0IFJlbmRlcmVyIGZyb20gJy4uL2NvcmUvcmVuZGVyZXInO1xuaW1wb3J0IFRpbGUgZnJvbSAnLi90aWxlJztcbmltcG9ydCBFYXNpbmdzIGZyb20gJy4uL2NvcmUvZWFzaW5ncyc7XG5pbXBvcnQgQml0TWF0aCBmcm9tICcuLi9jb3JlL2JpdC1tYXRoJztcbmltcG9ydCBUcmFkZWFibGVJbnRlcmZhY2UgZnJvbSAnLi4vaW50ZXJmYWNlcy90cmFkZWFibGUtaW50ZXJmYWNlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hlYXRUaWxlIGV4dGVuZHMgVGlsZSBpbXBsZW1lbnRzIFRyYWRlYWJsZUludGVyZmFjZSB7XG4gICAgcHVibGljIHJlYWRvbmx5IGJ1eVByaWNlOiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyByZWFkb25seSBzZWxsUHJpY2U6IG51bWJlciA9IDA7XG5cbiAgICBwdWJsaWMgcmVhZG9ubHkgR1JPV1RIX1RJTUUgPSA3LjUgKiAxMDAwO1xuICAgIHB1YmxpYyByZWFkb25seSBNSU5fU0VFRF9EUk9QID0gMDtcbiAgICBwdWJsaWMgcmVhZG9ubHkgTUFYX1NFRURfRFJPUCA9IDM7XG4gICAgcHJpdmF0ZSByZWFkb25seSBDT0xPUl9HUk9XTiA9ICcjN2RiZjIxJztcblxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIldoZWF0XCI7XG5cbiAgICBnZXQgZ3Jvd3RoU3RhdGUgKCk6IG51bWJlciB7XG4gICAgICAgIGNvbnN0IGdyb3d0aCA9IChEYXRlLm5vdygpIC0gdGhpcy50aW1lQ3JlYXRlZCkgLyB0aGlzLkdST1dUSF9USU1FO1xuXG4gICAgICAgIGlmIChncm93dGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3Jvd3RoICogKDEgLSB0aGlzLmRhbWFnZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3Jvd3RoID4gMSA/IDEgOiBncm93dGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXIgKHByZXZpZXc6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAocHJldmlldyB8fCB0aGlzLmdyb3d0aFN0YXRlIDwgMC40KSB7XG4gICAgICAgICAgICByZXR1cm4gJ/CfjLEnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ3Jvd3RoU3RhdGUgPj0gMSkge1xuICAgICAgICAgICAgcmV0dXJuICfwn4y+JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAn8J+Mvyc7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYXJDb2xvciAoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiAnI2ZmZmZmZic7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEhleENvbG9yICgpOiBzdHJpbmcgfCBudWxsIHsgXG4gICAgICAgIGNvbnN0IG1peEFtb3VudCA9IEVhc2luZ3MuZWFzZUluQ3ViaWModGhpcy5ncm93dGhTdGF0ZSk7XG4gICAgICAgIGNvbnN0IGdyb3d0aENvbG9yID0gVXRpbC5taXhDb2xvcnMoRW1wdHlUaWxlLkNPTE9SLCB0aGlzLkNPTE9SX0dST1dOLCBtaXhBbW91bnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXREYW1hZ2VkSGV4Q29sb3IoZ3Jvd3RoQ29sb3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyBvbkNsaWNrZWQgKCk6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG5cbiAgICBwdWJsaWMgZHJvcFNlZWRzICgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gQml0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuTUFYX1NFRURfRFJPUCAtIHRoaXMuTUlOX1NFRURfRFJPUCArIDEpKSArIHRoaXMuTUlOX1NFRURfRFJPUDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyIChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgaXNIb3ZlcjogYm9vbGVhbiwgb3BhY2l0eTogbnVtYmVyIHwgbnVsbCA9IG51bGwpOiB2b2lkIHtcbiAgICAgICAgc3VwZXIucmVuZGVyKHJlbmRlcmVyLCBjdHgsIHgsIHksIGlzSG92ZXIsIG9wYWNpdHkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXJMYXRlc3QgKHJlbmRlcmVyOiBSZW5kZXJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCBpc0hvdmVyOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnJlbmRlckxhdGVzdChyZW5kZXJlciwgY3R4LCB4LCB5LCBpc0hvdmVyKTtcblxuICAgICAgICBpZiAoaXNIb3ZlciAmJiB0aGlzLmdyb3d0aFN0YXRlIDwgMSkge1xuICAgICAgICAgICAgcmVuZGVyZXIucGFpbnRQcm9ncmVzc0JhcihjdHgsIHggKyAwLjI1LzIsIHkgKyAwLjcsIDAuNzUsIDAuMTUsIHRoaXMuZ3Jvd3RoU3RhdGUpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBTbGlkZUludGVyZmFjZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9zbGlkZS1pbnRlcmZhY2VcIjtcbmltcG9ydCBSZW5kZXJlciBmcm9tIFwiLi4vY29yZS9yZW5kZXJlclwiO1xuaW1wb3J0IFV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbFwiO1xuaW1wb3J0IFZlY3RvciBmcm9tIFwiY29yZS92ZWN0b3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGl0bGVTY3JlZW5Mb2FkU2xpZGUgaW1wbGVtZW50cyBTbGlkZUludGVyZmFjZSB7XG4gICAgbXVzaWM6IEhUTUxBdWRpb0VsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHRoaXMubXVzaWMgPSBuZXcgQXVkaW8oJ2F1ZGlvLzIxMDEwN2JsdW50MTY0Lm9nZycpO1xuICAgICAgICB0aGlzLm11c2ljLmxvb3AgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlbmRlciAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyMxMTExMTEnO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgcmVuZGVyZXIud2lkdGgsIHJlbmRlcmVyLmhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNmM2JjM2MnO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjdHguZm9udCA9IGAkezIwICogMX1weCBcIkNvdXJpZXIgTmV3XCJgO1xuXG4gICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IFV0aWwubGlnaHRlbkRhcmtlbkNvbG9yKFwiI2YzYmMzY1wiLCAyMCk7XG4gICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDc7XG4gICAgICAgIFxuICAgICAgICBjdHguZmlsbFRleHQoXCJDbGljayB0byBsb2FkXCIudG9VcHBlckNhc2UoKS5zcGxpdCgnJykuam9pbignICcpLCByZW5kZXJlci53aWR0aC8yLCByZW5kZXJlci5oZWlnaHQvMik7XG5cbiAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAwO1xuICAgIH1cblxuICAgIHVwZGF0ZSAoZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naWNcbiAgICB9XG5cbiAgICBvbkNsaWNrIChwb3M6IFZlY3Rvcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5tdXNpYy5wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBTbGlkZUludGVyZmFjZSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9zbGlkZS1pbnRlcmZhY2VcIjtcbmltcG9ydCBSZW5kZXJlciBmcm9tIFwiLi4vY29yZS9yZW5kZXJlclwiO1xuaW1wb3J0IFV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbFwiO1xuaW1wb3J0IFZlY3RvciBmcm9tIFwiLi4vY29yZS92ZWN0b3JcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGl0bGVTY3JlZW5Mb2dvU2xpZGUgaW1wbGVtZW50cyBTbGlkZUludGVyZmFjZSB7XG5cbiAgICBwcml2YXRlIF9sb2dvOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgJyBfXyAgICAgX18gICAgIF9fICBfXyAgICAgX19fX19fICAgICBfX19fX18gICAgIF9fX19fXyAgICAgIF9fX19fXyAgIF9fX19fXyAgICAgX19fX19fICAgICBfXyAgICBfXyAgICAgX19fX19fICAgICBfX19fX18gICAgJyxcbiAgICAgICAgJy9cXFxcIFxcXFwgIF8gXFxcXCBcXFxcICAgL1xcXFwgXFxcXF9cXFxcIFxcXFwgICAvXFxcXCAgX19fXFxcXCAgIC9cXFxcICBfXyBcXFxcICAgL1xcXFxfXyAgX1xcXFwgICAgL1xcXFwgIF9fX1xcXFwgL1xcXFwgIF9fIFxcXFwgICAvXFxcXCAgPT0gXFxcXCAgIC9cXFxcIFwiLS4vICBcXFxcICAgL1xcXFwgIF9fX1xcXFwgICAvXFxcXCAgPT0gXFxcXCAgICcsXG4gICAgICAgICdcXFxcIFxcXFwgXFxcXC8gXCIuXFxcXCBcXFxcICBcXFxcIFxcXFwgIF9fIFxcXFwgIFxcXFwgXFxcXCAgX19cXFxcICAgXFxcXCBcXFxcICBfXyBcXFxcICBcXFxcL18vXFxcXCBcXFxcLyAgICBcXFxcIFxcXFwgIF9fXFxcXCBcXFxcIFxcXFwgIF9fIFxcXFwgIFxcXFwgXFxcXCAgX188ICAgXFxcXCBcXFxcIFxcXFwtLi9cXFxcIFxcXFwgIFxcXFwgXFxcXCAgX19cXFxcICAgXFxcXCBcXFxcICBfXzwgICAnLFxuICAgICAgICAnIFxcXFwgXFxcXF9fL1wiLn5cXFxcX1xcXFwgIFxcXFwgXFxcXF9cXFxcIFxcXFxfXFxcXCAgXFxcXCBcXFxcX19fX19cXFxcICBcXFxcIFxcXFxfXFxcXCBcXFxcX1xcXFwgICAgXFxcXCBcXFxcX1xcXFwgICAgIFxcXFwgXFxcXF9cXFxcICAgIFxcXFwgXFxcXF9cXFxcIFxcXFxfXFxcXCAgXFxcXCBcXFxcX1xcXFwgXFxcXF9cXFxcICBcXFxcIFxcXFxfXFxcXCBcXFxcIFxcXFxfXFxcXCAgXFxcXCBcXFxcX19fX19cXFxcICBcXFxcIFxcXFxfXFxcXCBcXFxcX1xcXFwgJyxcbiAgICAgICAgJyAgXFxcXC9fLyAgIFxcXFwvXy8gICBcXFxcL18vXFxcXC9fLyAgIFxcXFwvX19fX18vICAgXFxcXC9fL1xcXFwvXy8gICAgIFxcXFwvXy8gICAgICBcXFxcL18vICAgICBcXFxcL18vXFxcXC9fLyAgIFxcXFwvXy8gL18vICAgXFxcXC9fLyAgXFxcXC9fLyAgIFxcXFwvX19fX18vICAgXFxcXC9fLyAvXy8gJ1xuICAgIF07XG5cbiAgICBwcml2YXRlIF9kZXNjcmlwdGlvbjogc3RyaW5nW10gPSBbXG4gICAgICAgIFwiUGxhbnQgd2hlYXQgc2VlZHMsIGhhcnZlc3QgY3JvcHMgYW5kIHNlbGwgdGhlbS5cIixcbiAgICAgICAgXCJcIixcbiAgICAgICAgXCJBdm9pZCByb2JvdCBhdHRhY2tzIGF0IGFsbCBjb3N0cy5cIlxuICAgIF1cblxuICAgIHByaXZhdGUgX2NyZWRpdHM6IHN0cmluZyBbXSA9IFtcbiAgICAgICAgXCJQcm9ncmFtbWluZyBieSBBbGV4YW5kZXIgUm9pZGwgYW5kIEp1bGlhbiBBcm5vbGRcIixcbiAgICAgICAgXCJNdXNpYyBieSBKdWxpYW4gQXJub2xkXCJcbiAgICBdO1xuXG4gICAgcmVuZGVyIChyZW5kZXJlcjogUmVuZGVyZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxvbmdlc3RMaW5lV2lkdGggPSB0aGlzLl9sb2dvLnJlZHVjZSgoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhLmxlbmd0aCA+IGIubGVuZ3RoID8gYSA6IGI7XG4gICAgICAgIH0pLmxlbmd0aDtcblxuICAgICAgICBjb25zdCB0YXJnZXRMb2dvV2lkdGggPSAwLjc1O1xuICAgICAgICBsZXQgZm9udFNpemUgPSAocmVuZGVyZXIud2lkdGggLyAoMjAgKiBsb25nZXN0TGluZVdpZHRoKSAqIDEuNjUpICogdGFyZ2V0TG9nb1dpZHRoO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzExMTExMSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCByZW5kZXJlci53aWR0aCwgcmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI2YzYmMzYyc7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGN0eC5mb250ID0gYCR7MjAgKiBmb250U2l6ZX1weCBcIkNvdXJpZXIgTmV3XCJgO1xuXG4gICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IFV0aWwubGlnaHRlbkRhcmtlbkNvbG9yKFwiI2YzYmMzY1wiLCAyMCk7XG4gICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDc7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB5U2hpZnQgPSBNYXRoLnNpbigoRGF0ZS5ub3coKSAvIDEwMDApICUgNCkgKiAyMDtcbiAgICAgICAgZm9yIChsZXQgbGluZSA9IDA7IGxpbmUgPCB0aGlzLl9sb2dvLmxlbmd0aDsgbGluZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lT2Zmc2V0ID0gMjAgKiBmb250U2l6ZSAqIChsaW5lIC0gdGhpcy5fbG9nby5sZW5ndGgpO1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuX2xvZ29bbGluZV0sIHJlbmRlcmVyLndpZHRoLzIsIHJlbmRlcmVyLmhlaWdodC8yICsgbGluZU9mZnNldCArIHlTaGlmdClcbiAgICAgICAgfVxuXG4gICAgICAgIGZvbnRTaXplID0gMjA7XG5cbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICd0b3AnO1xuICAgICAgICBjdHguZm9udCA9IGAke2ZvbnRTaXplfXB4IFwiQ291cmllciBOZXdcImA7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBkTGluZSA9IDA7IGRMaW5lIDwgdGhpcy5fZGVzY3JpcHRpb24ubGVuZ3RoOyBkTGluZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbk9mZnNldCA9IDEuNSAqIGZvbnRTaXplICogKGRMaW5lICsgMyk7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5fZGVzY3JpcHRpb25bZExpbmVdLCByZW5kZXJlci53aWR0aC8yLCByZW5kZXJlci5oZWlnaHQvMiArIGRlc2NyaXB0aW9uT2Zmc2V0KVxuICAgICAgICB9XG5cbiAgICAgICAgZm9udFNpemUgPSAxNTtcblxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggXCJDb3VyaWVyIE5ld1wiYDtcbiAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSA1O1xuICAgICAgICBcbiAgICAgICAgZm9yIChsZXQgY0xpbmUgPSAwOyBjTGluZSA8IHRoaXMuX2NyZWRpdHMubGVuZ3RoOyBjTGluZSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbk9mZnNldCA9IDEuNSAqIGZvbnRTaXplICogKGNMaW5lKTtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLl9jcmVkaXRzW2NMaW5lXSwgcmVuZGVyZXIud2lkdGgvMiwgcmVuZGVyZXIuaGVpZ2h0IC0gKDEuNSAqIDMgKiBmb250U2l6ZSkgKyBkZXNjcmlwdGlvbk9mZnNldClcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5zaGFkb3dCbHVyID0gMDtcbiAgICB9XG5cbiAgICB1cGRhdGUgKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGxvZ2ljXG4gICAgfVxuXG4gICAgb25DbGljayAocG9zOiBWZWN0b3IpOiB2b2lkIHtcbiAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGxvZ2ljXG4gICAgfVxufSIsImltcG9ydCBSZW5kZXJlciBmcm9tIFwiLi4vY29yZS9yZW5kZXJlclwiO1xuaW1wb3J0IFNsaWRlSW50ZXJmYWNlIGZyb20gXCIuLi9pbnRlcmZhY2VzL3NsaWRlLWludGVyZmFjZVwiO1xuaW1wb3J0IFRpdGxlU2NyZWVuTG9nb1NsaWRlIGZyb20gXCIuL3RpdGxlLXNjcmVlbi1sb2dvLXNsaWRlXCI7XG5pbXBvcnQgVmVjdG9yIGZyb20gXCIuLi9jb3JlL3ZlY3RvclwiO1xuaW1wb3J0IFRpdGxlU2NyZWVuTG9hZFNsaWRlIGZyb20gXCIuL3RpdGxlLXNjcmVlbi1sb2FkXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpdGxlU2NyZWVuIHtcbiAgICBwcml2YXRlIF9oaWRkZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zbGlkZUlkOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3NsaWRlczogU2xpZGVJbnRlcmZhY2VbXSA9IFtcbiAgICAgICAgbmV3IFRpdGxlU2NyZWVuTG9hZFNsaWRlKCksXG4gICAgICAgIG5ldyBUaXRsZVNjcmVlbkxvZ29TbGlkZSgpXG4gICAgXTtcbiAgICBwcml2YXRlIF9jbGlja2VkQXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG4gICAgZ2V0IGhpZGRlbiAoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47XG4gICAgfVxuXG4gICAgc2V0IGhpZGRlbiAoaGlkZGVuOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2hpZGRlbiA9IGhpZGRlbjtcbiAgICB9XG5cbiAgICBwdWJsaWMgb25DbGljayAocG9zOiBWZWN0b3IpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NsaWNrZWRBdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY2xpY2tlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NsaWRlc1t0aGlzLl9zbGlkZUlkXS5vbkNsaWNrKHBvcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3NsaWRlSWQgKyAxID4gdGhpcy5fc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2xpZGUgb2YgdGhpcy5fc2xpZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlIGluc3RhbmNlb2YgVGl0bGVTY3JlZW5Mb2FkU2xpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUubXVzaWMudm9sdW1lID0gMC4yNTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2xpZGVJZCsrO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUgKGRlbHRhOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX3NsaWRlc1t0aGlzLl9zbGlkZUlkXSkge1xuICAgICAgICAgICAgdGhpcy5fc2xpZGVzW3RoaXMuX3NsaWRlSWRdLnVwZGF0ZShkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHVibGljIHJlbmRlciAocmVuZGVyZXI6IFJlbmRlcmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5faGlkZGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fc2xpZGVzW3RoaXMuX3NsaWRlSWRdKSB7XG4gICAgICAgICAgICB0aGlzLl9zbGlkZXNbdGhpcy5fc2xpZGVJZF0ucmVuZGVyKHJlbmRlcmVyLCBjdHgpO1xuICAgICAgICB9XG4gICAgfVxufSJdfQ=="}